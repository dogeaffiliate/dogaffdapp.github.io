import{_ as re}from"./index-8dfb0143.js";import{b as ae}from"./index-4eee43ae.js";const ie=Symbol(),Q=Object.getPrototypeOf,z=new WeakMap,le=e=>e&&(z.has(e)?z.get(e):Q(e)===Object.prototype||Q(e)===Array.prototype),ce=e=>le(e)&&e[ie]||null,X=(e,t=!0)=>{z.set(e,t)},K=e=>typeof e=="object"&&e!==null,L=new WeakMap,U=new WeakSet,de=(e=Object.is,t=(n,m)=>new Proxy(n,m),s=n=>K(n)&&!U.has(n)&&(Array.isArray(n)||!(Symbol.iterator in n))&&!(n instanceof WeakMap)&&!(n instanceof WeakSet)&&!(n instanceof Error)&&!(n instanceof Number)&&!(n instanceof Date)&&!(n instanceof String)&&!(n instanceof RegExp)&&!(n instanceof ArrayBuffer),a=n=>{switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:throw n}},c=new WeakMap,f=(n,m,A=a)=>{const b=c.get(n);if((b==null?void 0:b[0])===m)return b[1];const p=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n));return X(p,!0),c.set(n,[m,p]),Reflect.ownKeys(n).forEach(v=>{const C=Reflect.get(n,v);U.has(C)?(X(C,!1),p[v]=C):C instanceof Promise?Object.defineProperty(p,v,{get(){return A(C)}}):L.has(C)?p[v]=ue(C,A):p[v]=C}),Object.freeze(p)},w=new WeakMap,E=[1,1],q=n=>{if(!K(n))throw new Error("object required");const m=w.get(n);if(m)return m;let A=E[0];const b=new Set,p=(i,r=++E[0])=>{A!==r&&(A=r,b.forEach(o=>o(i,r)))};let v=E[1];const C=(i=++E[1])=>(v!==i&&!b.size&&(v=i,g.forEach(([r])=>{const o=r[1](i);o>A&&(A=o)})),A),J=i=>(r,o)=>{const u=[...r];u[1]=[i,...u[1]],p(u,o)},g=new Map,ne=(i,r)=>{if(({VITE_APP_NAME:"Doge Affiliate Dapp",VITE_CHAIN:"bsc",VITE_TOKEN_ADDRESS:"0x5f7b5f7640009f78b9365d3423397d325d850f29",VITE_REFERER_ADDRESS:"0xF8d76927Afb380665C03B4541e395843C45915FA",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&g.has(i))throw new Error("prop listener already exists");if(b.size){const o=r[3](J(i));g.set(i,[r,o])}else g.set(i,[r])},Z=i=>{var r;const o=g.get(i);o&&(g.delete(i),(r=o[1])==null||r.call(o))},se=i=>(b.add(i),b.size===1&&g.forEach(([o,u],S)=>{if(({VITE_APP_NAME:"Doge Affiliate Dapp",VITE_CHAIN:"bsc",VITE_TOKEN_ADDRESS:"0x5f7b5f7640009f78b9365d3423397d325d850f29",VITE_REFERER_ADDRESS:"0xF8d76927Afb380665C03B4541e395843C45915FA",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&u)throw new Error("remove already exists");const F=o[3](J(S));g.set(S,[o,F])}),()=>{b.delete(i),b.size===0&&g.forEach(([o,u],S)=>{u&&(u(),g.set(S,[o]))})}),$=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n)),T=t($,{deleteProperty(i,r){const o=Reflect.get(i,r);Z(r);const u=Reflect.deleteProperty(i,r);return u&&p(["delete",[r],o]),u},set(i,r,o,u){var S;const F=Reflect.has(i,r),G=Reflect.get(i,r,u);if(F&&e(G,o))return!0;Z(r),K(o)&&(o=ce(o)||o);let M=o;if(!((S=Object.getOwnPropertyDescriptor(i,r))!=null&&S.set))if(o instanceof Promise)o.then(y=>{o.status="fulfilled",o.value=y,p(["resolve",[r],y])}).catch(y=>{o.status="rejected",o.reason=y,p(["reject",[r],y])});else{!L.has(o)&&s(o)&&(M=O(o));const y=!U.has(M)&&L.get(M);y&&ne(r,y)}return Reflect.set(i,r,M,u),p(["set",[r],o,G]),!0}});w.set(n,T);const oe=[$,C,f,se];return L.set(T,oe),Reflect.ownKeys(n).forEach(i=>{const r=Object.getOwnPropertyDescriptor(n,i);r.get||r.set?Object.defineProperty($,i,r):T[i]=n[i]}),T})=>[q,L,U,e,t,s,a,c,f,w,E],[fe]=de();function O(e={}){return fe(e)}function j(e,t,s){const a=L.get(e);({VITE_APP_NAME:"Doge Affiliate Dapp",VITE_CHAIN:"bsc",VITE_TOKEN_ADDRESS:"0x5f7b5f7640009f78b9365d3423397d325d850f29",VITE_REFERER_ADDRESS:"0xF8d76927Afb380665C03B4541e395843C45915FA",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!a&&console.warn("Please use proxy object");let c;const f=[],w=a[3];let E=!1;const n=w(m=>{if(f.push(m),s){t(f.splice(0));return}c||(c=Promise.resolve().then(()=>{c=void 0,E&&t(f.splice(0))}))});return E=!0,()=>{E=!1,n()}}function ue(e,t){const s=L.get(e);({VITE_APP_NAME:"Doge Affiliate Dapp",VITE_CHAIN:"bsc",VITE_TOKEN_ADDRESS:"0x5f7b5f7640009f78b9365d3423397d325d850f29",VITE_REFERER_ADDRESS:"0xF8d76927Afb380665C03B4541e395843C45915FA",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!s&&console.warn("Please use proxy object");const[a,c,f]=s;return f(a,c(),t)}const l=O({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1,isStandalone:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,walletConnectVersion:1}),d={state:l,subscribe(e){return j(l,()=>e(l))},setChains(e){l.chains=e},setStandaloneChains(e){l.standaloneChains=e},setStandaloneUri(e){l.standaloneUri=e},getSelectedChain(){const e=H.client().getNetwork().chain;return e&&(l.selectedChain=e),l.selectedChain},setSelectedChain(e){l.selectedChain=e},setIsStandalone(e){l.isStandalone=e},setIsCustomDesktop(e){l.isCustomDesktop=e},setIsCustomMobile(e){l.isCustomMobile=e},getAccount(){const e=H.client().getAccount();l.address=e.address,l.isConnected=e.isConnected},setAddress(e){l.address=e},setIsConnected(e){l.isConnected=e},setProfileName(e){l.profileName=e},setProfileAvatar(e){l.profileAvatar=e},setProfileLoading(e){l.profileLoading=e},setBalanceLoading(e){l.balanceLoading=e},setBalance(e){l.balance=e},setIsDataLoaded(e){l.isDataLoaded=e},setIsUiLoaded(e){l.isUiLoaded=e},setWalletConnectVersion(e){l.walletConnectVersion=e},resetEnsProfile(){l.profileName=void 0,l.profileAvatar=void 0},resetBalance(){l.balance=void 0},resetAccount(){l.address=void 0,l.isConnected=!1,d.resetEnsProfile(),d.resetBalance()}},W=O({initialized:!1,ethereumClient:void 0}),H={setEthereumClient(e){!W.initialized&&e&&(W.ethereumClient=e,d.setChains(e.chains),W.initialized=!0)},client(){if(W.ethereumClient)return W.ethereumClient;throw new Error("ClientCtrl has no client set")}},_={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",isMobile(){return typeof window<"u"?Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return _.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isEmptyObject(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.getOwnPropertyNames(e).length===0&&Object.getOwnPropertySymbols(e).length===0},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,s){if(_.isHttpUrl(e))return this.formatUniversalUrl(e,t,s);let a=e;a.includes("://")||(a=e.replaceAll("/","").replaceAll(":",""),a=`${a}://`),this.setWalletConnectDeepLink(a,s);const c=encodeURIComponent(t);return`${a}wc?uri=${c}`},formatUniversalUrl(e,t,s){if(!_.isHttpUrl(e))return this.formatNativeUrl(e,t,s);let a=e;e.endsWith("/")&&(a=e.slice(0,-1)),this.setWalletConnectDeepLink(a,s);const c=encodeURIComponent(t);return`${a}/wc?uri=${c}`},async wait(e){return new Promise(t=>{setTimeout(t,e)})},openHref(e,t="_self"){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){localStorage.setItem(_.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))},setWalletConnectAndroidDeepLink(e){const[t]=e.split("?");localStorage.setItem(_.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(_.WALLETCONNECT_DEEPLINK_CHOICE)},isNull(e){return e===null}};function pe(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const N=O({projectId:"",themeMode:pe()?"dark":"light",themeColor:"default",themeBackground:_.isMobile()?"themeColor":"gradient",themeZIndex:89,mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableNetworkView:!1,enableAccountView:!0,defaultChain:void 0,explorerAllowList:void 0,explorerDenyList:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),k={state:N,subscribe(e){return j(N,()=>e(N))},setConfig(e){var t,s,a,c;if(d.setStandaloneChains(e.standaloneChains),d.setIsStandalone(Boolean((t=e.standaloneChains)==null?void 0:t.length)||Boolean(e.enableStandaloneMode)),d.setIsCustomMobile(Boolean((s=e.mobileWallets)==null?void 0:s.length)),d.setIsCustomDesktop(Boolean((a=e.desktopWallets)==null?void 0:a.length)),d.setWalletConnectVersion((c=e.walletConnectVersion)!=null?c:1),e.defaultChain)d.setSelectedChain(e.defaultChain);else if(!d.state.isStandalone){const f=H.client().getDefaultChain();d.setSelectedChain(f)}Object.assign(N,e)},setThemeConfig(e){Object.assign(N,e)}},Y="https://explorer-api.walletconnect.com";function he(e){const t=Object.fromEntries(Object.entries(e).filter(([s,a])=>typeof a<"u"&&a!==null&&a!=="").map(([s,a])=>[s,a.toString()]));return new URLSearchParams(t).toString()}const V={async fetchWallets(e,t){const s=he(t),a=`${Y}/v3/wallets?projectId=${e}&${s}`;return(await fetch(a)).json()},formatImageUrl(e,t){return`${Y}/v3/logo/lg/${t}?projectId=${e}`}},D=O({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},previewWallets:[],recomendedWallets:[]});function B(){const{projectId:e}=k.state;if(!e)throw new Error("projectId is required to work with explorer api");return e}const ye={state:D,async getPreviewWallets(e){const{listings:t}=await V.fetchWallets(B(),e);return D.previewWallets=Object.values(t),D.previewWallets},async getRecomendedWallets(){const{listings:e}=await V.fetchWallets(B(),{page:1,entries:6});D.recomendedWallets=Object.values(e)},async getPaginatedWallets(e){const{page:t,search:s}=e,{listings:a,total:c}=await V.fetchWallets(B(),e),f=Object.values(a),w=s?"search":"wallets";return D[w]={listings:[...D[w].listings,...f],total:c,page:t??1},{listings:f,total:c}},getImageUrl(e){return V.formatImageUrl(B(),e)},resetSearch(){D.search={listings:[],total:0,page:1}}},h=O({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),R={state:h,subscribe(e){return j(h,()=>e(h))},push(e,t){e!==h.view&&(h.view=e,t&&(h.data=t),h.history.push(e))},replace(e){h.view=e,h.history=[e]},goBack(){if(h.history.length>1){h.history.pop();const[e]=h.history.slice(-1);h.view=e}}},P=O({open:!1}),x={state:P,subscribe(e){return j(P,()=>e(P))},async open(e){return new Promise(t=>{const{isConnected:s,isStandalone:a,isUiLoaded:c,isDataLoaded:f}=d.state,{enableNetworkView:w}=k.state;if(a?(d.setStandaloneUri(e==null?void 0:e.uri),d.setStandaloneChains(e==null?void 0:e.standaloneChains),R.replace("ConnectWallet")):e!=null&&e.route?R.replace(e.route):s?R.replace("Account"):w?R.replace("SelectNetwork"):R.replace("ConnectWallet"),c&&f)P.open=!0,t();else{const E=setInterval(()=>{d.state.isUiLoaded&&d.state.isDataLoaded&&(clearInterval(E),P.open=!0,t())},200)}})},close(){P.open=!1}},I=O({open:!1,message:"",variant:"success"}),Oe={state:I,subscribe(e){return j(I,()=>e(I))},openToast(e,t){I.open=!0,I.message=e,I.variant=t},closeToast(){I.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=ae.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}));var Ee=Object.defineProperty,ee=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,te=(e,t,s)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ce=(e,t)=>{for(var s in t||(t={}))be.call(t,s)&&te(e,s,t[s]);if(ee)for(var s of ee(t))we.call(t,s)&&te(e,s,t[s]);return e};class ge{constructor(t){this.openModal=x.open,this.closeModal=x.close,this.subscribeModal=x.subscribe,this.setTheme=k.setThemeConfig,k.setConfig(Ce({enableStandaloneMode:!0},t)),this.initUi()}async initUi(){if(typeof window<"u"){await re(()=>import("./index-ed8b392c.js"),["assets/index-ed8b392c.js","assets/dijkstra-59d11638.js","assets/index-8dfb0143.js","assets/index-38573e2f.css","assets/index-4eee43ae.js","assets/index-3aa13386.js"]);const t=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",t),d.setIsUiLoaded(!0)}}}const Se=Object.freeze(Object.defineProperty({__proto__:null,Web3Modal:ge},Symbol.toStringTag,{value:"Module"}));export{ye as A,H as L,Oe as P,k as W,d as a,_ as d,R as g,Se as i,x as k};
