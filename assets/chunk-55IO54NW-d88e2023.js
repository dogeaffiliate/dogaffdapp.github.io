import{E as Vn}from"./index-1f934f62.js";const nc="logger/5.7.0";let Uo=!1,zo=!1;const Ai={debug:1,default:2,info:2,warning:3,error:4,off:5};let jo=Ai.default,ys=null;function ic(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const Go=ic();var Ii;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Ii||(Ii={}));var Pt;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Pt||(Pt={}));const qo="0123456789abcdef";class T{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();Ai[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(jo>Ai[n])&&console.log.apply(console,t)}debug(...e){this._log(T.levels.DEBUG,e)}info(...e){this._log(T.levels.INFO,e)}warn(...e){this._log(T.levels.WARNING,e)}makeError(e,t,n){if(zo)return this.makeError("censored error",t,{});t||(t=T.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const l=n[u];try{if(l instanceof Uint8Array){let d="";for(let p=0;p<l.length;p++)d+=qo[l[p]>>4],d+=qo[l[p]&15];i.push(u+"=Uint8Array(0x"+d+")")}else i.push(u+"="+JSON.stringify(l))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case Pt.NUMERIC_FAULT:{o="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":o+="-"+u;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Pt.CALL_EXCEPTION:case Pt.INSUFFICIENT_FUNDS:case Pt.MISSING_NEW:case Pt.NONCE_EXPIRED:case Pt.REPLACEMENT_UNDERPRICED:case Pt.TRANSACTION_REPLACED:case Pt.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(n).forEach(function(u){a[u]=n[u]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,T.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){Go&&this.throwError("platform missing String.prototype.normalize",T.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Go})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,T.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,T.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,T.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,T.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",T.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",T.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",T.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return ys||(ys=new T(nc)),ys}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",T.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Uo){if(!e)return;this.globalLogger().throwError("error censorship permanent",T.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}zo=!!e,Uo=!!t}static setLogLevel(e){const t=Ai[e.toLowerCase()];if(t==null){T.globalLogger().warn("invalid log level - "+e);return}jo=t}static from(e){return new T(e)}}T.errors=Pt;T.levels=Ii;const sc=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return Pt},get LogLevel(){return Ii},Logger:T},Symbol.toStringTag,{value:"Module"})),oc="bytes/5.7.0",Ye=new T(oc);function Za(r){return!!r.toHexString}function mn(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return mn(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function oi(r){return ne(r)&&!(r.length%2)||tn(r)}function Ho(r){return typeof r=="number"&&r==r&&r%1===0}function tn(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Ho(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Ho(t)||t<0||t>=256)return!1}return!0}function z(r,e){if(e||(e={}),typeof r=="number"){Ye.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),mn(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Za(r)&&(r=r.toHexString()),ne(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Ye.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return mn(new Uint8Array(n))}return tn(r)?mn(new Uint8Array(r)):Ye.throwArgumentError("invalid arrayify value","value",r)}function xe(r){const e=r.map(i=>z(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),mn(n)}function Kt(r){let e=z(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function qn(r,e){r=z(r),r.length>e&&Ye.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),mn(t)}function ne(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const vs="0123456789abcdef";function q(r,e){if(e||(e={}),typeof r=="number"){Ye.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=vs[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Za(r))return r.toHexString();if(ne(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Ye.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(tn(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=vs[(i&240)>>4]+vs[i&15]}return t}return Ye.throwArgumentError("invalid hexlify value","value",r)}function Vt(r){if(typeof r!="string")r=q(r);else if(!ne(r)||r.length%2)return null;return(r.length-2)/2}function rt(r,e,t){return typeof r!="string"?r=q(r):(!ne(r)||r.length%2)&&Ye.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function xt(r){let e="0x";return r.forEach(t=>{e+=q(t).substring(2)}),e}function Ki(r){const e=e0(q(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function e0(r){typeof r!="string"&&(r=q(r)),ne(r)||Ye.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function de(r,e){for(typeof r!="string"?r=q(r):ne(r)||Ye.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Ye.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function rn(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(oi(r)){let t=z(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=q(t.slice(0,32)),e.s=q(t.slice(32,64))):t.length===65?(e.r=q(t.slice(0,32)),e.s=q(t.slice(32,64)),e.v=t[64]):Ye.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ye.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=q(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=qn(z(e._vs),32);e._vs=q(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Ye.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const o=q(i);e.s==null?e.s=o:e.s!==o&&Ye.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Ye.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Ye.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!ne(e.r)?Ye.throwArgumentError("signature missing or invalid r","signature",r):e.r=de(e.r,32),e.s==null||!ne(e.s)?Ye.throwArgumentError("signature missing or invalid s","signature",r):e.s=de(e.s,32);const t=z(e.s);t[0]>=128&&Ye.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=q(t);e._vs&&(ne(e._vs)||Ye.throwArgumentError("signature invalid _vs","signature",r),e._vs=de(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Ye.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function zs(r){return r=rn(r),q(xe([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const ac=Object.freeze(Object.defineProperty({__proto__:null,arrayify:z,concat:xe,hexConcat:xt,hexDataLength:Vt,hexDataSlice:rt,hexStripZeros:e0,hexValue:Ki,hexZeroPad:de,hexlify:q,isBytes:tn,isBytesLike:oi,isHexString:ne,joinSignature:zs,splitSignature:rn,stripZeros:Kt,zeroPad:qn},Symbol.toStringTag,{value:"Module"}));var vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Ze(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var js={},fc={get exports(){return js},set exports(r){js=r}};const cc={},uc=Object.freeze(Object.defineProperty({__proto__:null,default:cc},Symbol.toStringTag,{value:"Module"})),lc=Ze(uc);(function(r){(function(e,t){function n(w,f){if(!w)throw new Error(f||"Assertion failed")}function i(w,f){w.super_=f;var x=function(){};x.prototype=f.prototype,w.prototype=new x,w.prototype.constructor=w}function s(w,f,x){if(s.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((f==="le"||f==="be")&&(x=f,f=10),this._init(w||0,f||10,x||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=lc.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,x){return f.cmp(x)>0?f:x},s.min=function(f,x){return f.cmp(x)<0?f:x},s.prototype._init=function(f,x,g){if(typeof f=="number")return this._initNumber(f,x,g);if(typeof f=="object")return this._initArray(f,x,g);x==="hex"&&(x=16),n(x===(x|0)&&x>=2&&x<=36),f=f.toString().replace(/\s+/g,"");var v=0;f[0]==="-"&&(v++,this.negative=1),v<f.length&&(x===16?this._parseHex(f,v,g):(this._parseBase(f,x,v),g==="le"&&this._initArray(this.toArray(),x,g)))},s.prototype._initNumber=function(f,x,g){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),x,g)},s.prototype._initArray=function(f,x,g){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,C,R=0;if(g==="be")for(v=f.length-1,_=0;v>=0;v-=3)C=f[v]|f[v-1]<<8|f[v-2]<<16,this.words[_]|=C<<R&67108863,this.words[_+1]=C>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);else if(g==="le")for(v=0,_=0;v<f.length;v+=3)C=f[v]|f[v+1]<<8|f[v+2]<<16,this.words[_]|=C<<R&67108863,this.words[_+1]=C>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);return this._strip()};function a(w,f){var x=w.charCodeAt(f);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;n(!1,"Invalid character in "+w)}function u(w,f,x){var g=a(w,x);return x-1>=f&&(g|=a(w,x-1)<<4),g}s.prototype._parseHex=function(f,x,g){this.length=Math.ceil((f.length-x)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _=0,C=0,R;if(g==="be")for(v=f.length-1;v>=x;v-=2)R=u(f,x,v)<<_,this.words[C]|=R&67108863,_>=18?(_-=18,C+=1,this.words[C]|=R>>>26):_+=8;else{var b=f.length-x;for(v=b%2===0?x+1:x;v<f.length;v+=2)R=u(f,x,v)<<_,this.words[C]|=R&67108863,_>=18?(_-=18,C+=1,this.words[C]|=R>>>26):_+=8}this._strip()};function l(w,f,x,g){for(var v=0,_=0,C=Math.min(w.length,x),R=f;R<C;R++){var b=w.charCodeAt(R)-48;v*=g,b>=49?_=b-49+10:b>=17?_=b-17+10:_=b,n(b>=0&&_<g,"Invalid character"),v+=_}return v}s.prototype._parseBase=function(f,x,g){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=x)v++;v--,_=_/x|0;for(var C=f.length-g,R=C%v,b=Math.min(C,C-R)+g,c=0,m=g;m<b;m+=v)c=l(f,m,m+v,x),this.imuln(_),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(R!==0){var N=1;for(c=l(f,m,f.length,x),m=0;m<R;m++)N*=x;this.imuln(N),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var x=0;x<this.length;x++)f.words[x]=this.words[x];f.length=this.length,f.negative=this.negative,f.red=this.red};function d(w,f){w.words=f.words,w.length=f.length,w.negative=f.negative,w.red=f.red}if(s.prototype._move=function(f){d(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,x){f=f||10,x=x|0||1;var g;if(f===16||f==="hex"){g="";for(var v=0,_=0,C=0;C<this.length;C++){var R=this.words[C],b=((R<<v|_)&16777215).toString(16);_=R>>>24-v&16777215,v+=2,v>=26&&(v-=26,C--),_!==0||C!==this.length-1?g=A[6-b.length]+b+g:g=b+g}for(_!==0&&(g=_.toString(16)+g);g.length%x!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(f===(f|0)&&f>=2&&f<=36){var c=E[f],m=P[f];g="";var N=this.clone();for(N.negative=0;!N.isZero();){var h=N.modrn(m).toString(f);N=N.idivn(m),N.isZero()?g=h+g:g=A[c-h.length]+h+g}for(this.isZero()&&(g="0"+g);g.length%x!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,x){return this.toArrayLike(o,f,x)}),s.prototype.toArray=function(f,x){return this.toArrayLike(Array,f,x)};var S=function(f,x){return f.allocUnsafe?f.allocUnsafe(x):new f(x)};s.prototype.toArrayLike=function(f,x,g){this._strip();var v=this.byteLength(),_=g||Math.max(1,v);n(v<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0");var C=S(f,_),R=x==="le"?"LE":"BE";return this["_toArrayLike"+R](C,v),C},s.prototype._toArrayLikeLE=function(f,x){for(var g=0,v=0,_=0,C=0;_<this.length;_++){var R=this.words[_]<<C|v;f[g++]=R&255,g<f.length&&(f[g++]=R>>8&255),g<f.length&&(f[g++]=R>>16&255),C===6?(g<f.length&&(f[g++]=R>>24&255),v=0,C=0):(v=R>>>24,C+=2)}if(g<f.length)for(f[g++]=v;g<f.length;)f[g++]=0},s.prototype._toArrayLikeBE=function(f,x){for(var g=f.length-1,v=0,_=0,C=0;_<this.length;_++){var R=this.words[_]<<C|v;f[g--]=R&255,g>=0&&(f[g--]=R>>8&255),g>=0&&(f[g--]=R>>16&255),C===6?(g>=0&&(f[g--]=R>>24&255),v=0,C=0):(v=R>>>24,C+=2)}if(g>=0)for(f[g--]=v;g>=0;)f[g--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var x=f,g=0;return x>=4096&&(g+=13,x>>>=13),x>=64&&(g+=7,x>>>=7),x>=8&&(g+=4,x>>>=4),x>=2&&(g+=2,x>>>=2),g+x},s.prototype._zeroBits=function(f){if(f===0)return 26;var x=f,g=0;return x&8191||(g+=13,x>>>=13),x&127||(g+=7,x>>>=7),x&15||(g+=4,x>>>=4),x&3||(g+=2,x>>>=2),x&1||g++,g},s.prototype.bitLength=function(){var f=this.words[this.length-1],x=this._countBits(f);return(this.length-1)*26+x};function y(w){for(var f=new Array(w.bitLength()),x=0;x<f.length;x++){var g=x/26|0,v=x%26;f[x]=w.words[g]>>>v&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,x=0;x<this.length;x++){var g=this._zeroBits(this.words[x]);if(f+=g,g!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var x=0;x<f.length;x++)this.words[x]=this.words[x]|f.words[x];return this._strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var x;this.length>f.length?x=f:x=this;for(var g=0;g<x.length;g++)this.words[g]=this.words[g]&f.words[g];return this.length=x.length,this._strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var x,g;this.length>f.length?(x=this,g=f):(x=f,g=this);for(var v=0;v<g.length;v++)this.words[v]=x.words[v]^g.words[v];if(this!==x)for(;v<x.length;v++)this.words[v]=x.words[v];return this.length=x.length,this._strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var x=Math.ceil(f/26)|0,g=f%26;this._expand(x),g>0&&x--;for(var v=0;v<x;v++)this.words[v]=~this.words[v]&67108863;return g>0&&(this.words[v]=~this.words[v]&67108863>>26-g),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,x){n(typeof f=="number"&&f>=0);var g=f/26|0,v=f%26;return this._expand(g+1),x?this.words[g]=this.words[g]|1<<v:this.words[g]=this.words[g]&~(1<<v),this._strip()},s.prototype.iadd=function(f){var x;if(this.negative!==0&&f.negative===0)return this.negative=0,x=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,x=this.isub(f),f.negative=1,x._normSign();var g,v;this.length>f.length?(g=this,v=f):(g=f,v=this);for(var _=0,C=0;C<v.length;C++)x=(g.words[C]|0)+(v.words[C]|0)+_,this.words[C]=x&67108863,_=x>>>26;for(;_!==0&&C<g.length;C++)x=(g.words[C]|0)+_,this.words[C]=x&67108863,_=x>>>26;if(this.length=g.length,_!==0)this.words[this.length]=_,this.length++;else if(g!==this)for(;C<g.length;C++)this.words[C]=g.words[C];return this},s.prototype.add=function(f){var x;return f.negative!==0&&this.negative===0?(f.negative=0,x=this.sub(f),f.negative^=1,x):f.negative===0&&this.negative!==0?(this.negative=0,x=f.sub(this),this.negative=1,x):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var x=this.iadd(f);return f.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var g=this.cmp(f);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,_;g>0?(v=this,_=f):(v=f,_=this);for(var C=0,R=0;R<_.length;R++)x=(v.words[R]|0)-(_.words[R]|0)+C,C=x>>26,this.words[R]=x&67108863;for(;C!==0&&R<v.length;R++)x=(v.words[R]|0)+C,C=x>>26,this.words[R]=x&67108863;if(C===0&&R<v.length&&v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this.length=Math.max(this.length,R),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function M(w,f,x){x.negative=f.negative^w.negative;var g=w.length+f.length|0;x.length=g,g=g-1|0;var v=w.words[0]|0,_=f.words[0]|0,C=v*_,R=C&67108863,b=C/67108864|0;x.words[0]=R;for(var c=1;c<g;c++){for(var m=b>>>26,N=b&67108863,h=Math.min(c,f.length-1),k=Math.max(0,c-w.length+1);k<=h;k++){var O=c-k|0;v=w.words[O]|0,_=f.words[k]|0,C=v*_+N,m+=C/67108864|0,N=C&67108863}x.words[c]=N|0,b=m|0}return b!==0?x.words[c]=b|0:x.length--,x._strip()}var B=function(f,x,g){var v=f.words,_=x.words,C=g.words,R=0,b,c,m,N=v[0]|0,h=N&8191,k=N>>>13,O=v[1]|0,I=O&8191,L=O>>>13,J=v[2]|0,H=J&8191,W=J>>>13,$e=v[3]|0,V=$e&8191,te=$e>>>13,kr=v[4]|0,be=kr&8191,pe=kr>>>13,Tr=v[5]|0,ge=Tr&8191,me=Tr>>>13,Nr=v[6]|0,ye=Nr&8191,ve=Nr>>>13,Rr=v[7]|0,we=Rr&8191,Ae=Rr>>>13,Ir=v[8]|0,Ee=Ir&8191,_e=Ir>>>13,Br=v[9]|0,Se=Br&8191,Pe=Br>>>13,Or=_[0]|0,Ce=Or&8191,Me=Or>>>13,Fr=_[1]|0,ke=Fr&8191,Te=Fr>>>13,Dr=_[2]|0,Ne=Dr&8191,Re=Dr>>>13,Lr=_[3]|0,Ie=Lr&8191,Be=Lr>>>13,Ur=_[4]|0,Oe=Ur&8191,Fe=Ur>>>13,zr=_[5]|0,De=zr&8191,Le=zr>>>13,jr=_[6]|0,Ue=jr&8191,ze=jr>>>13,Gr=_[7]|0,je=Gr&8191,Ge=Gr>>>13,qr=_[8]|0,qe=qr&8191,He=qr>>>13,Hr=_[9]|0,Ke=Hr&8191,We=Hr>>>13;g.negative=f.negative^x.negative,g.length=19,b=Math.imul(h,Ce),c=Math.imul(h,Me),c=c+Math.imul(k,Ce)|0,m=Math.imul(k,Me);var lr=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(lr>>>26)|0,lr&=67108863,b=Math.imul(I,Ce),c=Math.imul(I,Me),c=c+Math.imul(L,Ce)|0,m=Math.imul(L,Me),b=b+Math.imul(h,ke)|0,c=c+Math.imul(h,Te)|0,c=c+Math.imul(k,ke)|0,m=m+Math.imul(k,Te)|0;var hr=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,b=Math.imul(H,Ce),c=Math.imul(H,Me),c=c+Math.imul(W,Ce)|0,m=Math.imul(W,Me),b=b+Math.imul(I,ke)|0,c=c+Math.imul(I,Te)|0,c=c+Math.imul(L,ke)|0,m=m+Math.imul(L,Te)|0,b=b+Math.imul(h,Ne)|0,c=c+Math.imul(h,Re)|0,c=c+Math.imul(k,Ne)|0,m=m+Math.imul(k,Re)|0;var dr=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(dr>>>26)|0,dr&=67108863,b=Math.imul(V,Ce),c=Math.imul(V,Me),c=c+Math.imul(te,Ce)|0,m=Math.imul(te,Me),b=b+Math.imul(H,ke)|0,c=c+Math.imul(H,Te)|0,c=c+Math.imul(W,ke)|0,m=m+Math.imul(W,Te)|0,b=b+Math.imul(I,Ne)|0,c=c+Math.imul(I,Re)|0,c=c+Math.imul(L,Ne)|0,m=m+Math.imul(L,Re)|0,b=b+Math.imul(h,Ie)|0,c=c+Math.imul(h,Be)|0,c=c+Math.imul(k,Ie)|0,m=m+Math.imul(k,Be)|0;var xr=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(xr>>>26)|0,xr&=67108863,b=Math.imul(be,Ce),c=Math.imul(be,Me),c=c+Math.imul(pe,Ce)|0,m=Math.imul(pe,Me),b=b+Math.imul(V,ke)|0,c=c+Math.imul(V,Te)|0,c=c+Math.imul(te,ke)|0,m=m+Math.imul(te,Te)|0,b=b+Math.imul(H,Ne)|0,c=c+Math.imul(H,Re)|0,c=c+Math.imul(W,Ne)|0,m=m+Math.imul(W,Re)|0,b=b+Math.imul(I,Ie)|0,c=c+Math.imul(I,Be)|0,c=c+Math.imul(L,Ie)|0,m=m+Math.imul(L,Be)|0,b=b+Math.imul(h,Oe)|0,c=c+Math.imul(h,Fe)|0,c=c+Math.imul(k,Oe)|0,m=m+Math.imul(k,Fe)|0;var br=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(br>>>26)|0,br&=67108863,b=Math.imul(ge,Ce),c=Math.imul(ge,Me),c=c+Math.imul(me,Ce)|0,m=Math.imul(me,Me),b=b+Math.imul(be,ke)|0,c=c+Math.imul(be,Te)|0,c=c+Math.imul(pe,ke)|0,m=m+Math.imul(pe,Te)|0,b=b+Math.imul(V,Ne)|0,c=c+Math.imul(V,Re)|0,c=c+Math.imul(te,Ne)|0,m=m+Math.imul(te,Re)|0,b=b+Math.imul(H,Ie)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(W,Ie)|0,m=m+Math.imul(W,Be)|0,b=b+Math.imul(I,Oe)|0,c=c+Math.imul(I,Fe)|0,c=c+Math.imul(L,Oe)|0,m=m+Math.imul(L,Fe)|0,b=b+Math.imul(h,De)|0,c=c+Math.imul(h,Le)|0,c=c+Math.imul(k,De)|0,m=m+Math.imul(k,Le)|0;var ss=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(ss>>>26)|0,ss&=67108863,b=Math.imul(ye,Ce),c=Math.imul(ye,Me),c=c+Math.imul(ve,Ce)|0,m=Math.imul(ve,Me),b=b+Math.imul(ge,ke)|0,c=c+Math.imul(ge,Te)|0,c=c+Math.imul(me,ke)|0,m=m+Math.imul(me,Te)|0,b=b+Math.imul(be,Ne)|0,c=c+Math.imul(be,Re)|0,c=c+Math.imul(pe,Ne)|0,m=m+Math.imul(pe,Re)|0,b=b+Math.imul(V,Ie)|0,c=c+Math.imul(V,Be)|0,c=c+Math.imul(te,Ie)|0,m=m+Math.imul(te,Be)|0,b=b+Math.imul(H,Oe)|0,c=c+Math.imul(H,Fe)|0,c=c+Math.imul(W,Oe)|0,m=m+Math.imul(W,Fe)|0,b=b+Math.imul(I,De)|0,c=c+Math.imul(I,Le)|0,c=c+Math.imul(L,De)|0,m=m+Math.imul(L,Le)|0,b=b+Math.imul(h,Ue)|0,c=c+Math.imul(h,ze)|0,c=c+Math.imul(k,Ue)|0,m=m+Math.imul(k,ze)|0;var os=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(os>>>26)|0,os&=67108863,b=Math.imul(we,Ce),c=Math.imul(we,Me),c=c+Math.imul(Ae,Ce)|0,m=Math.imul(Ae,Me),b=b+Math.imul(ye,ke)|0,c=c+Math.imul(ye,Te)|0,c=c+Math.imul(ve,ke)|0,m=m+Math.imul(ve,Te)|0,b=b+Math.imul(ge,Ne)|0,c=c+Math.imul(ge,Re)|0,c=c+Math.imul(me,Ne)|0,m=m+Math.imul(me,Re)|0,b=b+Math.imul(be,Ie)|0,c=c+Math.imul(be,Be)|0,c=c+Math.imul(pe,Ie)|0,m=m+Math.imul(pe,Be)|0,b=b+Math.imul(V,Oe)|0,c=c+Math.imul(V,Fe)|0,c=c+Math.imul(te,Oe)|0,m=m+Math.imul(te,Fe)|0,b=b+Math.imul(H,De)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(W,De)|0,m=m+Math.imul(W,Le)|0,b=b+Math.imul(I,Ue)|0,c=c+Math.imul(I,ze)|0,c=c+Math.imul(L,Ue)|0,m=m+Math.imul(L,ze)|0,b=b+Math.imul(h,je)|0,c=c+Math.imul(h,Ge)|0,c=c+Math.imul(k,je)|0,m=m+Math.imul(k,Ge)|0;var as=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(as>>>26)|0,as&=67108863,b=Math.imul(Ee,Ce),c=Math.imul(Ee,Me),c=c+Math.imul(_e,Ce)|0,m=Math.imul(_e,Me),b=b+Math.imul(we,ke)|0,c=c+Math.imul(we,Te)|0,c=c+Math.imul(Ae,ke)|0,m=m+Math.imul(Ae,Te)|0,b=b+Math.imul(ye,Ne)|0,c=c+Math.imul(ye,Re)|0,c=c+Math.imul(ve,Ne)|0,m=m+Math.imul(ve,Re)|0,b=b+Math.imul(ge,Ie)|0,c=c+Math.imul(ge,Be)|0,c=c+Math.imul(me,Ie)|0,m=m+Math.imul(me,Be)|0,b=b+Math.imul(be,Oe)|0,c=c+Math.imul(be,Fe)|0,c=c+Math.imul(pe,Oe)|0,m=m+Math.imul(pe,Fe)|0,b=b+Math.imul(V,De)|0,c=c+Math.imul(V,Le)|0,c=c+Math.imul(te,De)|0,m=m+Math.imul(te,Le)|0,b=b+Math.imul(H,Ue)|0,c=c+Math.imul(H,ze)|0,c=c+Math.imul(W,Ue)|0,m=m+Math.imul(W,ze)|0,b=b+Math.imul(I,je)|0,c=c+Math.imul(I,Ge)|0,c=c+Math.imul(L,je)|0,m=m+Math.imul(L,Ge)|0,b=b+Math.imul(h,qe)|0,c=c+Math.imul(h,He)|0,c=c+Math.imul(k,qe)|0,m=m+Math.imul(k,He)|0;var fs=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(fs>>>26)|0,fs&=67108863,b=Math.imul(Se,Ce),c=Math.imul(Se,Me),c=c+Math.imul(Pe,Ce)|0,m=Math.imul(Pe,Me),b=b+Math.imul(Ee,ke)|0,c=c+Math.imul(Ee,Te)|0,c=c+Math.imul(_e,ke)|0,m=m+Math.imul(_e,Te)|0,b=b+Math.imul(we,Ne)|0,c=c+Math.imul(we,Re)|0,c=c+Math.imul(Ae,Ne)|0,m=m+Math.imul(Ae,Re)|0,b=b+Math.imul(ye,Ie)|0,c=c+Math.imul(ye,Be)|0,c=c+Math.imul(ve,Ie)|0,m=m+Math.imul(ve,Be)|0,b=b+Math.imul(ge,Oe)|0,c=c+Math.imul(ge,Fe)|0,c=c+Math.imul(me,Oe)|0,m=m+Math.imul(me,Fe)|0,b=b+Math.imul(be,De)|0,c=c+Math.imul(be,Le)|0,c=c+Math.imul(pe,De)|0,m=m+Math.imul(pe,Le)|0,b=b+Math.imul(V,Ue)|0,c=c+Math.imul(V,ze)|0,c=c+Math.imul(te,Ue)|0,m=m+Math.imul(te,ze)|0,b=b+Math.imul(H,je)|0,c=c+Math.imul(H,Ge)|0,c=c+Math.imul(W,je)|0,m=m+Math.imul(W,Ge)|0,b=b+Math.imul(I,qe)|0,c=c+Math.imul(I,He)|0,c=c+Math.imul(L,qe)|0,m=m+Math.imul(L,He)|0,b=b+Math.imul(h,Ke)|0,c=c+Math.imul(h,We)|0,c=c+Math.imul(k,Ke)|0,m=m+Math.imul(k,We)|0;var cs=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(cs>>>26)|0,cs&=67108863,b=Math.imul(Se,ke),c=Math.imul(Se,Te),c=c+Math.imul(Pe,ke)|0,m=Math.imul(Pe,Te),b=b+Math.imul(Ee,Ne)|0,c=c+Math.imul(Ee,Re)|0,c=c+Math.imul(_e,Ne)|0,m=m+Math.imul(_e,Re)|0,b=b+Math.imul(we,Ie)|0,c=c+Math.imul(we,Be)|0,c=c+Math.imul(Ae,Ie)|0,m=m+Math.imul(Ae,Be)|0,b=b+Math.imul(ye,Oe)|0,c=c+Math.imul(ye,Fe)|0,c=c+Math.imul(ve,Oe)|0,m=m+Math.imul(ve,Fe)|0,b=b+Math.imul(ge,De)|0,c=c+Math.imul(ge,Le)|0,c=c+Math.imul(me,De)|0,m=m+Math.imul(me,Le)|0,b=b+Math.imul(be,Ue)|0,c=c+Math.imul(be,ze)|0,c=c+Math.imul(pe,Ue)|0,m=m+Math.imul(pe,ze)|0,b=b+Math.imul(V,je)|0,c=c+Math.imul(V,Ge)|0,c=c+Math.imul(te,je)|0,m=m+Math.imul(te,Ge)|0,b=b+Math.imul(H,qe)|0,c=c+Math.imul(H,He)|0,c=c+Math.imul(W,qe)|0,m=m+Math.imul(W,He)|0,b=b+Math.imul(I,Ke)|0,c=c+Math.imul(I,We)|0,c=c+Math.imul(L,Ke)|0,m=m+Math.imul(L,We)|0;var us=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(us>>>26)|0,us&=67108863,b=Math.imul(Se,Ne),c=Math.imul(Se,Re),c=c+Math.imul(Pe,Ne)|0,m=Math.imul(Pe,Re),b=b+Math.imul(Ee,Ie)|0,c=c+Math.imul(Ee,Be)|0,c=c+Math.imul(_e,Ie)|0,m=m+Math.imul(_e,Be)|0,b=b+Math.imul(we,Oe)|0,c=c+Math.imul(we,Fe)|0,c=c+Math.imul(Ae,Oe)|0,m=m+Math.imul(Ae,Fe)|0,b=b+Math.imul(ye,De)|0,c=c+Math.imul(ye,Le)|0,c=c+Math.imul(ve,De)|0,m=m+Math.imul(ve,Le)|0,b=b+Math.imul(ge,Ue)|0,c=c+Math.imul(ge,ze)|0,c=c+Math.imul(me,Ue)|0,m=m+Math.imul(me,ze)|0,b=b+Math.imul(be,je)|0,c=c+Math.imul(be,Ge)|0,c=c+Math.imul(pe,je)|0,m=m+Math.imul(pe,Ge)|0,b=b+Math.imul(V,qe)|0,c=c+Math.imul(V,He)|0,c=c+Math.imul(te,qe)|0,m=m+Math.imul(te,He)|0,b=b+Math.imul(H,Ke)|0,c=c+Math.imul(H,We)|0,c=c+Math.imul(W,Ke)|0,m=m+Math.imul(W,We)|0;var ls=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(ls>>>26)|0,ls&=67108863,b=Math.imul(Se,Ie),c=Math.imul(Se,Be),c=c+Math.imul(Pe,Ie)|0,m=Math.imul(Pe,Be),b=b+Math.imul(Ee,Oe)|0,c=c+Math.imul(Ee,Fe)|0,c=c+Math.imul(_e,Oe)|0,m=m+Math.imul(_e,Fe)|0,b=b+Math.imul(we,De)|0,c=c+Math.imul(we,Le)|0,c=c+Math.imul(Ae,De)|0,m=m+Math.imul(Ae,Le)|0,b=b+Math.imul(ye,Ue)|0,c=c+Math.imul(ye,ze)|0,c=c+Math.imul(ve,Ue)|0,m=m+Math.imul(ve,ze)|0,b=b+Math.imul(ge,je)|0,c=c+Math.imul(ge,Ge)|0,c=c+Math.imul(me,je)|0,m=m+Math.imul(me,Ge)|0,b=b+Math.imul(be,qe)|0,c=c+Math.imul(be,He)|0,c=c+Math.imul(pe,qe)|0,m=m+Math.imul(pe,He)|0,b=b+Math.imul(V,Ke)|0,c=c+Math.imul(V,We)|0,c=c+Math.imul(te,Ke)|0,m=m+Math.imul(te,We)|0;var hs=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(hs>>>26)|0,hs&=67108863,b=Math.imul(Se,Oe),c=Math.imul(Se,Fe),c=c+Math.imul(Pe,Oe)|0,m=Math.imul(Pe,Fe),b=b+Math.imul(Ee,De)|0,c=c+Math.imul(Ee,Le)|0,c=c+Math.imul(_e,De)|0,m=m+Math.imul(_e,Le)|0,b=b+Math.imul(we,Ue)|0,c=c+Math.imul(we,ze)|0,c=c+Math.imul(Ae,Ue)|0,m=m+Math.imul(Ae,ze)|0,b=b+Math.imul(ye,je)|0,c=c+Math.imul(ye,Ge)|0,c=c+Math.imul(ve,je)|0,m=m+Math.imul(ve,Ge)|0,b=b+Math.imul(ge,qe)|0,c=c+Math.imul(ge,He)|0,c=c+Math.imul(me,qe)|0,m=m+Math.imul(me,He)|0,b=b+Math.imul(be,Ke)|0,c=c+Math.imul(be,We)|0,c=c+Math.imul(pe,Ke)|0,m=m+Math.imul(pe,We)|0;var ds=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(ds>>>26)|0,ds&=67108863,b=Math.imul(Se,De),c=Math.imul(Se,Le),c=c+Math.imul(Pe,De)|0,m=Math.imul(Pe,Le),b=b+Math.imul(Ee,Ue)|0,c=c+Math.imul(Ee,ze)|0,c=c+Math.imul(_e,Ue)|0,m=m+Math.imul(_e,ze)|0,b=b+Math.imul(we,je)|0,c=c+Math.imul(we,Ge)|0,c=c+Math.imul(Ae,je)|0,m=m+Math.imul(Ae,Ge)|0,b=b+Math.imul(ye,qe)|0,c=c+Math.imul(ye,He)|0,c=c+Math.imul(ve,qe)|0,m=m+Math.imul(ve,He)|0,b=b+Math.imul(ge,Ke)|0,c=c+Math.imul(ge,We)|0,c=c+Math.imul(me,Ke)|0,m=m+Math.imul(me,We)|0;var xs=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(xs>>>26)|0,xs&=67108863,b=Math.imul(Se,Ue),c=Math.imul(Se,ze),c=c+Math.imul(Pe,Ue)|0,m=Math.imul(Pe,ze),b=b+Math.imul(Ee,je)|0,c=c+Math.imul(Ee,Ge)|0,c=c+Math.imul(_e,je)|0,m=m+Math.imul(_e,Ge)|0,b=b+Math.imul(we,qe)|0,c=c+Math.imul(we,He)|0,c=c+Math.imul(Ae,qe)|0,m=m+Math.imul(Ae,He)|0,b=b+Math.imul(ye,Ke)|0,c=c+Math.imul(ye,We)|0,c=c+Math.imul(ve,Ke)|0,m=m+Math.imul(ve,We)|0;var bs=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(bs>>>26)|0,bs&=67108863,b=Math.imul(Se,je),c=Math.imul(Se,Ge),c=c+Math.imul(Pe,je)|0,m=Math.imul(Pe,Ge),b=b+Math.imul(Ee,qe)|0,c=c+Math.imul(Ee,He)|0,c=c+Math.imul(_e,qe)|0,m=m+Math.imul(_e,He)|0,b=b+Math.imul(we,Ke)|0,c=c+Math.imul(we,We)|0,c=c+Math.imul(Ae,Ke)|0,m=m+Math.imul(Ae,We)|0;var ps=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(ps>>>26)|0,ps&=67108863,b=Math.imul(Se,qe),c=Math.imul(Se,He),c=c+Math.imul(Pe,qe)|0,m=Math.imul(Pe,He),b=b+Math.imul(Ee,Ke)|0,c=c+Math.imul(Ee,We)|0,c=c+Math.imul(_e,Ke)|0,m=m+Math.imul(_e,We)|0;var gs=(R+b|0)+((c&8191)<<13)|0;R=(m+(c>>>13)|0)+(gs>>>26)|0,gs&=67108863,b=Math.imul(Se,Ke),c=Math.imul(Se,We),c=c+Math.imul(Pe,Ke)|0,m=Math.imul(Pe,We);var ms=(R+b|0)+((c&8191)<<13)|0;return R=(m+(c>>>13)|0)+(ms>>>26)|0,ms&=67108863,C[0]=lr,C[1]=hr,C[2]=dr,C[3]=xr,C[4]=br,C[5]=ss,C[6]=os,C[7]=as,C[8]=fs,C[9]=cs,C[10]=us,C[11]=ls,C[12]=hs,C[13]=ds,C[14]=xs,C[15]=bs,C[16]=ps,C[17]=gs,C[18]=ms,R!==0&&(C[19]=R,g.length++),g};Math.imul||(B=M);function F(w,f,x){x.negative=f.negative^w.negative,x.length=w.length+f.length;for(var g=0,v=0,_=0;_<x.length-1;_++){var C=v;v=0;for(var R=g&67108863,b=Math.min(_,f.length-1),c=Math.max(0,_-w.length+1);c<=b;c++){var m=_-c,N=w.words[m]|0,h=f.words[c]|0,k=N*h,O=k&67108863;C=C+(k/67108864|0)|0,O=O+R|0,R=O&67108863,C=C+(O>>>26)|0,v+=C>>>26,C&=67108863}x.words[_]=R,g=C,C=v}return g!==0?x.words[_]=g:x.length--,x._strip()}function G(w,f,x){return F(w,f,x)}s.prototype.mulTo=function(f,x){var g,v=this.length+f.length;return this.length===10&&f.length===10?g=B(this,f,x):v<63?g=M(this,f,x):v<1024?g=F(this,f,x):g=G(this,f,x),g},s.prototype.mul=function(f){var x=new s(null);return x.words=new Array(this.length+f.length),this.mulTo(f,x)},s.prototype.mulf=function(f){var x=new s(null);return x.words=new Array(this.length+f.length),G(this,f,x)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var x=f<0;x&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var g=0,v=0;v<this.length;v++){var _=(this.words[v]|0)*f,C=(_&67108863)+(g&67108863);g>>=26,g+=_/67108864|0,g+=C>>>26,this.words[v]=C&67108863}return g!==0&&(this.words[v]=g,this.length++),x?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var x=y(f);if(x.length===0)return new s(1);for(var g=this,v=0;v<x.length&&x[v]===0;v++,g=g.sqr());if(++v<x.length)for(var _=g.sqr();v<x.length;v++,_=_.sqr())x[v]!==0&&(g=g.mul(_));return g},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var x=f%26,g=(f-x)/26,v=67108863>>>26-x<<26-x,_;if(x!==0){var C=0;for(_=0;_<this.length;_++){var R=this.words[_]&v,b=(this.words[_]|0)-R<<x;this.words[_]=b|C,C=R>>>26-x}C&&(this.words[_]=C,this.length++)}if(g!==0){for(_=this.length-1;_>=0;_--)this.words[_+g]=this.words[_];for(_=0;_<g;_++)this.words[_]=0;this.length+=g}return this._strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,x,g){n(typeof f=="number"&&f>=0);var v;x?v=(x-x%26)/26:v=0;var _=f%26,C=Math.min((f-_)/26,this.length),R=67108863^67108863>>>_<<_,b=g;if(v-=C,v=Math.max(0,v),b){for(var c=0;c<C;c++)b.words[c]=this.words[c];b.length=C}if(C!==0)if(this.length>C)for(this.length-=C,c=0;c<this.length;c++)this.words[c]=this.words[c+C];else this.words[0]=0,this.length=1;var m=0;for(c=this.length-1;c>=0&&(m!==0||c>=v);c--){var N=this.words[c]|0;this.words[c]=m<<26-_|N>>>_,m=N&R}return b&&m!==0&&(b.words[b.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,x,g){return n(this.negative===0),this.iushrn(f,x,g)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var x=f%26,g=(f-x)/26,v=1<<x;if(this.length<=g)return!1;var _=this.words[g];return!!(_&v)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var x=f%26,g=(f-x)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(x!==0&&g++,this.length=Math.min(g,this.length),x!==0){var v=67108863^67108863>>>x<<x;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,x,g){var v=f.length+g,_;this._expand(v);var C,R=0;for(_=0;_<f.length;_++){C=(this.words[_+g]|0)+R;var b=(f.words[_]|0)*x;C-=b&67108863,R=(C>>26)-(b/67108864|0),this.words[_+g]=C&67108863}for(;_<this.length-g;_++)C=(this.words[_+g]|0)+R,R=C>>26,this.words[_+g]=C&67108863;if(R===0)return this._strip();for(n(R===-1),R=0,_=0;_<this.length;_++)C=-(this.words[_]|0)+R,R=C>>26,this.words[_]=C&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,x){var g=this.length-f.length,v=this.clone(),_=f,C=_.words[_.length-1]|0,R=this._countBits(C);g=26-R,g!==0&&(_=_.ushln(g),v.iushln(g),C=_.words[_.length-1]|0);var b=v.length-_.length,c;if(x!=="mod"){c=new s(null),c.length=b+1,c.words=new Array(c.length);for(var m=0;m<c.length;m++)c.words[m]=0}var N=v.clone()._ishlnsubmul(_,1,b);N.negative===0&&(v=N,c&&(c.words[b]=1));for(var h=b-1;h>=0;h--){var k=(v.words[_.length+h]|0)*67108864+(v.words[_.length+h-1]|0);for(k=Math.min(k/C|0,67108863),v._ishlnsubmul(_,k,h);v.negative!==0;)k--,v.negative=0,v._ishlnsubmul(_,1,h),v.isZero()||(v.negative^=1);c&&(c.words[h]=k)}return c&&c._strip(),v._strip(),x!=="div"&&g!==0&&v.iushrn(g),{div:c||null,mod:v}},s.prototype.divmod=function(f,x,g){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,_,C;return this.negative!==0&&f.negative===0?(C=this.neg().divmod(f,x),x!=="mod"&&(v=C.div.neg()),x!=="div"&&(_=C.mod.neg(),g&&_.negative!==0&&_.iadd(f)),{div:v,mod:_}):this.negative===0&&f.negative!==0?(C=this.divmod(f.neg(),x),x!=="mod"&&(v=C.div.neg()),{div:v,mod:C.mod}):this.negative&f.negative?(C=this.neg().divmod(f.neg(),x),x!=="div"&&(_=C.mod.neg(),g&&_.negative!==0&&_.isub(f)),{div:C.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?x==="div"?{div:this.divn(f.words[0]),mod:null}:x==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,x)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var x=this.divmod(f);if(x.mod.isZero())return x.div;var g=x.div.negative!==0?x.mod.isub(f):x.mod,v=f.ushrn(1),_=f.andln(1),C=g.cmp(v);return C<0||_===1&&C===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},s.prototype.modrn=function(f){var x=f<0;x&&(f=-f),n(f<=67108863);for(var g=(1<<26)%f,v=0,_=this.length-1;_>=0;_--)v=(g*v+(this.words[_]|0))%f;return x?-v:v},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var x=f<0;x&&(f=-f),n(f<=67108863);for(var g=0,v=this.length-1;v>=0;v--){var _=(this.words[v]|0)+g*67108864;this.words[v]=_/f|0,g=_%f}return this._strip(),x?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var x=this,g=f.clone();x.negative!==0?x=x.umod(f):x=x.clone();for(var v=new s(1),_=new s(0),C=new s(0),R=new s(1),b=0;x.isEven()&&g.isEven();)x.iushrn(1),g.iushrn(1),++b;for(var c=g.clone(),m=x.clone();!x.isZero();){for(var N=0,h=1;!(x.words[0]&h)&&N<26;++N,h<<=1);if(N>0)for(x.iushrn(N);N-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(c),_.isub(m)),v.iushrn(1),_.iushrn(1);for(var k=0,O=1;!(g.words[0]&O)&&k<26;++k,O<<=1);if(k>0)for(g.iushrn(k);k-- >0;)(C.isOdd()||R.isOdd())&&(C.iadd(c),R.isub(m)),C.iushrn(1),R.iushrn(1);x.cmp(g)>=0?(x.isub(g),v.isub(C),_.isub(R)):(g.isub(x),C.isub(v),R.isub(_))}return{a:C,b:R,gcd:g.iushln(b)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var x=this,g=f.clone();x.negative!==0?x=x.umod(f):x=x.clone();for(var v=new s(1),_=new s(0),C=g.clone();x.cmpn(1)>0&&g.cmpn(1)>0;){for(var R=0,b=1;!(x.words[0]&b)&&R<26;++R,b<<=1);if(R>0)for(x.iushrn(R);R-- >0;)v.isOdd()&&v.iadd(C),v.iushrn(1);for(var c=0,m=1;!(g.words[0]&m)&&c<26;++c,m<<=1);if(c>0)for(g.iushrn(c);c-- >0;)_.isOdd()&&_.iadd(C),_.iushrn(1);x.cmp(g)>=0?(x.isub(g),v.isub(_)):(g.isub(x),_.isub(v))}var N;return x.cmpn(1)===0?N=v:N=_,N.cmpn(0)<0&&N.iadd(f),N},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var x=this.clone(),g=f.clone();x.negative=0,g.negative=0;for(var v=0;x.isEven()&&g.isEven();v++)x.iushrn(1),g.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;g.isEven();)g.iushrn(1);var _=x.cmp(g);if(_<0){var C=x;x=g,g=C}else if(_===0||g.cmpn(1)===0)break;x.isub(g)}while(!0);return g.iushln(v)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var x=f%26,g=(f-x)/26,v=1<<x;if(this.length<=g)return this._expand(g+1),this.words[g]|=v,this;for(var _=v,C=g;_!==0&&C<this.length;C++){var R=this.words[C]|0;R+=_,_=R>>>26,R&=67108863,this.words[C]=R}return _!==0&&(this.words[C]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var x=f<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var g;if(this.length>1)g=1;else{x&&(f=-f),n(f<=67108863,"Number is too big");var v=this.words[0]|0;g=v===f?0:v<f?-1:1}return this.negative!==0?-g|0:g},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var x=this.ucmp(f);return this.negative!==0?-x|0:x},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var x=0,g=this.length-1;g>=0;g--){var v=this.words[g]|0,_=f.words[g]|0;if(v!==_){v<_?x=-1:v>_&&(x=1);break}}return x},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new $(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function K(w,f){this.name=w,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},K.prototype.ireduce=function(f){var x=f,g;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),g=x.bitLength();while(g>this.n);var v=g<this.n?-1:x.ucmp(this.p);return v===0?(x.words[0]=0,x.length=1):v>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},K.prototype.split=function(f,x){f.iushrn(this.n,0,x)},K.prototype.imulK=function(f){return f.imul(this.k)};function X(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(X,K),X.prototype.split=function(f,x){for(var g=4194303,v=Math.min(f.length,9),_=0;_<v;_++)x.words[_]=f.words[_];if(x.length=v,f.length<=9){f.words[0]=0,f.length=1;return}var C=f.words[9];for(x.words[x.length++]=C&g,_=10;_<f.length;_++){var R=f.words[_]|0;f.words[_-10]=(R&g)<<4|C>>>22,C=R}C>>>=22,f.words[_-10]=C,C===0&&f.length>10?f.length-=10:f.length-=9},X.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var x=0,g=0;g<f.length;g++){var v=f.words[g]|0;x+=v*977,f.words[g]=x&67108863,x=v*64+(x/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function Y(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Y,K);function ee(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,K);function oe(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(oe,K),oe.prototype.imulK=function(f){for(var x=0,g=0;g<f.length;g++){var v=(f.words[g]|0)*19+x,_=v&67108863;v>>>=26,f.words[g]=_,x=v}return x!==0&&(f.words[f.length++]=x),f},s._prime=function(f){if(D[f])return D[f];var x;if(f==="k256")x=new X;else if(f==="p224")x=new Y;else if(f==="p192")x=new ee;else if(f==="p25519")x=new oe;else throw new Error("Unknown prime "+f);return D[f]=x,x};function $(w){if(typeof w=="string"){var f=s._prime(w);this.m=f.p,this.prime=f}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}$.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},$.prototype._verify2=function(f,x){n((f.negative|x.negative)===0,"red works only with positives"),n(f.red&&f.red===x.red,"red works only with red numbers")},$.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(d(f,f.umod(this.m)._forceRed(this)),f)},$.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},$.prototype.add=function(f,x){this._verify2(f,x);var g=f.add(x);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},$.prototype.iadd=function(f,x){this._verify2(f,x);var g=f.iadd(x);return g.cmp(this.m)>=0&&g.isub(this.m),g},$.prototype.sub=function(f,x){this._verify2(f,x);var g=f.sub(x);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},$.prototype.isub=function(f,x){this._verify2(f,x);var g=f.isub(x);return g.cmpn(0)<0&&g.iadd(this.m),g},$.prototype.shl=function(f,x){return this._verify1(f),this.imod(f.ushln(x))},$.prototype.imul=function(f,x){return this._verify2(f,x),this.imod(f.imul(x))},$.prototype.mul=function(f,x){return this._verify2(f,x),this.imod(f.mul(x))},$.prototype.isqr=function(f){return this.imul(f,f.clone())},$.prototype.sqr=function(f){return this.mul(f,f)},$.prototype.sqrt=function(f){if(f.isZero())return f.clone();var x=this.m.andln(3);if(n(x%2===1),x===3){var g=this.m.add(new s(1)).iushrn(2);return this.pow(f,g)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);n(!v.isZero());var C=new s(1).toRed(this),R=C.redNeg(),b=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,b).cmp(R)!==0;)c.redIAdd(R);for(var m=this.pow(c,v),N=this.pow(f,v.addn(1).iushrn(1)),h=this.pow(f,v),k=_;h.cmp(C)!==0;){for(var O=h,I=0;O.cmp(C)!==0;I++)O=O.redSqr();n(I<k);var L=this.pow(m,new s(1).iushln(k-I-1));N=N.redMul(L),m=L.redSqr(),h=h.redMul(m),k=I}return N},$.prototype.invm=function(f){var x=f._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},$.prototype.pow=function(f,x){if(x.isZero())return new s(1).toRed(this);if(x.cmpn(1)===0)return f.clone();var g=4,v=new Array(1<<g);v[0]=new s(1).toRed(this),v[1]=f;for(var _=2;_<v.length;_++)v[_]=this.mul(v[_-1],f);var C=v[0],R=0,b=0,c=x.bitLength()%26;for(c===0&&(c=26),_=x.length-1;_>=0;_--){for(var m=x.words[_],N=c-1;N>=0;N--){var h=m>>N&1;if(C!==v[0]&&(C=this.sqr(C)),h===0&&R===0){b=0;continue}R<<=1,R|=h,b++,!(b!==g&&(_!==0||N!==0))&&(C=this.mul(C,v[R]),b=0,R=0)}c=26}return C},$.prototype.convertTo=function(f){var x=f.umod(this.m);return x===f?x.clone():x},$.prototype.convertFrom=function(f){var x=f.clone();return x.red=null,x},s.mont=function(f){return new ie(f)};function ie(w){$.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ie,$),ie.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},ie.prototype.convertFrom=function(f){var x=this.imod(f.mul(this.rinv));return x.red=null,x},ie.prototype.imul=function(f,x){if(f.isZero()||x.isZero())return f.words[0]=0,f.length=1,f;var g=f.imul(x),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=g.isub(v).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},ie.prototype.mul=function(f,x){if(f.isZero()||x.isZero())return new s(0)._forceRed(this);var g=f.mul(x),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=g.isub(v).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},ie.prototype.invm=function(f){var x=this.imod(f._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(r,vr)})(fc);const re=js,t0="bignumber/5.7.0";var Qn=re.BN;const tr=new T(t0),ws={},Ko=9007199254740991;function hc(r){return r!=null&&(j.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||ne(r)||typeof r=="bigint"||tn(r))}let Wo=!1;class j{constructor(e,t){e!==ws&&tr.throwError("cannot call constructor directly; use BigNumber.from",T.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return pt(ae(this).fromTwos(e))}toTwos(e){return pt(ae(this).toTwos(e))}abs(){return this._hex[0]==="-"?j.from(this._hex.substring(1)):this}add(e){return pt(ae(this).add(ae(e)))}sub(e){return pt(ae(this).sub(ae(e)))}div(e){return j.from(e).isZero()&&_t("division-by-zero","div"),pt(ae(this).div(ae(e)))}mul(e){return pt(ae(this).mul(ae(e)))}mod(e){const t=ae(e);return t.isNeg()&&_t("division-by-zero","mod"),pt(ae(this).umod(t))}pow(e){const t=ae(e);return t.isNeg()&&_t("negative-power","pow"),pt(ae(this).pow(t))}and(e){const t=ae(e);return(this.isNegative()||t.isNeg())&&_t("unbound-bitwise-result","and"),pt(ae(this).and(t))}or(e){const t=ae(e);return(this.isNegative()||t.isNeg())&&_t("unbound-bitwise-result","or"),pt(ae(this).or(t))}xor(e){const t=ae(e);return(this.isNegative()||t.isNeg())&&_t("unbound-bitwise-result","xor"),pt(ae(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&_t("negative-width","mask"),pt(ae(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&_t("negative-width","shl"),pt(ae(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&_t("negative-width","shr"),pt(ae(this).shrn(e))}eq(e){return ae(this).eq(ae(e))}lt(e){return ae(this).lt(ae(e))}lte(e){return ae(this).lte(ae(e))}gt(e){return ae(this).gt(ae(e))}gte(e){return ae(this).gte(ae(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ae(this).isZero()}toNumber(){try{return ae(this).toNumber()}catch{_t("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return tr.throwError("this platform does not support BigInt",T.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Wo||(Wo=!0,tr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?tr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",T.errors.UNEXPECTED_ARGUMENT,{}):tr.throwError("BigNumber.toString does not accept parameters",T.errors.UNEXPECTED_ARGUMENT,{})),ae(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof j)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new j(ws,Yn(e)):e.match(/^-?[0-9]+$/)?new j(ws,Yn(new Qn(e))):tr.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&_t("underflow","BigNumber.from",e),(e>=Ko||e<=-Ko)&&_t("overflow","BigNumber.from",e),j.from(String(e));const t=e;if(typeof t=="bigint")return j.from(t.toString());if(tn(t))return j.from(q(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return j.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(ne(n)||n[0]==="-"&&ne(n.substring(1))))return j.from(n)}return tr.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Yn(r){if(typeof r!="string")return Yn(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&tr.throwArgumentError("invalid hex","value",r),r=Yn(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function pt(r){return j.from(Yn(r))}function ae(r){const e=j.from(r).toHexString();return e[0]==="-"?new Qn("-"+e.substring(3),16):new Qn(e.substring(2),16)}function _t(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),tr.throwError(r,T.errors.NUMERIC_FAULT,n)}function dc(r){return new Qn(r,36).toString(16)}function xc(r){return new Qn(r,16).toString(36)}const bt=new T(t0),Hn={},r0=j.from(0),n0=j.from(-1);function i0(r,e,t,n){const i={fault:e,operation:t};return n!==void 0&&(i.value=n),bt.throwError(r,T.errors.NUMERIC_FAULT,i)}let Kn="0";for(;Kn.length<256;)Kn+=Kn;function uo(r){if(typeof r!="number")try{r=j.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Kn.substring(0,r):bt.throwArgumentError("invalid decimal size","decimals",r)}function Ei(r,e){e==null&&(e=0);const t=uo(e);r=j.from(r);const n=r.lt(r0);n&&(r=r.mul(n0));let i=r.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=r.div(t).toString();return t.length===1?r=s:r=s+"."+i,n&&(r="-"+r),r}function Lt(r,e){e==null&&(e=0);const t=uo(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&bt.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&bt.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&bt.throwArgumentError("too many decimal points","value",r);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&i0("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const a=j.from(s),u=j.from(o);let l=a.mul(t).add(u);return n&&(l=l.mul(n0)),l}class yn{constructor(e,t,n,i){e!==Hn&&bt.throwError("cannot use FixedFormat constructor; use FixedFormat.from",T.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=uo(i),Object.freeze(this)}static from(e){if(e instanceof yn)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||bt.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,u)=>e[o]==null?u:(typeof e[o]!==a&&bt.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&bt.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&bt.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new yn(Hn,t,n,i)}}class at{constructor(e,t,n,i){e!==Hn&&bt.throwError("cannot use FixedNumber constructor; use FixedNumber.from",T.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&bt.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Lt(this._value,this.format.decimals),n=Lt(e._value,e.format.decimals);return at.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Lt(this._value,this.format.decimals),n=Lt(e._value,e.format.decimals);return at.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Lt(this._value,this.format.decimals),n=Lt(e._value,e.format.decimals);return at.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Lt(this._value,this.format.decimals),n=Lt(e._value,e.format.decimals);return at.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=at.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(Jo.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=at.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(Jo.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&bt.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=at.from("1"+Kn.substring(0,e),this.format),i=bc.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&bt.throwArgumentError("invalid byte width","width",e);const t=j.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return de(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return at.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!hc(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),at.fromString(Ei(e,t),yn.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=yn.from(t),i=Lt(e,n.decimals);!n.signed&&i.lt(r0)&&i0("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=de(s,n.width/8));const o=Ei(i,n.decimals);return new at(Hn,s,o,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=yn.from(t);if(z(e).length>n.width/8)throw new Error("overflow");let i=j.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=Ei(i,n.decimals);return new at(Hn,s,o,n)}static from(e,t){if(typeof e=="string")return at.fromString(e,t);if(tn(e))return at.fromBytes(e,t);try{return at.fromValue(e,0,t)}catch(n){if(n.code!==T.errors.INVALID_ARGUMENT)throw n}return bt.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const Jo=at.from(1),bc=at.from("0.5");function s0(){throw new Error("setTimeout has not been defined")}function o0(){throw new Error("clearTimeout has not been defined")}var mr=s0,yr=o0;typeof Vn.setTimeout=="function"&&(mr=setTimeout);typeof Vn.clearTimeout=="function"&&(yr=clearTimeout);function a0(r){if(mr===setTimeout)return setTimeout(r,0);if((mr===s0||!mr)&&setTimeout)return mr=setTimeout,setTimeout(r,0);try{return mr(r,0)}catch{try{return mr.call(null,r,0)}catch{return mr.call(this,r,0)}}}function pc(r){if(yr===clearTimeout)return clearTimeout(r);if((yr===o0||!yr)&&clearTimeout)return yr=clearTimeout,clearTimeout(r);try{return yr(r)}catch{try{return yr.call(null,r)}catch{return yr.call(this,r)}}}var or=[],vn=!1,Jr,_i=-1;function gc(){!vn||!Jr||(vn=!1,Jr.length?or=Jr.concat(or):_i=-1,or.length&&f0())}function f0(){if(!vn){var r=a0(gc);vn=!0;for(var e=or.length;e;){for(Jr=or,or=[];++_i<e;)Jr&&Jr[_i].run();_i=-1,e=or.length}Jr=null,vn=!1,pc(r)}}function mc(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];or.push(new c0(r,e)),or.length===1&&!vn&&a0(f0)}function c0(r,e){this.fun=r,this.array=e}c0.prototype.run=function(){this.fun.apply(null,this.array)};var yc="browser",vc="browser",wc=!0,Ac={},Ec=[],_c="",Sc={},Pc={},Cc={};function nn(){}var Mc=nn,kc=nn,Tc=nn,Nc=nn,Rc=nn,Ic=nn,Bc=nn;function Oc(r){throw new Error("process.binding is not supported")}function Fc(){return"/"}function Dc(r){throw new Error("process.chdir is not supported")}function Lc(){return 0}var un=Vn.performance||{},Uc=un.now||un.mozNow||un.msNow||un.oNow||un.webkitNow||function(){return new Date().getTime()};function zc(r){var e=Uc.call(un)*.001,t=Math.floor(e),n=Math.floor(e%1*1e9);return r&&(t=t-r[0],n=n-r[1],n<0&&(t--,n+=1e9)),[t,n]}var jc=new Date;function Gc(){var r=new Date,e=r-jc;return e/1e3}var As={nextTick:mc,title:yc,browser:wc,env:Ac,argv:Ec,version:_c,versions:Sc,on:Mc,addListener:kc,once:Tc,off:Nc,removeListener:Rc,removeAllListeners:Ic,emit:Bc,binding:Oc,cwd:Fc,chdir:Dc,umask:Lc,hrtime:zc,platform:vc,release:Pc,config:Cc,uptime:Gc},Gs={},qc={get exports(){return Gs},set exports(r){Gs=r}};(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof As=="object"&&As.versions&&As.versions.node;o?i=vr:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],A=[1,256,65536,16777216],E=[6,1536,393216,100663296],P=[0,8,16,24],S=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],M=[128,256],B=["hex","buffer","arrayBuffer","array","digest"],F={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(h){return Object.prototype.toString.call(h)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(h){return typeof h=="object"&&h.buffer&&h.buffer.constructor===ArrayBuffer});for(var G=function(h,k,O){return function(I){return new c(h,k,h).update(I)[O]()}},D=function(h,k,O){return function(I,L){return new c(h,k,L).update(I)[O]()}},K=function(h,k,O){return function(I,L,J,H){return f["cshake"+h].update(I,L,J,H)[O]()}},X=function(h,k,O){return function(I,L,J,H){return f["kmac"+h].update(I,L,J,H)[O]()}},Y=function(h,k,O,I){for(var L=0;L<B.length;++L){var J=B[L];h[J]=k(O,I,J)}return h},ee=function(h,k){var O=G(h,k,"hex");return O.create=function(){return new c(h,k,h)},O.update=function(I){return O.create().update(I)},Y(O,G,h,k)},oe=function(h,k){var O=D(h,k,"hex");return O.create=function(I){return new c(h,k,I)},O.update=function(I,L){return O.create(L).update(I)},Y(O,D,h,k)},$=function(h,k){var O=F[h],I=K(h,k,"hex");return I.create=function(L,J,H){return!J&&!H?f["shake"+h].create(L):new c(h,k,L).bytepad([J,H],O)},I.update=function(L,J,H,W){return I.create(J,H,W).update(L)},Y(I,K,h,k)},ie=function(h,k){var O=F[h],I=X(h,k,"hex");return I.create=function(L,J,H){return new m(h,k,J).bytepad(["KMAC",H],O).bytepad([L],O)},I.update=function(L,J,H,W){return I.create(L,H,W).update(J)},Y(I,X,h,k)},w=[{name:"keccak",padding:A,bits:y,createMethod:ee},{name:"sha3",padding:E,bits:y,createMethod:ee},{name:"shake",padding:d,bits:M,createMethod:oe},{name:"cshake",padding:p,bits:M,createMethod:$},{name:"kmac",padding:p,bits:M,createMethod:ie}],f={},x=[],g=0;g<w.length;++g)for(var v=w[g],_=v.bits,C=0;C<_.length;++C){var R=v.name+"_"+_[C];if(x.push(R),f[R]=v.createMethod(_[C],v.padding),v.name!=="sha3"){var b=v.name+_[C];x.push(b),f[b]=f[R]}}function c(h,k,O){this.blocks=[],this.s=[],this.padding=k,this.outputBits=O,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(h<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=O>>5,this.extraBytes=(O&31)>>3;for(var I=0;I<50;++I)this.s[I]=0}c.prototype.update=function(h){if(this.finalized)throw new Error(t);var k,O=typeof h;if(O!=="string"){if(O==="object"){if(h===null)throw new Error(e);if(u&&h.constructor===ArrayBuffer)h=new Uint8Array(h);else if(!Array.isArray(h)&&(!u||!ArrayBuffer.isView(h)))throw new Error(e)}else throw new Error(e);k=!0}for(var I=this.blocks,L=this.byteCount,J=h.length,H=this.blockCount,W=0,$e=this.s,V,te;W<J;){if(this.reset)for(this.reset=!1,I[0]=this.block,V=1;V<H+1;++V)I[V]=0;if(k)for(V=this.start;W<J&&V<L;++W)I[V>>2]|=h[W]<<P[V++&3];else for(V=this.start;W<J&&V<L;++W)te=h.charCodeAt(W),te<128?I[V>>2]|=te<<P[V++&3]:te<2048?(I[V>>2]|=(192|te>>6)<<P[V++&3],I[V>>2]|=(128|te&63)<<P[V++&3]):te<55296||te>=57344?(I[V>>2]|=(224|te>>12)<<P[V++&3],I[V>>2]|=(128|te>>6&63)<<P[V++&3],I[V>>2]|=(128|te&63)<<P[V++&3]):(te=65536+((te&1023)<<10|h.charCodeAt(++W)&1023),I[V>>2]|=(240|te>>18)<<P[V++&3],I[V>>2]|=(128|te>>12&63)<<P[V++&3],I[V>>2]|=(128|te>>6&63)<<P[V++&3],I[V>>2]|=(128|te&63)<<P[V++&3]);if(this.lastByteIndex=V,V>=L){for(this.start=V-L,this.block=I[H],V=0;V<H;++V)$e[V]^=I[V];N($e),this.reset=!0}else this.start=V}return this},c.prototype.encode=function(h,k){var O=h&255,I=1,L=[O];for(h=h>>8,O=h&255;O>0;)L.unshift(O),h=h>>8,O=h&255,++I;return k?L.push(I):L.unshift(I),this.update(L),L.length},c.prototype.encodeString=function(h){var k,O=typeof h;if(O!=="string"){if(O==="object"){if(h===null)throw new Error(e);if(u&&h.constructor===ArrayBuffer)h=new Uint8Array(h);else if(!Array.isArray(h)&&(!u||!ArrayBuffer.isView(h)))throw new Error(e)}else throw new Error(e);k=!0}var I=0,L=h.length;if(k)I=L;else for(var J=0;J<h.length;++J){var H=h.charCodeAt(J);H<128?I+=1:H<2048?I+=2:H<55296||H>=57344?I+=3:(H=65536+((H&1023)<<10|h.charCodeAt(++J)&1023),I+=4)}return I+=this.encode(I*8),this.update(h),I},c.prototype.bytepad=function(h,k){for(var O=this.encode(k),I=0;I<h.length;++I)O+=this.encodeString(h[I]);var L=k-O%k,J=[];return J.length=L,this.update(J),this},c.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var h=this.blocks,k=this.lastByteIndex,O=this.blockCount,I=this.s;if(h[k>>2]|=this.padding[k&3],this.lastByteIndex===this.byteCount)for(h[0]=h[O],k=1;k<O+1;++k)h[k]=0;for(h[O-1]|=2147483648,k=0;k<O;++k)I[k]^=h[k];N(I)}},c.prototype.toString=c.prototype.hex=function(){this.finalize();for(var h=this.blockCount,k=this.s,O=this.outputBlocks,I=this.extraBytes,L=0,J=0,H="",W;J<O;){for(L=0;L<h&&J<O;++L,++J)W=k[L],H+=l[W>>4&15]+l[W&15]+l[W>>12&15]+l[W>>8&15]+l[W>>20&15]+l[W>>16&15]+l[W>>28&15]+l[W>>24&15];J%h===0&&(N(k),L=0)}return I&&(W=k[L],H+=l[W>>4&15]+l[W&15],I>1&&(H+=l[W>>12&15]+l[W>>8&15]),I>2&&(H+=l[W>>20&15]+l[W>>16&15])),H},c.prototype.arrayBuffer=function(){this.finalize();var h=this.blockCount,k=this.s,O=this.outputBlocks,I=this.extraBytes,L=0,J=0,H=this.outputBits>>3,W;I?W=new ArrayBuffer(O+1<<2):W=new ArrayBuffer(H);for(var $e=new Uint32Array(W);J<O;){for(L=0;L<h&&J<O;++L,++J)$e[J]=k[L];J%h===0&&N(k)}return I&&($e[L]=k[L],W=W.slice(0,H)),W},c.prototype.buffer=c.prototype.arrayBuffer,c.prototype.digest=c.prototype.array=function(){this.finalize();for(var h=this.blockCount,k=this.s,O=this.outputBlocks,I=this.extraBytes,L=0,J=0,H=[],W,$e;J<O;){for(L=0;L<h&&J<O;++L,++J)W=J<<2,$e=k[L],H[W]=$e&255,H[W+1]=$e>>8&255,H[W+2]=$e>>16&255,H[W+3]=$e>>24&255;J%h===0&&N(k)}return I&&(W=J<<2,$e=k[L],H[W]=$e&255,I>1&&(H[W+1]=$e>>8&255),I>2&&(H[W+2]=$e>>16&255)),H};function m(h,k,O){c.call(this,h,k,O)}m.prototype=new c,m.prototype.finalize=function(){return this.encode(this.outputBits,!0),c.prototype.finalize.call(this)};var N=function(h){var k,O,I,L,J,H,W,$e,V,te,kr,be,pe,Tr,ge,me,Nr,ye,ve,Rr,we,Ae,Ir,Ee,_e,Br,Se,Pe,Or,Ce,Me,Fr,ke,Te,Dr,Ne,Re,Lr,Ie,Be,Ur,Oe,Fe,zr,De,Le,jr,Ue,ze,Gr,je,Ge,qr,qe,He,Hr,Ke,We,lr,hr,dr,xr,br;for(I=0;I<48;I+=2)L=h[0]^h[10]^h[20]^h[30]^h[40],J=h[1]^h[11]^h[21]^h[31]^h[41],H=h[2]^h[12]^h[22]^h[32]^h[42],W=h[3]^h[13]^h[23]^h[33]^h[43],$e=h[4]^h[14]^h[24]^h[34]^h[44],V=h[5]^h[15]^h[25]^h[35]^h[45],te=h[6]^h[16]^h[26]^h[36]^h[46],kr=h[7]^h[17]^h[27]^h[37]^h[47],be=h[8]^h[18]^h[28]^h[38]^h[48],pe=h[9]^h[19]^h[29]^h[39]^h[49],k=be^(H<<1|W>>>31),O=pe^(W<<1|H>>>31),h[0]^=k,h[1]^=O,h[10]^=k,h[11]^=O,h[20]^=k,h[21]^=O,h[30]^=k,h[31]^=O,h[40]^=k,h[41]^=O,k=L^($e<<1|V>>>31),O=J^(V<<1|$e>>>31),h[2]^=k,h[3]^=O,h[12]^=k,h[13]^=O,h[22]^=k,h[23]^=O,h[32]^=k,h[33]^=O,h[42]^=k,h[43]^=O,k=H^(te<<1|kr>>>31),O=W^(kr<<1|te>>>31),h[4]^=k,h[5]^=O,h[14]^=k,h[15]^=O,h[24]^=k,h[25]^=O,h[34]^=k,h[35]^=O,h[44]^=k,h[45]^=O,k=$e^(be<<1|pe>>>31),O=V^(pe<<1|be>>>31),h[6]^=k,h[7]^=O,h[16]^=k,h[17]^=O,h[26]^=k,h[27]^=O,h[36]^=k,h[37]^=O,h[46]^=k,h[47]^=O,k=te^(L<<1|J>>>31),O=kr^(J<<1|L>>>31),h[8]^=k,h[9]^=O,h[18]^=k,h[19]^=O,h[28]^=k,h[29]^=O,h[38]^=k,h[39]^=O,h[48]^=k,h[49]^=O,Tr=h[0],ge=h[1],Le=h[11]<<4|h[10]>>>28,jr=h[10]<<4|h[11]>>>28,Pe=h[20]<<3|h[21]>>>29,Or=h[21]<<3|h[20]>>>29,hr=h[31]<<9|h[30]>>>23,dr=h[30]<<9|h[31]>>>23,Oe=h[40]<<18|h[41]>>>14,Fe=h[41]<<18|h[40]>>>14,Te=h[2]<<1|h[3]>>>31,Dr=h[3]<<1|h[2]>>>31,me=h[13]<<12|h[12]>>>20,Nr=h[12]<<12|h[13]>>>20,Ue=h[22]<<10|h[23]>>>22,ze=h[23]<<10|h[22]>>>22,Ce=h[33]<<13|h[32]>>>19,Me=h[32]<<13|h[33]>>>19,xr=h[42]<<2|h[43]>>>30,br=h[43]<<2|h[42]>>>30,qe=h[5]<<30|h[4]>>>2,He=h[4]<<30|h[5]>>>2,Ne=h[14]<<6|h[15]>>>26,Re=h[15]<<6|h[14]>>>26,ye=h[25]<<11|h[24]>>>21,ve=h[24]<<11|h[25]>>>21,Gr=h[34]<<15|h[35]>>>17,je=h[35]<<15|h[34]>>>17,Fr=h[45]<<29|h[44]>>>3,ke=h[44]<<29|h[45]>>>3,Ee=h[6]<<28|h[7]>>>4,_e=h[7]<<28|h[6]>>>4,Hr=h[17]<<23|h[16]>>>9,Ke=h[16]<<23|h[17]>>>9,Lr=h[26]<<25|h[27]>>>7,Ie=h[27]<<25|h[26]>>>7,Rr=h[36]<<21|h[37]>>>11,we=h[37]<<21|h[36]>>>11,Ge=h[47]<<24|h[46]>>>8,qr=h[46]<<24|h[47]>>>8,zr=h[8]<<27|h[9]>>>5,De=h[9]<<27|h[8]>>>5,Br=h[18]<<20|h[19]>>>12,Se=h[19]<<20|h[18]>>>12,We=h[29]<<7|h[28]>>>25,lr=h[28]<<7|h[29]>>>25,Be=h[38]<<8|h[39]>>>24,Ur=h[39]<<8|h[38]>>>24,Ae=h[48]<<14|h[49]>>>18,Ir=h[49]<<14|h[48]>>>18,h[0]=Tr^~me&ye,h[1]=ge^~Nr&ve,h[10]=Ee^~Br&Pe,h[11]=_e^~Se&Or,h[20]=Te^~Ne&Lr,h[21]=Dr^~Re&Ie,h[30]=zr^~Le&Ue,h[31]=De^~jr&ze,h[40]=qe^~Hr&We,h[41]=He^~Ke&lr,h[2]=me^~ye&Rr,h[3]=Nr^~ve&we,h[12]=Br^~Pe&Ce,h[13]=Se^~Or&Me,h[22]=Ne^~Lr&Be,h[23]=Re^~Ie&Ur,h[32]=Le^~Ue&Gr,h[33]=jr^~ze&je,h[42]=Hr^~We&hr,h[43]=Ke^~lr&dr,h[4]=ye^~Rr&Ae,h[5]=ve^~we&Ir,h[14]=Pe^~Ce&Fr,h[15]=Or^~Me&ke,h[24]=Lr^~Be&Oe,h[25]=Ie^~Ur&Fe,h[34]=Ue^~Gr&Ge,h[35]=ze^~je&qr,h[44]=We^~hr&xr,h[45]=lr^~dr&br,h[6]=Rr^~Ae&Tr,h[7]=we^~Ir&ge,h[16]=Ce^~Fr&Ee,h[17]=Me^~ke&_e,h[26]=Be^~Oe&Te,h[27]=Ur^~Fe&Dr,h[36]=Gr^~Ge&zr,h[37]=je^~qr&De,h[46]=hr^~xr&qe,h[47]=dr^~br&He,h[8]=Ae^~Tr&me,h[9]=Ir^~ge&Nr,h[18]=Fr^~Ee&Br,h[19]=ke^~_e&Se,h[28]=Oe^~Te&Ne,h[29]=Fe^~Dr&Re,h[38]=Ge^~zr&Le,h[39]=qr^~De&jr,h[48]=xr^~qe&Hr,h[49]=br^~He&Ke,h[0]^=S[I],h[1]^=S[I+1]};if(a)r.exports=f;else for(g=0;g<x.length;++g)i[x[g]]=f[x[g]]})()})(qc);const Hc=Gs;function he(r){return"0x"+Hc.keccak_256(z(r))}const Kc=Object.freeze(Object.defineProperty({__proto__:null,keccak256:he},Symbol.toStringTag,{value:"Module"})),Wc="rlp/5.7.0",Ut=new T(Wc);function $o(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Vo(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function u0(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(u0(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=$o(n.length);return i.unshift(247+i.length),i.concat(n)}oi(r)||Ut.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(z(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=$o(e.length);return t.unshift(183+t.length),t.concat(e)}function Yr(r){return q(u0(r))}function Qo(r,e,t,n){const i=[];for(;t<e+1+n;){const s=l0(r,t);i.push(s.result),t+=s.consumed,t>e+1+n&&Ut.throwError("child data too short",T.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function l0(r,e){if(r.length===0&&Ut.throwError("data too short",T.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&Ut.throwError("data short segment too short",T.errors.BUFFER_OVERRUN,{});const n=Vo(r,e+1,t);return e+1+t+n>r.length&&Ut.throwError("data long segment too short",T.errors.BUFFER_OVERRUN,{}),Qo(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&Ut.throwError("data array too short",T.errors.BUFFER_OVERRUN,{}),Qo(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&Ut.throwError("data array too short",T.errors.BUFFER_OVERRUN,{});const n=Vo(r,e+1,t);e+1+t+n>r.length&&Ut.throwError("data array too short",T.errors.BUFFER_OVERRUN,{});const i=q(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:i}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&Ut.throwError("data too short",T.errors.BUFFER_OVERRUN,{});const n=q(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:q(r[e])}}function Wi(r){const e=z(r),t=l0(e,0);return t.consumed!==e.length&&Ut.throwArgumentError("invalid rlp data","data",r),t.result}const Jc=Object.freeze(Object.defineProperty({__proto__:null,decode:Wi,encode:Yr},Symbol.toStringTag,{value:"Module"})),$c="address/5.7.0",wr=new T($c);function Yo(r){ne(r,20)||wr.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=z(he(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Vc=9007199254740991;function Qc(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const lo={};for(let r=0;r<10;r++)lo[String(r)]=String(r);for(let r=0;r<26;r++)lo[String.fromCharCode(65+r)]=String(10+r);const Xo=Math.floor(Qc(Vc));function h0(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>lo[n]).join("");for(;e.length>=Xo;){let n=e.substring(0,Xo);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function le(r){let e=null;if(typeof r!="string"&&wr.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Yo(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&wr.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==h0(r)&&wr.throwArgumentError("bad icap checksum","address",r),e=dc(r.substring(4));e.length<40;)e="0"+e;e=Yo("0x"+e)}else wr.throwArgumentError("invalid address","address",r);return e}function Yc(r){try{return le(r),!0}catch{}return!1}function Xc(r){let e=xc(le(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+h0("XE00"+e)+e}function ho(r){let e=null;try{e=le(r.from)}catch{wr.throwArgumentError("missing from address","transaction",r)}const t=Kt(z(j.from(r.nonce).toHexString()));return le(rt(he(Yr([e,t])),12))}function Zc(r,e,t){return Vt(e)!==32&&wr.throwArgumentError("salt must be 32 bytes","salt",e),Vt(t)!==32&&wr.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),le(rt(he(xe(["0xff",le(r),e,t])),12))}const eu=Object.freeze(Object.defineProperty({__proto__:null,getAddress:le,getContractAddress:ho,getCreate2Address:Zc,getIcapAddress:Xc,isAddress:Yc},Symbol.toStringTag,{value:"Module"})),tu="0x0000000000000000000000000000000000000000",ru=j.from(-1),d0=j.from(0),nu=j.from(1),iu=j.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),x0="0x0000000000000000000000000000000000000000000000000000000000000000";var su={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},ou={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},xo=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},Es=(r,e,t)=>(xo(r,e,"read from private field"),t?t.call(r):e.get(r)),_s=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},hi=(r,e,t,n)=>(xo(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),au=(r,e,t)=>(xo(r,e,"access private method"),t),qs={},fu={get exports(){return qs},set exports(r){qs=r}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(u,l,d){this.fn=u,this.context=l,this.once=d||!1}function s(u,l,d,p,A){if(typeof d!="function")throw new TypeError("The listener must be a function");var E=new i(d,p||u,A),P=t?t+l:l;return u._events[P]?u._events[P].fn?u._events[P]=[u._events[P],E]:u._events[P].push(E):(u._events[P]=E,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],d,p;if(this._eventsCount===0)return l;for(p in d=this._events)e.call(d,p)&&l.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},a.prototype.listeners=function(l){var d=t?t+l:l,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var A=0,E=p.length,P=new Array(E);A<E;A++)P[A]=p[A].fn;return P},a.prototype.listenerCount=function(l){var d=t?t+l:l,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(l,d,p,A,E,P){var S=t?t+l:l;if(!this._events[S])return!1;var y=this._events[S],M=arguments.length,B,F;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),M){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,p),!0;case 4:return y.fn.call(y.context,d,p,A),!0;case 5:return y.fn.call(y.context,d,p,A,E),!0;case 6:return y.fn.call(y.context,d,p,A,E,P),!0}for(F=1,B=new Array(M-1);F<M;F++)B[F-1]=arguments[F];y.fn.apply(y.context,B)}else{var G=y.length,D;for(F=0;F<G;F++)switch(y[F].once&&this.removeListener(l,y[F].fn,void 0,!0),M){case 1:y[F].fn.call(y[F].context);break;case 2:y[F].fn.call(y[F].context,d);break;case 3:y[F].fn.call(y[F].context,d,p);break;case 4:y[F].fn.call(y[F].context,d,p,A);break;default:if(!B)for(D=1,B=new Array(M-1);D<M;D++)B[D-1]=arguments[D];y[F].fn.apply(y[F].context,B)}}return!0},a.prototype.on=function(l,d,p){return s(this,l,d,p,!1)},a.prototype.once=function(l,d,p){return s(this,l,d,p,!0)},a.prototype.removeListener=function(l,d,p,A){var E=t?t+l:l;if(!this._events[E])return this;if(!d)return o(this,E),this;var P=this._events[E];if(P.fn)P.fn===d&&(!A||P.once)&&(!p||P.context===p)&&o(this,E);else{for(var S=0,y=[],M=P.length;S<M;S++)(P[S].fn!==d||A&&!P[S].once||p&&P[S].context!==p)&&y.push(P[S]);y.length?this._events[E]=y.length===1?y[0]:y:o(this,E)}return this},a.prototype.removeAllListeners=function(l){var d;return l?(d=t?t+l:l,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a})(fu);const cu=qs;var uu=Object.defineProperty,lu=(r,e,t)=>e in r?uu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rr=(r,e,t)=>(lu(r,typeof e!="symbol"?e+"":e,t),t),bo=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},Zo=(r,e,t)=>(bo(r,e,"read from private field"),t?t.call(r):e.get(r)),ea=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Ss=(r,e,t,n)=>(bo(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),mb=(r,e,t)=>(bo(r,e,"access private method"),t),hu=class extends cu{constructor({chains:r=[ou,su],options:e}){super(),rr(this,"chains"),rr(this,"options"),this.chains=r,this.options=e}getBlockExplorerUrls(r){const{default:e,...t}=r.blockExplorers??{};if(e)return[e.url,...Object.values(t).map(n=>n.url)]}isChainUnsupported(r){return!this.chains.some(e=>e.id===r)}};const du="properties/5.7.0";var xu=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const Bi=new T(du);function U(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Ot(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function Xe(r){return xu(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function po(r,e){(!r||typeof r!="object")&&Bi.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||Bi.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Je(r){const e={};for(const t in r)e[t]=r[t];return e}const bu={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function b0(r){if(r==null||bu[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!b0(n))return!1}return!0}return Bi.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function pu(r){if(b0(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>At(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&U(e,t,At(n))}return e}return Bi.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function At(r){return pu(r)}class Pr{constructor(e){for(const t in e)this[t]=At(e[t])}}const gu=Object.freeze(Object.defineProperty({__proto__:null,Description:Pr,checkProperties:po,deepCopy:At,defineReadOnly:U,getStatic:Ot,resolveProperties:Xe,shallowCopy:Je},Symbol.toStringTag,{value:"Module"})),ai="abi/5.7.0",ce=new T(ai),Xr={};let ta={calldata:!0,memory:!0,storage:!0},mu={calldata:!0,memory:!0};function di(r,e){if(r==="bytes"||r==="string"){if(ta[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&mu[e])return!0;return(ta[e]||e==="payable")&&ce.throwArgumentError("invalid modifier","name",e),!1}function yu(r,e){let t=r;function n(a){ce.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function i(a){let u={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(u.indexed=!1),u}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<r.length;a++){let u=r[a];switch(u){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=ln(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),di(o.type,o.name)&&(o.name=""),o.type=ln(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),di(o.type,o.name)&&(o.name=""),o.type=ln(o.type);let d=i(o.parent);o.parent.components.push(d),delete o.parent,o=d;break;case" ":o.state.allowType&&o.type!==""&&(o.type=ln(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):di(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(a)}}return o.parent&&ce.throwArgumentError("unexpected eof","param",r),delete s.state,o.name==="indexed"?(e||n(t.length-7),o.indexed&&n(t.length-7),o.indexed=!0,o.name=""):di(o.type,o.name)&&(o.name=""),s.type=ln(s.type),s}function Si(r,e){for(let t in e)U(r,t,e[t])}const ue=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),vu=new RegExp(/^(.*)\[([0-9]*)\]$/);class st{constructor(e,t){e!==Xr&&ce.throwError("use fromString",T.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Si(this,t);let n=this.type.match(vu);n?Si(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:st.fromObject({type:n[1],components:this.components}),baseType:"array"}):Si(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=ue.sighash),ue[e]||ce.throwArgumentError("invalid format type","format",e),e===ue.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==ue.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===ue.full?", ":",")+")"):t+=this.type,e!==ue.sighash&&(this.indexed===!0&&(t+=" indexed"),e===ue.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?st.fromString(e,t):st.fromObject(e)}static fromObject(e){return st.isParamType(e)?e:new st(Xr,{name:e.name||null,type:ln(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(st.fromObject):null})}static fromString(e,t){function n(i){return st.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(yu(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Xn(r,e){return Au(r).map(t=>st.fromString(t,e))}class qt{constructor(e,t){e!==Xr&&ce.throwError("use a static from method",T.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Si(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return qt.isFragment(e)?e:typeof e=="string"?qt.fromString(e):qt.fromObject(e)}static fromObject(e){if(qt.isFragment(e))return e;switch(e.type){case"function":return Bt.fromObject(e);case"event":return Gt.fromObject(e);case"constructor":return It.fromObject(e);case"error":return sr.fromObject(e);case"fallback":case"receive":return null}return ce.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Gt.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Bt.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?It.fromString(e.trim()):e.split(" ")[0]==="error"?sr.fromString(e.substring(5).trim()):ce.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Gt extends qt{format(e){if(e||(e=ue.sighash),ue[e]||ce.throwArgumentError("invalid format type","format",e),e===ue.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==ue.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===ue.full?", ":",")+") ",e!==ue.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?Gt.fromString(e):Gt.fromObject(e)}static fromObject(e){if(Gt.isEventFragment(e))return e;e.type!=="event"&&ce.throwArgumentError("invalid event object","value",e);const t={name:Zn(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(st.fromObject):[],type:"event"};return new Gt(Xr,t)}static fromString(e){let t=e.match(ei);t||ce.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:ce.warn("unknown modifier: "+i)}}),Gt.fromObject({name:t[1].trim(),anonymous:n,inputs:Xn(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function p0(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&ce.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||ce.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=j.from(t[1]),t[0]):r}function g0(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function m0(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&ce.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&ce.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&ce.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&ce.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&ce.throwArgumentError("unable to determine stateMutability","value",r),e}class It extends qt{format(e){if(e||(e=ue.sighash),ue[e]||ce.throwArgumentError("invalid format type","format",e),e===ue.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===ue.sighash&&ce.throwError("cannot format a constructor for sighash",T.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===ue.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?It.fromString(e):It.fromObject(e)}static fromObject(e){if(It.isConstructorFragment(e))return e;e.type!=="constructor"&&ce.throwArgumentError("invalid constructor object","value",e);let t=m0(e);t.constant&&ce.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(st.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?j.from(e.gas):null};return new It(Xr,n)}static fromString(e){let t={type:"constructor"};e=p0(e,t);let n=e.match(ei);return(!n||n[1].trim()!=="constructor")&&ce.throwArgumentError("invalid constructor string","value",e),t.inputs=Xn(n[2].trim(),!1),g0(n[3].trim(),t),It.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Bt extends It{format(e){if(e||(e=ue.sighash),ue[e]||ce.throwArgumentError("invalid format type","format",e),e===ue.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==ue.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===ue.full?", ":",")+") ",e!==ue.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?Bt.fromString(e):Bt.fromObject(e)}static fromObject(e){if(Bt.isFunctionFragment(e))return e;e.type!=="function"&&ce.throwArgumentError("invalid function object","value",e);let t=m0(e);const n={type:e.type,name:Zn(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(st.fromObject):[],outputs:e.outputs?e.outputs.map(st.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?j.from(e.gas):null};return new Bt(Xr,n)}static fromString(e){let t={type:"function"};e=p0(e,t);let n=e.split(" returns ");n.length>2&&ce.throwArgumentError("invalid function string","value",e);let i=n[0].match(ei);if(i||ce.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&Zn(t.name),t.inputs=Xn(i[2],!1),g0(i[3].trim(),t),n.length>1){let s=n[1].match(ei);(s[1].trim()!=""||s[3].trim()!="")&&ce.throwArgumentError("unexpected tokens","value",e),t.outputs=Xn(s[2],!1)}else t.outputs=[];return Bt.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function ra(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&ce.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class sr extends qt{format(e){if(e||(e=ue.sighash),ue[e]||ce.throwArgumentError("invalid format type","format",e),e===ue.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==ue.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===ue.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?sr.fromString(e):sr.fromObject(e)}static fromObject(e){if(sr.isErrorFragment(e))return e;e.type!=="error"&&ce.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Zn(e.name),inputs:e.inputs?e.inputs.map(st.fromObject):[]};return ra(new sr(Xr,t))}static fromString(e){let t={type:"error"},n=e.match(ei);return n||ce.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&Zn(t.name),t.inputs=Xn(n[2],!1),ra(sr.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function ln(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const wu=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Zn(r){return(!r||!r.match(wu))&&ce.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const ei=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Au(r){r=r.trim();let e=[],t="",n=0;for(let i=0;i<r.length;i++){let s=r[i];s===","&&n===0?(e.push(t),t=""):(t+=s,s==="("?n++:s===")"&&(n--,n===-1&&ce.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const go=new T(ai);function y0(r){const e=[],t=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{t(o,i[s])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}class ur{constructor(e,t,n,i){this.name=e,this.type=t,this.localName=n,this.dynamic=i}_throwError(e,t){go.throwArgumentError(e,this.localName,t)}}class Hs{constructor(e){U(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return xt(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(xe(e._data))}writeBytes(e){let t=z(e);const n=t.length%this.wordSize;return n&&(t=xe([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=z(j.from(e));return t.length>this.wordSize&&go.throwError("value out-of-bounds",T.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=xe([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Oi{constructor(e,t,n,i){U(this,"_data",z(e)),U(this,"wordSize",t||32),U(this,"_coerceFunc",n),U(this,"allowLoose",i),this._offset=0}get data(){return q(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Oi.coerce(e,t)}_peekBytes(e,t,n){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?i=t:go.throwError("data out-of-bounds",T.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Oi(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return j.from(this.readBytes(this.wordSize))}}class Eu extends ur{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=le(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return le(de(e.readValue().toHexString(),20))}}class _u extends ur{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const bn=new T(ai);function v0(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let u={};n=e.map(l=>{const d=l.localName;return d||bn.throwError("cannot encode object for signature with missing names",T.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:t}),u[d]&&bn.throwError("cannot encode object for signature with duplicate names",T.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:t}),u[d]=!0,t[d]})}else bn.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&bn.throwArgumentError("types/value length mismatch","tuple",t);let i=new Hs(r.wordSize),s=new Hs(r.wordSize),o=[];e.forEach((u,l)=>{let d=n[l];if(u.dynamic){let p=s.length;u.encode(s,d);let A=i.writeUpdatableValue();o.push(E=>{A(E+p)})}else u.encode(i,d)}),o.forEach(u=>{u(i.length)});let a=r.appendWriter(i);return a+=r.appendWriter(s),a}function w0(r,e){let t=[],n=r.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=r.readValue(),u=n.subReader(a.toNumber());try{o=s.decode(u)}catch(l){if(l.code===T.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(r)}catch(a){if(a.code===T.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const u=t[o];u instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw u}}):t[a]=u});for(let s=0;s<t.length;s++){const o=t[s];o instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class Su extends ur{constructor(e,t,n){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),bn.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return v0(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&bn.throwError("insufficient data length",T.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let i=0;i<t;i++)n.push(new _u(this.coder));return e.coerce(this.name,w0(e,n))}}class Pu extends ur{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class A0 extends ur{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=z(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Cu extends A0{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,q(super.decode(e)))}}class Mu extends ur{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=z(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,q(e.readBytes(this.size)))}}class ku extends ur{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Tu extends ur{constructor(e,t,n){const i=(t?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=j.from(t),i=iu.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(nu).mul(ru)))&&this._throwError("value out-of-bounds",t)}else(n.lt(d0)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const Nu="strings/5.7.0",E0=new T(Nu);var Qt;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Qt||(Qt={}));var gt;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(gt||(gt={}));function Ru(r,e,t,n,i){return E0.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function _0(r,e,t,n,i){if(r===gt.BAD_PREFIX||r===gt.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return r===gt.OVERRUN?t.length-e-1:0}function Iu(r,e,t,n,i){return r===gt.OVERLONG?(n.push(i),0):(n.push(65533),_0(r,e,t))}const S0=Object.freeze({error:Ru,ignore:_0,replace:Iu});function mo(r,e){e==null&&(e=S0.error),r=z(r);const t=[];let n=0;for(;n<r.length;){const i=r[n++];if(!(i>>7)){t.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(gt.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(gt.BAD_PREFIX,n-1,r,t);continue}if(n-1+s>=r.length){n+=e(gt.OVERRUN,n-1,r,t);continue}let a=i&(1<<8-s-1)-1;for(let u=0;u<s;u++){let l=r[n];if((l&192)!=128){n+=e(gt.MISSING_CONTINUE,n,r,t),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(gt.OUT_OF_RANGE,n-1-s,r,t,a);continue}if(a>=55296&&a<=57343){n+=e(gt.UTF16_SURROGATE,n-1-s,r,t,a);continue}if(a<=o){n+=e(gt.OVERLONG,n-1-s,r,t,a);continue}t.push(a)}}return t}function nt(r,e=Qt.current){e!=Qt.current&&(E0.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return z(t)}function Ps(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function Bu(r,e){return'"'+mo(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?Ps(t):(t-=65536,Ps((t>>10&1023)+55296)+Ps((t&1023)+56320))}).join("")+'"'}function Ks(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Cr(r,e){return Ks(mo(r,e))}function Fi(r,e=Qt.current){return mo(nt(r,e))}function Ou(r){const e=nt(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return q(xe([e,x0]).slice(0,32))}function Fu(r){const e=z(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Cr(e.slice(0,t))}function Du(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function yo(r,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,n={};return r.split(",").forEach(i=>{let s=i.split(":");t+=parseInt(s[0],16),n[t]=e(s[1])}),n}function P0(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function vo(r,e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];if(t+=i.l,r>=t&&r<=t+i.h&&(r-t)%(i.d||1)===0){if(i.e&&i.e.indexOf(r-t)!==-1)continue;return i}}return null}const Lu=P0("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Uu="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),zu=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],ju=yo("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Gu=yo("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),qu=yo("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Du),Hu=P0("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Ku(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function Wu(r){return!!vo(r,Lu)}function Ju(r){let e=vo(r,zu);if(e)return[r+e.s];let t=ju[r];if(t)return t;let n=Gu[r];if(n)return[r+n[0]];let i=qu[r];return i||null}function $u(r){return!!vo(r,Hu)}function Vu(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=Fi(r);e=Ku(e.map(n=>{if(Uu.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=Ju(n);return i||[n]})),e=Fi(Ks(e),Qt.NFKC),e.forEach(n=>{if($u(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(Wu(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=Ks(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const Qu=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return Qt},Utf8ErrorFuncs:S0,get Utf8ErrorReason(){return gt},_toEscapedUtf8String:Bu,formatBytes32String:Ou,nameprep:Vu,parseBytes32String:Fu,toUtf8Bytes:nt,toUtf8CodePoints:Fi,toUtf8String:Cr},Symbol.toStringTag,{value:"Module"}));class Yu extends A0{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,nt(t))}decode(e){return Cr(super.decode(e))}}class xi extends ur{constructor(e,t){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return v0(e,this.coders,t)}decode(e){return e.coerce(this.name,w0(e,this.coders))}}const bi=new T(ai),Xu=new RegExp(/^bytes([0-9]*)$/),Zu=new RegExp(/^(u?int)([0-9]*)$/);class C0{constructor(e){U(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Eu(e.name);case"bool":return new Pu(e.name);case"string":return new Yu(e.name);case"bytes":return new Cu(e.name);case"array":return new Su(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new xi((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new ku(e.name)}let t=e.type.match(Zu);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&bi.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Tu(n/8,t[1]==="int",e.name)}if(t=e.type.match(Xu),t){let n=parseInt(t[1]);return(n===0||n>32)&&bi.throwArgumentError("invalid bytes length","param",e),new Mu(n,e.name)}return bi.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Oi(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Hs(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(st.from(i)));return new xi(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&bi.throwError("types/values length mismatch",T.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(o=>this._getCoder(st.from(o))),i=new xi(n,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(o=>this._getCoder(st.from(o)));return new xi(i,"_").decode(this._getReader(z(t),n))}}const M0=new C0;function Ar(r){return he(nt(r))}const k0="hash/5.7.0";function wo(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return z(e)}function Ao(r){r=z(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const el=Object.freeze(Object.defineProperty({__proto__:null,decode:wo,encode:Ao},Symbol.toStringTag,{value:"Module"}));function T0(r,e){e==null&&(e=1);const t=[],n=t.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):t.push(a)})};return i(r,e),t}function tl(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function rl(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),i=1,s=[0,1];for(let D=1;D<n;D++)s.push(i+=t());let o=t(),a=e;e+=o;let u=0,l=0;function d(){return u==0&&(l=l<<8|r[e++],u=8),l>>--u&1}const p=31,A=Math.pow(2,p),E=A>>>1,P=E>>1,S=A-1;let y=0;for(let D=0;D<p;D++)y=y<<1|d();let M=[],B=0,F=A;for(;;){let D=Math.floor(((y-B+1)*i-1)/F),K=0,X=n;for(;X-K>1;){let oe=K+X>>>1;D<s[oe]?X=oe:K=oe}if(K==0)break;M.push(K);let Y=B+Math.floor(F*s[K]/i),ee=B+Math.floor(F*s[K+1]/i)-1;for(;!((Y^ee)&E);)y=y<<1&S|d(),Y=Y<<1&S,ee=ee<<1&S|1;for(;Y&~ee&P;)y=y&E|y<<1&S>>>1|d(),Y=Y<<1^E,ee=(ee^E)<<1|E|1;B=Y,F=1+ee-Y}let G=n-4;return M.map(D=>{switch(D-G){case 3:return G+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return G+256+(r[a++]<<8|r[a++]);case 1:return G+r[a++];default:return D-1}})}function nl(r){let e=0;return()=>r[e++]}function il(r){return nl(rl(r))}function sl(r){return r&1?~r>>1:r>>1}function ol(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function na(r,e){let t=Array(r);for(let n=0,i=-1;n<r;n++)t[n]=i+=1+e();return t}function al(r,e){let t=Array(r);for(let n=0,i=0;n<r;n++)t[n]=i+=sl(e());return t}function Di(r,e){let t=na(r(),r),n=r(),i=na(n,r),s=ol(n,r);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)t.push(i[o]+a);return e?t.map(o=>e[o]):t}function fl(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(ul(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(ll(t,r))}return tl(T0(e))}function cl(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function N0(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)al(r,t).forEach((s,o)=>n[o].push(s));return n}function ul(r,e){let t=1+e(),n=e(),i=cl(e),s=N0(i.length,1+r,e);return T0(s.map((o,a)=>{const u=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((d,p)=>{let A=p*n;return[u+p*t,l.map(E=>E+A)]})}))}function ll(r,e){let t=1+e();return N0(t,1+r,e).map(i=>[i[0],i.slice(1)])}function hl(r){let e=Di(r).sort((n,i)=>n-i);return t();function t(){let n=[];for(;;){let l=Di(r,e);if(l.length==0)break;n.push({set:new Set(l),node:t()})}n.sort((l,d)=>d.set.size-l.set.size);let i=r(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,u=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:u}}}function dl(){return il(wo("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Ji=dl(),xl=new Set(Di(Ji)),bl=new Set(Di(Ji)),pl=fl(Ji),gl=hl(Ji),ia=45,sa=95;function R0(r){return Fi(r)}function ml(r){return r.filter(e=>e!=65039)}function I0(r){for(let e of r.split(".")){let t=R0(e);try{for(let n=t.lastIndexOf(sa)-1;n>=0;n--)if(t[n]!==sa)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===ia&&t[3]===ia)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function yl(r){return I0(vl(r,ml))}function vl(r,e){let t=R0(r).reverse(),n=[];for(;t.length;){let i=Al(t);if(i){n.push(...e(i));continue}let s=t.pop();if(xl.has(s)){n.push(s);continue}if(bl.has(s))continue;let o=pl[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return I0(wl(String.fromCodePoint(...n)))}function wl(r){return r.normalize("NFC")}function Al(r,e){var t;let n=gl,i,s,o=[],a=r.length;for(e&&(e.length=0);a;){let u=r[--a];if(n=(t=n.branches.find(l=>l.set.has(u)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)s=u;else if(n.check&&u===s)break;o.push(u),n.fe0f&&(o.push(65039),a>0&&r[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...r.slice(a).reverse()),r.length=a)}return i}const El=new T(k0),B0=new Uint8Array(32);B0.fill(0);function oa(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function $i(r){const e=nt(yl(r)),t=[];if(r.length===0)return t;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(oa(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(oa(e.slice(n))),t}function _l(r){return $i(r).map(e=>Cr(e)).join(".")}function Sl(r){try{return $i(r).length!==0}catch{}return!1}function Wn(r){typeof r!="string"&&El.throwArgumentError("invalid ENS name; not a string","name",r);let e=B0;const t=$i(r);for(;t.length;)e=he(xe([e,he(t.pop())]));return q(e)}function O0(r){return q(xe($i(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const F0=`Ethereum Signed Message:
`;function Eo(r){return typeof r=="string"&&(r=nt(r)),he(xe([nt(F0),nt(String(r.length)),r]))}var Pl=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const Qe=new T(k0),D0=new Uint8Array(32);D0.fill(0);const Cl=j.from(-1),L0=j.from(0),U0=j.from(1),Ml=j.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function kl(r){const e=z(r),t=e.length%32;return t?xt([e,D0.slice(t)]):q(e)}const Tl=de(U0.toHexString(),32),Nl=de(L0.toHexString(),32),aa={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Cs=["name","version","chainId","verifyingContract","salt"];function fa(r){return function(e){return typeof e!="string"&&Qe.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const Rl={name:fa("name"),version:fa("version"),chainId:function(r){try{return j.from(r).toString()}catch{}return Qe.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return le(r).toLowerCase()}catch{}return Qe.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=z(r);if(e.length!==32)throw new Error("bad length");return q(e)}catch{}return Qe.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function Ms(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Qe.throwArgumentError("invalid numeric width","type",r);const i=Ml.mask(t?n-1:n),s=t?i.add(U0).mul(Cl):L0;return function(o){const a=j.from(o);return(a.lt(s)||a.gt(i))&&Qe.throwArgumentError(`value out-of-bounds for ${r}`,"value",o),de(a.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Qe.throwArgumentError("invalid bytes width","type",r),function(n){return z(n).length!==t&&Qe.throwArgumentError(`invalid length for ${r}`,"value",n),kl(n)}}}switch(r){case"address":return function(e){return de(le(e),32)};case"bool":return function(e){return e?Tl:Nl};case"bytes":return function(e){return he(e)};case"string":return function(e){return Ar(e)}}return null}function ca(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class ft{constructor(e){U(this,"types",Object.freeze(At(e))),U(this,"_encoderCache",{}),U(this,"_types",{});const t={},n={},i={};Object.keys(e).forEach(a=>{t[a]={},n[a]=[],i[a]={}});for(const a in e){const u={};e[a].forEach(l=>{u[l.name]&&Qe.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),u[l.name]=!0;const d=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];d===a&&Qe.throwArgumentError(`circular type reference to ${JSON.stringify(d)}`,"types",e),!Ms(d)&&(n[d]||Qe.throwArgumentError(`unknown type ${JSON.stringify(d)}`,"types",e),n[d].push(a),t[a][d]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Qe.throwArgumentError("missing primary type","types",e):s.length>1&&Qe.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),U(this,"primaryType",s[0]);function o(a,u){u[a]&&Qe.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),u[a]=!0,Object.keys(t[a]).forEach(l=>{n[l]&&(o(l,u),Object.keys(u).forEach(d=>{i[d][l]=!0}))}),delete u[a]}o(this.primaryType,{});for(const a in i){const u=Object.keys(i[a]);u.sort(),this._types[a]=ca(a,e[a])+u.map(l=>ca(l,e[l])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=Ms(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),o=parseInt(t[3]);return a=>{o>=0&&a.length!==o&&Qe.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let u=a.map(s);return this._types[i]&&(u=u.map(he)),he(xt(u))}}const n=this.types[e];if(n){const i=Ar(this._types[e]);return s=>{const o=n.map(({name:a,type:u})=>{const l=this.getEncoder(u)(s[a]);return this._types[u]?he(l):l});return o.unshift(i),xt(o)}}return Qe.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Qe.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return he(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Ms(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&t.length!==a&&Qe.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(u=>this._visit(o,u,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:u})=>(o[a]=this._visit(u,t[a],n),o),{}):Qe.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ft(e)}static getPrimaryType(e){return ft.from(e).primaryType}static hashStruct(e,t,n){return ft.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const i=aa[n];i||Qe.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>Cs.indexOf(n.name)-Cs.indexOf(i.name)),ft.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return xt(["0x1901",ft.hashDomain(e),ft.from(t).hash(n)])}static hash(e,t,n){return he(ft.encode(e,t,n))}static resolveNames(e,t,n,i){return Pl(this,void 0,void 0,function*(){e=Je(e);const s={};e.verifyingContract&&!ne(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=ft.from(t);o.visit(n,(a,u)=>(a==="address"&&!ne(u,20)&&(s[u]="0x"),u));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,u)=>a==="address"&&s[u]?s[u]:u),{domain:e,value:n}})}static getPayload(e,t,n){ft.hashDomain(e);const i={},s=[];Cs.forEach(u=>{const l=e[u];l!=null&&(i[u]=Rl[u](l),s.push({name:u,type:aa[u]}))});const o=ft.from(t),a=Je(t);return a.EIP712Domain?Qe.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(u,l)=>{if(u.match(/^bytes(\d*)/))return q(z(l));if(u.match(/^u?int/))return j.from(l).toString();switch(u){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Qe.throwArgumentError("invalid string","value",l),l}return Qe.throwArgumentError("unsupported type","type",u)})}}}const Il=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:ft,dnsEncode:O0,ensNormalize:_l,hashMessage:Eo,id:Ar,isValidName:Sl,messagePrefix:F0,namehash:Wn},Symbol.toStringTag,{value:"Module"})),Ve=new T(ai);class z0 extends Pr{}class j0 extends Pr{}class Bl extends Pr{}class Li extends Pr{static isIndexed(e){return!!(e&&e._isIndexed)}}const Ol={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function ua(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class Ws{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,U(this,"fragments",t.map(n=>qt.from(n)).filter(n=>n!=null)),U(this,"_abiCoder",Ot(new.target,"getAbiCoder")()),U(this,"functions",{}),U(this,"errors",{}),U(this,"events",{}),U(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Ve.warn("duplicate definition - constructor");return}U(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Ve.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||U(this,"deploy",It.from({payable:!1,type:"constructor"})),U(this,"_isInterface",!0)}format(e){e||(e=ue.full),e===ue.sighash&&Ve.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===ue.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return M0}static getAddress(e){return le(e)}static getSighash(e){return rt(Ar(e.format()),0,4)}static getEventTopic(e){return Ar(e.format())}getFunction(e){if(ne(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Ve.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Ve.throwArgumentError("no matching function","name",n):i.length>1&&Ve.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const t=this.functions[Bt.fromString(e).format()];return t||Ve.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(ne(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Ve.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Ve.throwArgumentError("no matching event","name",n):i.length>1&&Ve.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const t=this.events[Gt.fromString(e).format()];return t||Ve.throwArgumentError("no matching event","signature",e),t}getError(e){if(ne(e)){const n=Ot(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Ve.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Ve.throwArgumentError("no matching error","name",n):i.length>1&&Ve.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const t=this.errors[Bt.fromString(e).format()];return t||Ve.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Ot(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ot(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=z(t);return q(n.slice(0,4))!==this.getSighash(e)&&Ve.throwArgumentError(`data signature does not match error ${e.name}.`,"data",q(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),q(xe([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=z(t);return q(n.slice(0,4))!==this.getSighash(e)&&Ve.throwArgumentError(`data signature does not match function ${e.name}.`,"data",q(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),q(xe([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=z(t),i=null,s="",o=null,a=null,u=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=q(n.slice(0,4)),d=Ol[l];if(d)o=this._abiCoder.decode(d.inputs,n.slice(4)),a=d.name,u=d.signature,d.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const p=this.getError(l);o=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,u=p.format()}catch{}break}}return Ve.throwError("call revert exception"+s,T.errors.CALL_EXCEPTION,{method:e.format(),data:q(t),errorArgs:o,errorName:a,errorSignature:u,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),q(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Ve.throwError("too many arguments for "+e.format(),T.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Ar(o):s.type==="bytes"?he(q(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=j.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),de(q(o),32));for(t.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Ve.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Ve.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(u=>i(a,u))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Ve.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const u=t[a];if(o.indexed)if(o.type==="string")n.push(Ar(u));else if(o.type==="bytes")n.push(he(u));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[u]))}else i.push(o),s.push(u)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let A=this.getEventTopic(e);(!ne(n[0],32)||n[0].toLowerCase()!==A)&&Ve.throwError("fragment/topic mismatch",T.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:A,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((A,E)=>{A.indexed?A.type==="string"||A.type==="bytes"||A.baseType==="tuple"||A.baseType==="array"?(i.push(st.fromObject({type:"bytes32",name:A.name})),o.push(!0)):(i.push(A),o.push(!1)):(s.push(A),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,xe(n)):null,u=this._abiCoder.decode(s,t,!0),l=[],d=0,p=0;e.inputs.forEach((A,E)=>{if(A.indexed)if(a==null)l[E]=new Li({_isIndexed:!0,hash:null});else if(o[E])l[E]=new Li({_isIndexed:!0,hash:a[p++]});else try{l[E]=a[p++]}catch(P){l[E]=P}else try{l[E]=u[d++]}catch(P){l[E]=P}if(A.name&&l[A.name]==null){const P=l[E];P instanceof Error?Object.defineProperty(l,A.name,{enumerable:!0,get:()=>{throw ua(`property ${JSON.stringify(A.name)}`,P)}}):l[A.name]=P}});for(let A=0;A<l.length;A++){const E=l[A];E instanceof Error&&Object.defineProperty(l,A,{enumerable:!0,get:()=>{throw ua(`index ${A}`,E)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new j0({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:j.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new z0({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=q(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new Bl({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Fl=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:C0,ConstructorFragment:It,ErrorFragment:sr,EventFragment:Gt,FormatTypes:ue,Fragment:qt,FunctionFragment:Bt,Indexed:Li,Interface:Ws,LogDescription:z0,ParamType:st,TransactionDescription:j0,checkResultErrors:y0,defaultAbiCoder:M0},Symbol.toStringTag,{value:"Module"})),Dl="abstract-provider/5.7.0";var Ll=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const Ul=new T(Dl);class zl extends Pr{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Mn{constructor(){Ul.checkAbstract(new.target,Mn),U(this,"_isProvider",!0)}getFeeData(){return Ll(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield Xe({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=j.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const jl="abstract-signer/5.7.0";var Tt=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const St=new T(jl),Gl=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],ql=[T.errors.INSUFFICIENT_FUNDS,T.errors.NONCE_EXPIRED,T.errors.REPLACEMENT_UNDERPRICED];class kn{constructor(){St.checkAbstract(new.target,kn),U(this,"_isSigner",!0)}getBalance(e){return Tt(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Tt(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Tt(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield Xe(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return Tt(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Xe(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return Tt(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return Tt(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Tt(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Tt(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Tt(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)Gl.indexOf(n)===-1&&St.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Je(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&St.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return Tt(this,void 0,void 0,function*(){const t=yield Xe(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>Tt(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&St.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?St.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&St.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&St.throwError("network does not support EIP-1559",T.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):St.throwError("failed to get consistent fee data",T.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(ql.indexOf(i.code)>=0)throw i;return St.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&St.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Xe(t)})}_checkProvider(e){this.provider||St.throwError("missing provider",T.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class _o extends kn{constructor(e,t){super(),U(this,"address",e),U(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{St.throwError(e,T.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new _o(this.address,e)}}var dt={},fe={},fi=G0;function G0(r,e){if(!r)throw new Error(e||"Assertion failed")}G0.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Js={},la={get exports(){return Js},set exports(r){Js=r}};typeof Object.create=="function"?la.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:la.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var Hl=fi,Kl=Js;fe.inherits=Kl;function Wl(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function Jl(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var s=r.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):Wl(r,i)?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}fe.toArray=Jl;function $l(r){for(var e="",t=0;t<r.length;t++)e+=H0(r[t].toString(16));return e}fe.toHex=$l;function q0(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}fe.htonl=q0;function Vl(r,e){for(var t="",n=0;n<r.length;n++){var i=r[n];e==="little"&&(i=q0(i)),t+=K0(i.toString(16))}return t}fe.toHex32=Vl;function H0(r){return r.length===1?"0"+r:r}fe.zero2=H0;function K0(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}fe.zero8=K0;function Ql(r,e,t,n){var i=t-e;Hl(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var u;n==="big"?u=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:u=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],s[o]=u>>>0}return s}fe.join32=Ql;function Yl(r,e){for(var t=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var s=r[n];e==="big"?(t[i]=s>>>24,t[i+1]=s>>>16&255,t[i+2]=s>>>8&255,t[i+3]=s&255):(t[i+3]=s>>>24,t[i+2]=s>>>16&255,t[i+1]=s>>>8&255,t[i]=s&255)}return t}fe.split32=Yl;function Xl(r,e){return r>>>e|r<<32-e}fe.rotr32=Xl;function Zl(r,e){return r<<e|r>>>32-e}fe.rotl32=Zl;function eh(r,e){return r+e>>>0}fe.sum32=eh;function th(r,e,t){return r+e+t>>>0}fe.sum32_3=th;function rh(r,e,t,n){return r+e+t+n>>>0}fe.sum32_4=rh;function nh(r,e,t,n,i){return r+e+t+n+i>>>0}fe.sum32_5=nh;function ih(r,e,t,n){var i=r[e],s=r[e+1],o=n+s>>>0,a=(o<n?1:0)+t+i;r[e]=a>>>0,r[e+1]=o}fe.sum64=ih;function sh(r,e,t,n){var i=e+n>>>0,s=(i<e?1:0)+r+t;return s>>>0}fe.sum64_hi=sh;function oh(r,e,t,n){var i=e+n;return i>>>0}fe.sum64_lo=oh;function ah(r,e,t,n,i,s,o,a){var u=0,l=e;l=l+n>>>0,u+=l<e?1:0,l=l+s>>>0,u+=l<s?1:0,l=l+a>>>0,u+=l<a?1:0;var d=r+t+i+o+u;return d>>>0}fe.sum64_4_hi=ah;function fh(r,e,t,n,i,s,o,a){var u=e+n+s+a;return u>>>0}fe.sum64_4_lo=fh;function ch(r,e,t,n,i,s,o,a,u,l){var d=0,p=e;p=p+n>>>0,d+=p<e?1:0,p=p+s>>>0,d+=p<s?1:0,p=p+a>>>0,d+=p<a?1:0,p=p+l>>>0,d+=p<l?1:0;var A=r+t+i+o+u+d;return A>>>0}fe.sum64_5_hi=ch;function uh(r,e,t,n,i,s,o,a,u,l){var d=e+n+s+a+l;return d>>>0}fe.sum64_5_lo=uh;function lh(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}fe.rotr64_hi=lh;function hh(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}fe.rotr64_lo=hh;function dh(r,e,t){return r>>>t}fe.shr64_hi=dh;function xh(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}fe.shr64_lo=xh;var Tn={},ha=fe,bh=fi;function Vi(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Tn.BlockHash=Vi;Vi.prototype.update=function(e,t){if(e=ha.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=ha.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Vi.prototype.digest=function(e){return this.update(this._pad()),bh(this.pending===null),this._digest(e)};Vi.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Nn={},er={},ph=fe,Wt=ph.rotr32;function gh(r,e,t,n){if(r===0)return W0(e,t,n);if(r===1||r===3)return $0(e,t,n);if(r===2)return J0(e,t,n)}er.ft_1=gh;function W0(r,e,t){return r&e^~r&t}er.ch32=W0;function J0(r,e,t){return r&e^r&t^e&t}er.maj32=J0;function $0(r,e,t){return r^e^t}er.p32=$0;function mh(r){return Wt(r,2)^Wt(r,13)^Wt(r,22)}er.s0_256=mh;function yh(r){return Wt(r,6)^Wt(r,11)^Wt(r,25)}er.s1_256=yh;function vh(r){return Wt(r,7)^Wt(r,18)^r>>>3}er.g0_256=vh;function wh(r){return Wt(r,17)^Wt(r,19)^r>>>10}er.g1_256=wh;var An=fe,Ah=Tn,Eh=er,ks=An.rotl32,Bn=An.sum32,_h=An.sum32_5,Sh=Eh.ft_1,V0=Ah.BlockHash,Ph=[1518500249,1859775393,2400959708,3395469782];function Yt(){if(!(this instanceof Yt))return new Yt;V0.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}An.inherits(Yt,V0);var Ch=Yt;Yt.blockSize=512;Yt.outSize=160;Yt.hmacStrength=80;Yt.padLength=64;Yt.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=ks(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var d=~~(i/20),p=_h(ks(s,5),Sh(d,o,a,u),l,n[i],Ph[d]);l=u,u=a,a=ks(o,30),o=s,s=p}this.h[0]=Bn(this.h[0],s),this.h[1]=Bn(this.h[1],o),this.h[2]=Bn(this.h[2],a),this.h[3]=Bn(this.h[3],u),this.h[4]=Bn(this.h[4],l)};Yt.prototype._digest=function(e){return e==="hex"?An.toHex32(this.h,"big"):An.split32(this.h,"big")};var En=fe,Mh=Tn,Rn=er,kh=fi,Nt=En.sum32,Th=En.sum32_4,Nh=En.sum32_5,Rh=Rn.ch32,Ih=Rn.maj32,Bh=Rn.s0_256,Oh=Rn.s1_256,Fh=Rn.g0_256,Dh=Rn.g1_256,Q0=Mh.BlockHash,Lh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Xt(){if(!(this instanceof Xt))return new Xt;Q0.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Lh,this.W=new Array(64)}En.inherits(Xt,Q0);var Y0=Xt;Xt.blockSize=512;Xt.outSize=256;Xt.hmacStrength=192;Xt.padLength=64;Xt.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=Th(Dh(n[i-2]),n[i-7],Fh(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],l=this.h[4],d=this.h[5],p=this.h[6],A=this.h[7];for(kh(this.k.length===n.length),i=0;i<n.length;i++){var E=Nh(A,Oh(l),Rh(l,d,p),this.k[i],n[i]),P=Nt(Bh(s),Ih(s,o,a));A=p,p=d,d=l,l=Nt(u,E),u=a,a=o,o=s,s=Nt(E,P)}this.h[0]=Nt(this.h[0],s),this.h[1]=Nt(this.h[1],o),this.h[2]=Nt(this.h[2],a),this.h[3]=Nt(this.h[3],u),this.h[4]=Nt(this.h[4],l),this.h[5]=Nt(this.h[5],d),this.h[6]=Nt(this.h[6],p),this.h[7]=Nt(this.h[7],A)};Xt.prototype._digest=function(e){return e==="hex"?En.toHex32(this.h,"big"):En.split32(this.h,"big")};var $s=fe,X0=Y0;function ar(){if(!(this instanceof ar))return new ar;X0.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}$s.inherits(ar,X0);var Uh=ar;ar.blockSize=512;ar.outSize=224;ar.hmacStrength=192;ar.padLength=64;ar.prototype._digest=function(e){return e==="hex"?$s.toHex32(this.h.slice(0,7),"big"):$s.split32(this.h.slice(0,7),"big")};var yt=fe,zh=Tn,jh=fi,Jt=yt.rotr64_hi,$t=yt.rotr64_lo,Z0=yt.shr64_hi,ef=yt.shr64_lo,pr=yt.sum64,Ts=yt.sum64_hi,Ns=yt.sum64_lo,Gh=yt.sum64_4_hi,qh=yt.sum64_4_lo,Hh=yt.sum64_5_hi,Kh=yt.sum64_5_lo,tf=zh.BlockHash,Wh=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Dt(){if(!(this instanceof Dt))return new Dt;tf.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Wh,this.W=new Array(160)}yt.inherits(Dt,tf);var rf=Dt;Dt.blockSize=1024;Dt.outSize=512;Dt.hmacStrength=192;Dt.padLength=128;Dt.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var s=nd(n[i-4],n[i-3]),o=id(n[i-4],n[i-3]),a=n[i-14],u=n[i-13],l=td(n[i-30],n[i-29]),d=rd(n[i-30],n[i-29]),p=n[i-32],A=n[i-31];n[i]=Gh(s,o,a,u,l,d,p,A),n[i+1]=qh(s,o,a,u,l,d,p,A)}};Dt.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],l=this.h[5],d=this.h[6],p=this.h[7],A=this.h[8],E=this.h[9],P=this.h[10],S=this.h[11],y=this.h[12],M=this.h[13],B=this.h[14],F=this.h[15];jh(this.k.length===n.length);for(var G=0;G<n.length;G+=2){var D=B,K=F,X=Zh(A,E),Y=ed(A,E),ee=Jh(A,E,P,S,y),oe=$h(A,E,P,S,y,M),$=this.k[G],ie=this.k[G+1],w=n[G],f=n[G+1],x=Hh(D,K,X,Y,ee,oe,$,ie,w,f),g=Kh(D,K,X,Y,ee,oe,$,ie,w,f);D=Yh(i,s),K=Xh(i,s),X=Vh(i,s,o,a,u),Y=Qh(i,s,o,a,u,l);var v=Ts(D,K,X,Y),_=Ns(D,K,X,Y);B=y,F=M,y=P,M=S,P=A,S=E,A=Ts(d,p,x,g),E=Ns(p,p,x,g),d=u,p=l,u=o,l=a,o=i,a=s,i=Ts(x,g,v,_),s=Ns(x,g,v,_)}pr(this.h,0,i,s),pr(this.h,2,o,a),pr(this.h,4,u,l),pr(this.h,6,d,p),pr(this.h,8,A,E),pr(this.h,10,P,S),pr(this.h,12,y,M),pr(this.h,14,B,F)};Dt.prototype._digest=function(e){return e==="hex"?yt.toHex32(this.h,"big"):yt.split32(this.h,"big")};function Jh(r,e,t,n,i){var s=r&t^~r&i;return s<0&&(s+=4294967296),s}function $h(r,e,t,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function Vh(r,e,t,n,i){var s=r&t^r&i^t&i;return s<0&&(s+=4294967296),s}function Qh(r,e,t,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function Yh(r,e){var t=Jt(r,e,28),n=Jt(e,r,2),i=Jt(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function Xh(r,e){var t=$t(r,e,28),n=$t(e,r,2),i=$t(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function Zh(r,e){var t=Jt(r,e,14),n=Jt(r,e,18),i=Jt(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function ed(r,e){var t=$t(r,e,14),n=$t(r,e,18),i=$t(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function td(r,e){var t=Jt(r,e,1),n=Jt(r,e,8),i=Z0(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function rd(r,e){var t=$t(r,e,1),n=$t(r,e,8),i=ef(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function nd(r,e){var t=Jt(r,e,19),n=Jt(e,r,29),i=Z0(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}function id(r,e){var t=$t(r,e,19),n=$t(e,r,29),i=ef(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}var Vs=fe,nf=rf;function fr(){if(!(this instanceof fr))return new fr;nf.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Vs.inherits(fr,nf);var sd=fr;fr.blockSize=1024;fr.outSize=384;fr.hmacStrength=192;fr.padLength=128;fr.prototype._digest=function(e){return e==="hex"?Vs.toHex32(this.h.slice(0,12),"big"):Vs.split32(this.h.slice(0,12),"big")};Nn.sha1=Ch;Nn.sha224=Uh;Nn.sha256=Y0;Nn.sha384=sd;Nn.sha512=rf;var sf={},Zr=fe,od=Tn,pi=Zr.rotl32,da=Zr.sum32,On=Zr.sum32_3,xa=Zr.sum32_4,of=od.BlockHash;function Zt(){if(!(this instanceof Zt))return new Zt;of.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Zr.inherits(Zt,of);sf.ripemd160=Zt;Zt.blockSize=512;Zt.outSize=160;Zt.hmacStrength=192;Zt.padLength=64;Zt.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=n,l=i,d=s,p=o,A=a,E=0;E<80;E++){var P=da(pi(xa(n,ba(E,i,s,o),e[cd[E]+t],ad(E)),ld[E]),a);n=a,a=o,o=pi(s,10),s=i,i=P,P=da(pi(xa(u,ba(79-E,l,d,p),e[ud[E]+t],fd(E)),hd[E]),A),u=A,A=p,p=pi(d,10),d=l,l=P}P=On(this.h[1],s,p),this.h[1]=On(this.h[2],o,A),this.h[2]=On(this.h[3],a,u),this.h[3]=On(this.h[4],n,l),this.h[4]=On(this.h[0],i,d),this.h[0]=P};Zt.prototype._digest=function(e){return e==="hex"?Zr.toHex32(this.h,"little"):Zr.split32(this.h,"little")};function ba(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function ad(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function fd(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var cd=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ud=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ld=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],hd=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],dd=fe,xd=fi;function _n(r,e,t){if(!(this instanceof _n))return new _n(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(dd.toArray(e,t))}var bd=_n;_n.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),xd(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};_n.prototype.update=function(e,t){return this.inner.update(e,t),this};_n.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=fe,e.common=Tn,e.sha=Nn,e.ripemd=sf,e.hmac=bd,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(dt);function In(r,e,t){return t={path:e,exports:{},require:function(n,i){return pd(n,i??t.path)}},r(t,t.exports),t.exports}function pd(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var So=af;function af(r,e){if(!r)throw new Error(e||"Assertion failed")}af.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Ft=In(function(r,e){var t=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var u=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)u[l]=o[l]|0;return u}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)u.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var d=o.charCodeAt(l),p=d>>8,A=d&255;p?u.push(p,A):u.push(A)}return u}t.toArray=n;function i(o){return o.length===1?"0"+o:o}t.zero2=i;function s(o){for(var a="",u=0;u<o.length;u++)a+=i(o[u].toString(16));return a}t.toHex=s,t.encode=function(a,u){return u==="hex"?s(a):a}}),Et=In(function(r,e){var t=e;t.assert=So,t.toArray=Ft.toArray,t.zero2=Ft.zero2,t.toHex=Ft.toHex,t.encode=Ft.encode;function n(u,l,d){var p=new Array(Math.max(u.bitLength(),d)+1);p.fill(0);for(var A=1<<l+1,E=u.clone(),P=0;P<p.length;P++){var S,y=E.andln(A-1);E.isOdd()?(y>(A>>1)-1?S=(A>>1)-y:S=y,E.isubn(S)):S=0,p[P]=S,E.iushrn(1)}return p}t.getNAF=n;function i(u,l){var d=[[],[]];u=u.clone(),l=l.clone();for(var p=0,A=0,E;u.cmpn(-p)>0||l.cmpn(-A)>0;){var P=u.andln(3)+p&3,S=l.andln(3)+A&3;P===3&&(P=-1),S===3&&(S=-1);var y;P&1?(E=u.andln(7)+p&7,(E===3||E===5)&&S===2?y=-P:y=P):y=0,d[0].push(y);var M;S&1?(E=l.andln(7)+A&7,(E===3||E===5)&&P===2?M=-S:M=S):M=0,d[1].push(M),2*p===y+1&&(p=1-p),2*A===M+1&&(A=1-A),u.iushrn(1),l.iushrn(1)}return d}t.getJSF=i;function s(u,l,d){var p="_"+l;u.prototype[l]=function(){return this[p]!==void 0?this[p]:this[p]=d.call(this)}}t.cachedProperty=s;function o(u){return typeof u=="string"?t.toArray(u,"hex"):u}t.parseBytes=o;function a(u){return new re(u,"hex","le")}t.intFromLE=a}),Ui=Et.getNAF,gd=Et.getJSF,zi=Et.assert;function Mr(r,e){this.type=r,this.p=new re(e.p,16),this.red=e.prime?re.red(e.prime):re.mont(this.p),this.zero=new re(0).toRed(this.red),this.one=new re(1).toRed(this.red),this.two=new re(2).toRed(this.red),this.n=e.n&&new re(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var sn=Mr;Mr.prototype.point=function(){throw new Error("Not implemented")};Mr.prototype.validate=function(){throw new Error("Not implemented")};Mr.prototype._fixedNafMul=function(e,t){zi(e.precomputed);var n=e._getDoubles(),i=Ui(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var l=a+n.step-1;l>=a;l--)u=(u<<1)+i[l];o.push(u)}for(var d=this.jpoint(null,null,null),p=this.jpoint(null,null,null),A=s;A>0;A--){for(a=0;a<o.length;a++)u=o[a],u===A?p=p.mixedAdd(n.points[a]):u===-A&&(p=p.mixedAdd(n.points[a].neg()));d=d.add(p)}return d.toP()};Mr.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Ui(t,n,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var l=0;u>=0&&o[u]===0;u--)l++;if(u>=0&&l++,a=a.dblp(l),u<0)break;var d=o[u];zi(d!==0),e.type==="affine"?d>0?a=a.mixedAdd(s[d-1>>1]):a=a.mixedAdd(s[-d-1>>1].neg()):d>0?a=a.add(s[d-1>>1]):a=a.add(s[-d-1>>1].neg())}return e.type==="affine"?a.toP():a};Mr.prototype._wnafMulAdd=function(e,t,n,i,s){var o=this._wnafT1,a=this._wnafT2,u=this._wnafT3,l=0,d,p,A;for(d=0;d<i;d++){A=t[d];var E=A._getNAFPoints(e);o[d]=E.wnd,a[d]=E.points}for(d=i-1;d>=1;d-=2){var P=d-1,S=d;if(o[P]!==1||o[S]!==1){u[P]=Ui(n[P],o[P],this._bitLength),u[S]=Ui(n[S],o[S],this._bitLength),l=Math.max(u[P].length,l),l=Math.max(u[S].length,l);continue}var y=[t[P],null,null,t[S]];t[P].y.cmp(t[S].y)===0?(y[1]=t[P].add(t[S]),y[2]=t[P].toJ().mixedAdd(t[S].neg())):t[P].y.cmp(t[S].y.redNeg())===0?(y[1]=t[P].toJ().mixedAdd(t[S]),y[2]=t[P].add(t[S].neg())):(y[1]=t[P].toJ().mixedAdd(t[S]),y[2]=t[P].toJ().mixedAdd(t[S].neg()));var M=[-3,-1,-5,-7,0,7,5,1,3],B=gd(n[P],n[S]);for(l=Math.max(B[0].length,l),u[P]=new Array(l),u[S]=new Array(l),p=0;p<l;p++){var F=B[0][p]|0,G=B[1][p]|0;u[P][p]=M[(F+1)*3+(G+1)],u[S][p]=0,a[P]=y}}var D=this.jpoint(null,null,null),K=this._wnafT4;for(d=l;d>=0;d--){for(var X=0;d>=0;){var Y=!0;for(p=0;p<i;p++)K[p]=u[p][d]|0,K[p]!==0&&(Y=!1);if(!Y)break;X++,d--}if(d>=0&&X++,D=D.dblp(X),d<0)break;for(p=0;p<i;p++){var ee=K[p];ee!==0&&(ee>0?A=a[p][ee-1>>1]:ee<0&&(A=a[p][-ee-1>>1].neg()),A.type==="affine"?D=D.mixedAdd(A):D=D.add(A))}}for(d=0;d<i;d++)a[d]=null;return s?D:D.toP()};function Mt(r,e){this.curve=r,this.type=e,this.precomputed=null}Mr.BasePoint=Mt;Mt.prototype.eq=function(){throw new Error("Not implemented")};Mt.prototype.validate=function(){return this.curve.validate(this)};Mr.prototype.decodePoint=function(e,t){e=Et.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?zi(e[e.length-1]%2===0):e[0]===7&&zi(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Mt.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Mt.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Mt.prototype.encode=function(e,t){return Et.encode(this._encode(t),e)};Mt.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Mt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Mt.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Mt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};Mt.prototype._getBeta=function(){return null};Mt.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var Po=In(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),md=Et.assert;function kt(r){sn.call(this,"short",r),this.a=new re(r.a,16).toRed(this.red),this.b=new re(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Po(kt,sn);var yd=kt;kt.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new re(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new re(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],md(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new re(a.a,16),b:new re(a.b,16)}}):o=this._getEndoBasis(n),{beta:t,lambda:n,basis:o}}};kt.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:re.mont(e),n=new re(2).toRed(t).redInvm(),i=n.redNeg(),s=new re(3).toRed(t).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};kt.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new re(1),o=new re(0),a=new re(0),u=new re(1),l,d,p,A,E,P,S,y=0,M,B;n.cmpn(0)!==0;){var F=i.div(n);M=i.sub(F.mul(n)),B=a.sub(F.mul(s));var G=u.sub(F.mul(o));if(!p&&M.cmp(t)<0)l=S.neg(),d=s,p=M.neg(),A=B;else if(p&&++y===2)break;S=M,i=n,n=M,a=s,s=B,u=o,o=G}E=M.neg(),P=B;var D=p.sqr().add(A.sqr()),K=E.sqr().add(P.sqr());return K.cmp(D)>=0&&(E=l,P=d),p.negative&&(p=p.neg(),A=A.neg()),E.negative&&(E=E.neg(),P=P.neg()),[{a:p,b:A},{a:E,b:P}]};kt.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),u=o.mul(i.a),l=s.mul(n.b),d=o.mul(i.b),p=e.sub(a).sub(u),A=l.add(d).neg();return{k1:p,k2:A}};kt.prototype.pointFromX=function(e,t){e=new re(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};kt.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};kt.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),u=e[o],l=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=u,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var d=this._wnafMulAdd(1,i,s,o*2,n),p=0;p<o*2;p++)i[p]=null,s[p]=null;return d};function ot(r,e,t,n){sn.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new re(e,16),this.y=new re(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Po(ot,sn.BasePoint);kt.prototype.point=function(e,t,n){return new ot(this,e,t,n)};kt.prototype.pointFromJSON=function(e,t){return ot.fromJSON(this,e,t)};ot.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};ot.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ot.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ot.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ot.prototype.isInfinity=function(){return this.inf};ot.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ot.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ot.prototype.getX=function(){return this.x.fromRed()};ot.prototype.getY=function(){return this.y.fromRed()};ot.prototype.mul=function(e){return e=new re(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ot.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ot.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ot.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ot.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};ot.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ct(r,e,t,n){sn.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new re(0)):(this.x=new re(e,16),this.y=new re(t,16),this.z=new re(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Po(ct,sn.BasePoint);kt.prototype.jpoint=function(e,t,n){return new ct(this,e,t,n)};ct.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};ct.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ct.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),l=o.redSub(a);if(u.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=u.redSqr(),p=d.redMul(u),A=i.redMul(d),E=l.redSqr().redIAdd(p).redISub(A).redISub(A),P=l.redMul(A.redISub(E)).redISub(o.redMul(p)),S=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(E,P,S)};ct.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),d=l.redMul(a),p=n.redMul(l),A=u.redSqr().redIAdd(d).redISub(p).redISub(p),E=u.redMul(p.redISub(A)).redISub(s.redMul(d)),P=this.z.redMul(a);return this.curve.jpoint(A,E,P)};ct.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,u=this.z,l=u.redSqr().redSqr(),d=a.redAdd(a);for(t=0;t<e;t++){var p=o.redSqr(),A=d.redSqr(),E=A.redSqr(),P=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(l)),S=o.redMul(A),y=P.redSqr().redISub(S.redAdd(S)),M=S.redISub(y),B=P.redMul(M);B=B.redIAdd(B).redISub(E);var F=d.redMul(u);t+1<e&&(l=l.redMul(E)),o=y,u=F,d=B}return this.curve.jpoint(o,d.redMul(s),u)};ct.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ct.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),l=u.redSqr().redISub(a).redISub(a),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),e=l,t=u.redMul(a.redISub(l)).redISub(d),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),A=this.y.redSqr(),E=A.redSqr(),P=this.x.redAdd(A).redSqr().redISub(p).redISub(E);P=P.redIAdd(P);var S=p.redAdd(p).redIAdd(p),y=S.redSqr(),M=E.redIAdd(E);M=M.redIAdd(M),M=M.redIAdd(M),e=y.redISub(P).redISub(P),t=S.redMul(P.redISub(e)).redISub(M),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};ct.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=u.redSqr().redISub(a).redISub(a);e=l;var d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),t=u.redMul(a.redISub(l)).redISub(d),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),A=this.y.redSqr(),E=this.x.redMul(A),P=this.x.redSub(p).redMul(this.x.redAdd(p));P=P.redAdd(P).redIAdd(P);var S=E.redIAdd(E);S=S.redIAdd(S);var y=S.redAdd(S);e=P.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(p);var M=A.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M),t=P.redMul(S.redISub(e)).redISub(M)}return this.curve.jpoint(e,t,n)};ct.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=t.redAdd(t);l=l.redIAdd(l);var d=l.redMul(a),p=u.redSqr().redISub(d.redAdd(d)),A=d.redISub(p),E=a.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var P=u.redMul(A).redISub(E),S=n.redAdd(n).redMul(i);return this.curve.jpoint(p,P,S)};ct.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var u=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var d=s.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(l),p=t.redMul(d);p=p.redIAdd(p),p=p.redIAdd(p);var A=this.x.redMul(u).redISub(p);A=A.redIAdd(A),A=A.redIAdd(A);var E=this.y.redMul(d.redMul(l.redISub(d)).redISub(a.redMul(u)));E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var P=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(A,E,P)};ct.prototype.mul=function(e,t){return e=new re(e,t),this.curve._wnafMul(this,e)};ct.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ct.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ct.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ct.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Pi=In(function(r,e){var t=e;t.base=sn,t.short=yd,t.mont=null,t.edwards=null}),Ci=In(function(r,e){var t=e,n=Et.assert;function i(a){a.type==="short"?this.curve=new Pi.short(a):a.type==="edwards"?this.curve=new Pi.edwards(a):this.curve=new Pi.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(a,u){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(u);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:dt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:dt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:dt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:dt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:dt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:dt.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:dt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:dt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Sr(r){if(!(this instanceof Sr))return new Sr(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ft.toArray(r.entropy,r.entropyEnc||"hex"),t=Ft.toArray(r.nonce,r.nonceEnc||"hex"),n=Ft.toArray(r.pers,r.persEnc||"hex");So(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var ff=Sr;Sr.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Sr.prototype._hmac=function(){return new dt.hmac(this.hash,this.K)};Sr.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Sr.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=Ft.toArray(e,t),n=Ft.toArray(n,i),So(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Sr.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=Ft.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Ft.encode(o,t)};var Qs=Et.assert;function ht(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Co=ht;ht.fromPublic=function(e,t,n){return t instanceof ht?t:new ht(e,{pub:t,pubEnc:n})};ht.fromPrivate=function(e,t,n){return t instanceof ht?t:new ht(e,{priv:t,privEnc:n})};ht.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ht.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};ht.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ht.prototype._importPrivate=function(e,t){this.priv=new re(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};ht.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Qs(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Qs(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};ht.prototype.derive=function(e){return e.validate()||Qs(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ht.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};ht.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};ht.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var vd=Et.assert;function Qi(r,e){if(r instanceof Qi)return r;this._importDER(r,e)||(vd(r.r&&r.s,"Signature without r or s"),this.r=new re(r.r,16),this.s=new re(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Yi=Qi;function wd(){this.place=0}function Rs(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=r[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function pa(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Qi.prototype._importDER=function(e,t){e=Et.toArray(e,t);var n=new wd;if(e[n.place++]!==48)return!1;var i=Rs(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Rs(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Rs(e,n);if(a===!1||e.length!==a+n.place)return!1;var u=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new re(o),this.s=new re(u),this.recoveryParam=null,!0};function Is(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Qi.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=pa(t),n=pa(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Is(i,t.length),i=i.concat(t),i.push(2),Is(i,n.length);var s=i.concat(n),o=[48];return Is(o,s.length),o=o.concat(s),Et.encode(o,e)};var Ad=function(){throw new Error("unsupported")},cf=Et.assert;function Ct(r){if(!(this instanceof Ct))return new Ct(r);typeof r=="string"&&(cf(Object.prototype.hasOwnProperty.call(Ci,r),"Unknown curve "+r),r=Ci[r]),r instanceof Ci.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var Ed=Ct;Ct.prototype.keyPair=function(e){return new Co(this,e)};Ct.prototype.keyFromPrivate=function(e,t){return Co.fromPrivate(this,e,t)};Ct.prototype.keyFromPublic=function(e,t){return Co.fromPublic(this,e,t)};Ct.prototype.genKeyPair=function(e){e||(e={});for(var t=new ff({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Ad(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new re(2));;){var s=new re(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Ct.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Ct.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new re(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),a=e.toArray("be",s),u=new ff({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new re(1)),d=0;;d++){var p=i.k?i.k(d):new re(u.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(l)>=0)){var A=this.g.mul(p);if(!A.isInfinity()){var E=A.getX(),P=E.umod(this.n);if(P.cmpn(0)!==0){var S=p.invm(this.n).mul(P.mul(t.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var y=(A.getY().isOdd()?1:0)|(E.cmp(P)!==0?2:0);return i.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),y^=1),new Yi({r:P,s:S,recoveryParam:y})}}}}}};Ct.prototype.verify=function(e,t,n,i){e=this._truncateToN(new re(e,16)),n=this.keyFromPublic(n,i),t=new Yi(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),u=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(u,n.getPublic(),l),d.isInfinity()?!1:d.eqXToP(s)):(d=this.g.mulAdd(u,n.getPublic(),l),d.isInfinity()?!1:d.getX().umod(this.n).cmp(s)===0)};Ct.prototype.recoverPubKey=function(r,e,t,n){cf((3&t)===t,"The recovery param is more than two bits"),e=new Yi(e,n);var i=this.n,s=new re(r),o=e.r,a=e.s,u=t&1,l=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var d=e.r.invm(i),p=i.sub(s).mul(d).umod(i),A=a.mul(d).umod(i);return this.g.mulAdd(p,o,A)};Ct.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new Yi(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var _d=In(function(r,e){var t=e;t.version="6.5.4",t.utils=Et,t.rand=function(){throw new Error("unsupported")},t.curve=Pi,t.curves=Ci,t.ec=Ed,t.eddsa=null}),Sd=_d.ec;const Pd="signing-key/5.7.0",Ys=new T(Pd);let Bs=null;function zt(){return Bs||(Bs=new Sd("secp256k1")),Bs}class Vr{constructor(e){U(this,"curve","secp256k1"),U(this,"privateKey",q(e)),Vt(this.privateKey)!==32&&Ys.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=zt().keyFromPrivate(z(this.privateKey));U(this,"publicKey","0x"+t.getPublic(!1,"hex")),U(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),U(this,"_isSigningKey",!0)}_addPoint(e){const t=zt().keyFromPublic(z(this.publicKey)),n=zt().keyFromPublic(z(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=zt().keyFromPrivate(z(this.privateKey)),n=z(e);n.length!==32&&Ys.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return rn({recoveryParam:i.recoveryParam,r:de("0x"+i.r.toString(16),32),s:de("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=zt().keyFromPrivate(z(this.privateKey)),n=zt().keyFromPublic(z(Mo(e)));return de("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function uf(r,e){const t=rn(e),n={r:z(t.r),s:z(t.s)};return"0x"+zt().recoverPubKey(z(r),n,t.recoveryParam).encode("hex",!1)}function Mo(r,e){const t=z(r);if(t.length===32){const n=new Vr(t);return e?"0x"+zt().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?q(t):"0x"+zt().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+zt().keyFromPublic(t).getPublic(!0,"hex"):q(t)}return Ys.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Cd=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:Vr,computePublicKey:Mo,recoverPublicKey:uf},Symbol.toStringTag,{value:"Module"})),Md="transactions/5.7.0",lt=new T(Md);var Xs;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Xs||(Xs={}));function ko(r){return r==="0x"?null:le(r)}function ut(r){return r==="0x"?d0:j.from(r)}const kd=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Td={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function _r(r){const e=Mo(r);return le(rt(he(rt(e,1)),12))}function ci(r,e){return _r(uf(z(r),e))}function vt(r,e){const t=Kt(j.from(r).toHexString());return t.length>32&&lt.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function Os(r,e){return{address:le(r),storageKeys:(e||[]).map((t,n)=>(Vt(t)!==32&&lt.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function on(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&lt.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),Os(t[0],t[1])):Os(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return Os(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function lf(r){return on(r).map(e=>[e.address,e.storageKeys])}function hf(r,e){if(r.gasPrice!=null){const n=j.from(r.gasPrice),i=j.from(r.maxFeePerGas||0);n.eq(i)||lt.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const t=[vt(r.chainId||0,"chainId"),vt(r.nonce||0,"nonce"),vt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),vt(r.maxFeePerGas||0,"maxFeePerGas"),vt(r.gasLimit||0,"gasLimit"),r.to!=null?le(r.to):"0x",vt(r.value||0,"value"),r.data||"0x",lf(r.accessList||[])];if(e){const n=rn(e);t.push(vt(n.recoveryParam,"recoveryParam")),t.push(Kt(n.r)),t.push(Kt(n.s))}return xt(["0x02",Yr(t)])}function df(r,e){const t=[vt(r.chainId||0,"chainId"),vt(r.nonce||0,"nonce"),vt(r.gasPrice||0,"gasPrice"),vt(r.gasLimit||0,"gasLimit"),r.to!=null?le(r.to):"0x",vt(r.value||0,"value"),r.data||"0x",lf(r.accessList||[])];if(e){const n=rn(e);t.push(vt(n.recoveryParam,"recoveryParam")),t.push(Kt(n.r)),t.push(Kt(n.s))}return xt(["0x01",Yr(t)])}function Nd(r,e){po(r,Td);const t=[];kd.forEach(function(o){let a=r[o.name]||[];const u={};o.numeric&&(u.hexPad="left"),a=z(q(a,u)),o.length&&a.length!==o.length&&a.length>0&&lt.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Kt(a),a.length>o.maxLength&&lt.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),t.push(q(a))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&lt.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!oi(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(q(n)),t.push("0x"),t.push("0x")),!e)return Yr(t);const i=rn(e);let s=27+i.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),s+=n*2+8,i.v>28&&i.v!==s&&lt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&lt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(q(s)),t.push(Kt(z(i.r))),t.push(Kt(z(i.s))),Yr(t)}function Zs(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&lt.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),Nd(r,e);switch(r.type){case 1:return df(r,e);case 2:return hf(r,e)}return lt.throwError(`unsupported transaction type: ${r.type}`,T.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function xf(r,e,t){try{const n=ut(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{lt.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=de(e[1],32),r.s=de(e[2],32);try{const n=he(t(r));r.from=ci(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function Rd(r){const e=Wi(r.slice(1));e.length!==9&&e.length!==12&&lt.throwArgumentError("invalid component count for transaction type: 2","payload",q(r));const t=ut(e[2]),n=ut(e[3]),i={type:2,chainId:ut(e[0]).toNumber(),nonce:ut(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:ut(e[4]),to:ko(e[5]),value:ut(e[6]),data:e[7],accessList:on(e[8])};return e.length===9||(i.hash=he(r),xf(i,e.slice(9),hf)),i}function Id(r){const e=Wi(r.slice(1));e.length!==8&&e.length!==11&&lt.throwArgumentError("invalid component count for transaction type: 1","payload",q(r));const t={type:1,chainId:ut(e[0]).toNumber(),nonce:ut(e[1]).toNumber(),gasPrice:ut(e[2]),gasLimit:ut(e[3]),to:ko(e[4]),value:ut(e[5]),data:e[6],accessList:on(e[7])};return e.length===8||(t.hash=he(r),xf(t,e.slice(8),df)),t}function Bd(r){const e=Wi(r);e.length!==9&&e.length!==6&&lt.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:ut(e[0]).toNumber(),gasPrice:ut(e[1]),gasLimit:ut(e[2]),to:ko(e[3]),value:ut(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=j.from(e[6]).toNumber()}catch{return t}if(t.r=de(e[7],32),t.s=de(e[8],32),j.from(t.r).isZero()&&j.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(q(t.chainId)),i.push("0x"),i.push("0x"),n-=t.chainId*2+8);const s=he(Yr(i));try{t.from=ci(s,{r:q(t.r),s:q(t.s),recoveryParam:n})}catch{}t.hash=he(r)}return t.type=null,t}function bf(r){const e=z(r);if(e[0]>127)return Bd(e);switch(e[0]){case 1:return Id(e);case 2:return Rd(e)}return lt.throwError(`unsupported transaction type: ${e[0]}`,T.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Od=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return Xs},accessListify:on,computeAddress:_r,parse:bf,recoverAddress:ci,serialize:Zs},Symbol.toStringTag,{value:"Module"})),Fd="contracts/5.7.0";var en=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const et=new T(Fd);function ji(r,e){return en(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&et.throwArgumentError("invalid address or ENS name","name",t);try{return le(t)}catch{}r||et.throwError("a provider or signer is needed to resolve ENS names",T.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&et.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function Mi(r,e,t){return en(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,i)=>Mi(r,Array.isArray(e)?e[i]:e[n.name],n))):t.type==="address"?yield ji(r,e):t.type==="tuple"?yield Mi(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Mi(r,n,t.arrayChildren))):Promise.reject(et.makeError("invalid value for array",T.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Xi(r,e,t){return en(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Je(t.pop())),et.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=Xe({override:ji(r.signer,n.from),signer:r.signer.getAddress()}).then(l=>en(this,void 0,void 0,function*(){return le(l.signer)!==l.override&&et.throwError("Contract with a Signer cannot override from",T.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=r.signer.getAddress():n.from&&(n.from=ji(r.provider,n.from));const i=yield Xe({args:Mi(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:Xe(n)||{}}),s=r.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=j.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=j.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=j.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=j.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=j.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=on(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const d=z(s);for(let p=0;p<d.length;p++)l+=4,d[p]&&(l+=64);o.gasLimit=j.from(e.gas).add(l)}if(a.value){const l=j.from(a.value);!l.isZero()&&!e.payable&&et.throwError("non-payable method cannot override value",T.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=Je(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter(l=>n[l]!=null);return u.length&&et.throwError(`cannot override ${u.map(l=>JSON.stringify(l)).join(",")}`,T.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),o})}function Dd(r,e){return function(...t){return Xi(r,e,t)}}function Ld(r,e){const t=r.signer||r.provider;return function(...n){return en(this,void 0,void 0,function*(){t||et.throwError("estimate require a provider or signer",T.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Xi(r,e,n);return yield t.estimateGas(i)})}}function Ud(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(i=>(i.events=i.logs.map(s=>{let o=At(s),a=null;try{a=r.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(u,l)=>r.interface.decodeEventLog(a.eventFragment,u,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>r.provider,o.getBlock=()=>r.provider.getBlock(i.blockHash),o.getTransaction=()=>r.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function pf(r,e,t){const n=r.signer||r.provider;return function(...i){return en(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const u=Je(i.pop());u.blockTag!=null&&(s=yield u.blockTag),delete u.blockTag,i.push(u)}r.deployTransaction!=null&&(yield r._deployed(s));const o=yield Xi(r,e,i),a=yield n.call(o,s);try{let u=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(u=u[0]),u}catch(u){throw u.code===T.errors.CALL_EXCEPTION&&(u.address=r.address,u.args=i,u.transaction=o),u}})}}function zd(r,e){return function(...t){return en(this,void 0,void 0,function*(){r.signer||et.throwError("sending a transaction requires a signer",T.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield Xi(r,e,t),i=yield r.signer.sendTransaction(n);return Ud(r,i),i})}}function ga(r,e,t){return e.constant?pf(r,e,t):zd(r,e)}function gf(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ti{constructor(e,t){U(this,"tag",e),U(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class jd extends ti{constructor(){super("error",null)}}class ma extends ti{constructor(e,t,n,i){const s={address:e};let o=t.getEventTopic(n);i?(o!==i[0]&&et.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(gf(s),s),U(this,"address",e),U(this,"interface",t),U(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=y0(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class ya extends ti{constructor(e,t){super("*",{address:e}),U(this,"address",e),U(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,i)=>this.interface.decodeEventLog(t.eventFragment,n,i),e.args=t.args}catch{}}}class Gd{constructor(e,t,n){U(this,"interface",Ot(new.target,"getInterface")(t)),n==null?(U(this,"provider",null),U(this,"signer",null)):kn.isSigner(n)?(U(this,"provider",n.provider||null),U(this,"signer",n)):Mn.isProvider(n)?(U(this,"provider",n),U(this,"signer",null)):et.throwArgumentError("invalid signer or provider","signerOrProvider",n),U(this,"callStatic",{}),U(this,"estimateGas",{}),U(this,"functions",{}),U(this,"populateTransaction",{}),U(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const u=this.interface.events[a];U(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(u,l)})),o[u.name]||(o[u.name]=[]),o[u.name].push(a)}),Object.keys(o).forEach(a=>{const u=o[a];u.length===1?U(this.filters,a,this.filters[u[0]]):et.warn(`Duplicate definition of ${a} (${u.join(", ")})`)})}if(U(this,"_runningEvents",{}),U(this,"_wrappedEmits",{}),e==null&&et.throwArgumentError("invalid contract address or ENS name","addressOrName",e),U(this,"address",e),this.provider)U(this,"resolvedAddress",ji(this.provider,e));else try{U(this,"resolvedAddress",Promise.resolve(le(e)))}catch{et.throwError("provider is required to use ENS name as contract address",T.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){et.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const u=a.name;i[`%${u}`]||(i[`%${u}`]=[]),i[`%${u}`].push(o)}this[o]==null&&U(this,o,ga(this,a,!0)),this.functions[o]==null&&U(this.functions,o,ga(this,a,!1)),this.callStatic[o]==null&&U(this.callStatic,o,pf(this,a,!0)),this.populateTransaction[o]==null&&U(this.populateTransaction,o,Dd(this,a)),this.estimateGas[o]==null&&U(this.estimateGas,o,Ld(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const u=a[0];try{this[o]==null&&U(this,o,this[u])}catch{}this.functions[o]==null&&U(this.functions,o,this.functions[u]),this.callStatic[o]==null&&U(this.callStatic,o,this.callStatic[u]),this.populateTransaction[o]==null&&U(this.populateTransaction,o,this.populateTransaction[u]),this.estimateGas[o]==null&&U(this.estimateGas,o,this.estimateGas[u])})}static getContractAddress(e){return ho(e)}static getInterface(e){return Ws.isInterface(e)?e:new Ws(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&et.throwError("contract not deployed",T.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||et.throwError("sending a transactions require a signer",T.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Je(e||{});return["from","to"].forEach(function(n){t[n]!=null&&et.throwError("cannot override "+n,T.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new _o(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&U(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Li.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new jd);if(e==="event")return this._normalizeRunningEvent(new ti("event",null));if(e==="*")return this._normalizeRunningEvent(new ya(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new ma(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new ma(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ti(gf(t),t))}return this._normalizeRunningEvent(new ya(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const i=At(t);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,n){if(this.provider||et.throwError("events require a provider or a signer with a provider",T.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,n){const i=this._getRunningEvent(e),s=Je(i.filter);return typeof t=="string"&&ne(t,32)?(n!=null&&et.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(t)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class mf extends Gd{}class To{constructor(e){U(this,"alphabet",e),U(this,"base",e.length),U(this,"_alphabetMap",{}),U(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=z(e);if(t.length===0)return"";let n=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return z(new Uint8Array(t.reverse()))}}const qd=new To("abcdefghijklmnopqrstuvwxyz234567"),Sn=new To("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Hd=Object.freeze(Object.defineProperty({__proto__:null,Base32:qd,Base58:Sn,BaseX:To},Symbol.toStringTag,{value:"Module"}));var Pn;(function(r){r.sha256="sha256",r.sha512="sha512"})(Pn||(Pn={}));const Kd="sha2/5.7.0",Wd=new T(Kd);function yf(r){return"0x"+dt.ripemd160().update(z(r)).digest("hex")}function cr(r){return"0x"+dt.sha256().update(z(r)).digest("hex")}function Jd(r){return"0x"+dt.sha512().update(z(r)).digest("hex")}function ri(r,e,t){return Pn[r]||Wd.throwError("unsupported algorithm "+r,T.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+dt.hmac(dt[r],z(e)).update(z(t)).digest("hex")}const $d=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return Pn},computeHmac:ri,ripemd160:yf,sha256:cr,sha512:Jd},Symbol.toStringTag,{value:"Module"}));function No(r,e,t,n,i){r=z(r),e=z(e);let s,o=1;const a=new Uint8Array(n),u=new Uint8Array(e.length+4);u.set(e);let l,d;for(let p=1;p<=o;p++){u[e.length]=p>>24&255,u[e.length+1]=p>>16&255,u[e.length+2]=p>>8&255,u[e.length+3]=p&255;let A=z(ri(i,r,u));s||(s=A.length,d=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),d.set(A);for(let S=1;S<t;S++){A=z(ri(i,r,A));for(let y=0;y<s;y++)d[y]^=A[y]}const E=(p-1)*s,P=p===o?l:s;a.set(z(d).slice(0,P),E)}return q(a)}const Vd="wordlists/5.7.0",Qd=new T(Vd);class ui{constructor(e){Qd.checkAbstract(new.target,ui),U(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";t.push(i)}return Ar(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const Yd="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Jn=null;function va(r){if(Jn==null&&(Jn=Yd.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),ui.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Jn=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Xd extends ui{constructor(){super("en")}getWord(e){return va(this),Jn[e]}getWordIndex(e){return va(this),Jn.indexOf(e)}}const vf=new Xd;ui.register(vf);const wa={en:vf},Zd="hdnode/5.7.0",ni=new T(Zd),ex=j.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),tx=nt("Bitcoin seed"),hn=2147483648;function wf(r){return(1<<r)-1<<8-r}function rx(r){return(1<<r)-1}function gi(r){return de(q(r),32)}function Aa(r){return Sn.encode(xe([r,rt(cr(cr(r)),0,4)]))}function Ro(r){if(r==null)return wa.en;if(typeof r=="string"){const e=wa[r];return e==null&&ni.throwArgumentError("unknown locale","wordlist",r),e}return r}const an={},Cn="m/44'/60'/0'/0/0";class wt{constructor(e,t,n,i,s,o,a,u){if(e!==an)throw new Error("HDNode constructor cannot be called directly");if(t){const l=new Vr(t);U(this,"privateKey",l.privateKey),U(this,"publicKey",l.compressedPublicKey)}else U(this,"privateKey",null),U(this,"publicKey",q(n));U(this,"parentFingerprint",i),U(this,"fingerprint",rt(yf(cr(this.publicKey)),0,4)),U(this,"address",_r(this.publicKey)),U(this,"chainCode",s),U(this,"index",o),U(this,"depth",a),u==null?(U(this,"mnemonic",null),U(this,"path",null)):typeof u=="string"?(U(this,"mnemonic",null),U(this,"path",u)):(U(this,"mnemonic",u),U(this,"path",u.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Aa(xe([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",q(this.depth),this.parentFingerprint,de(q(this.index),4),this.chainCode,this.privateKey!=null?xe(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new wt(an,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~hn));const n=new Uint8Array(37);if(e&hn){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(z(this.privateKey),1),t&&(t+="'")}else n.set(z(this.publicKey));for(let p=24;p>=0;p-=8)n[33+(p>>3)]=e>>24-p&255;const i=z(ri(Pn.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,u=null;this.privateKey?a=gi(j.from(s).add(this.privateKey).mod(ex)):u=new Vr(q(s))._addPoint(this.publicKey);let l=t;const d=this.mnemonic;return d&&(l=Object.freeze({phrase:d.phrase,path:t,locale:d.locale||"en"})),new wt(an,a,u,this.fingerprint,gi(o),e,this.depth+1,l)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=hn)throw new Error("invalid path index - "+s);n=n._derive(hn+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=hn)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,t){const n=z(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=z(ri(Pn.sha512,tx,n));return new wt(an,gi(i.slice(0,32)),null,"0x00000000",gi(i.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=Ro(n),e=es(Zi(e,n),n),wt._fromSeed(Af(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return wt._fromSeed(e,null)}static fromExtendedKey(e){const t=Sn.decode(e);(t.length!==82||Aa(t.slice(0,78))!==e)&&ni.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=q(t.slice(5,9)),s=parseInt(q(t.slice(9,13)).substring(2),16),o=q(t.slice(13,45)),a=t.slice(45,78);switch(q(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new wt(an,null,q(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new wt(an,q(a.slice(1)),null,i,o,s,n,null)}return ni.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Af(r,e){e||(e="");const t=nt("mnemonic"+e,Qt.NFKD);return No(nt(r,Qt.NFKD),t,2048,64,"sha512")}function Zi(r,e){e=Ro(e),ni.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=z(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let l=0;l<t.length;l++){let d=e.getWordIndex(t[l].normalize("NFKD"));if(d===-1)throw new Error("invalid mnemonic");for(let p=0;p<11;p++)d&1<<10-p&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=wf(o);if((z(cr(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return q(n.slice(0,s/8))}function es(r,e){if(e=Ro(e),r=z(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&rx(8-n)),n+=3);const i=r.length/4,s=z(cr(r))[0]&wf(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}function nx(r,e){try{return Zi(r,e),!0}catch{}return!1}function ix(r){return(typeof r!="number"||r<0||r>=hn||r%1)&&ni.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const sx=Object.freeze(Object.defineProperty({__proto__:null,HDNode:wt,defaultPath:Cn,entropyToMnemonic:es,getAccountPath:ix,isValidMnemonic:nx,mnemonicToEntropy:Zi,mnemonicToSeed:Af},Symbol.toStringTag,{value:"Module"})),ox="random/5.7.0",eo=new T(ox);function ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Vn<"u")return Vn;throw new Error("unable to locate global object")}const Ea=ax();let ki=Ea.crypto||Ea.msCrypto;(!ki||!ki.getRandomValues)&&(eo.warn("WARNING: Missing strong random number source"),ki={getRandomValues:function(r){return eo.throwError("no secure random source avaialble",T.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function pn(r){(r<=0||r>1024||r%1||r!=r)&&eo.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return ki.getRandomValues(e),z(e)}function Ef(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}const fx=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:pn,shuffled:Ef},Symbol.toStringTag,{value:"Module"}));var to={},cx={get exports(){return to},set exports(r){to=r}};(function(r,e){(function(t){function n(b){return parseInt(b)===b}function i(b){if(!n(b.length))return!1;for(var c=0;c<b.length;c++)if(!n(b[c])||b[c]<0||b[c]>255)return!1;return!0}function s(b,c){if(b.buffer&&ArrayBuffer.isView(b)&&b.name==="Uint8Array")return c&&(b.slice?b=b.slice():b=Array.prototype.slice.call(b)),b;if(Array.isArray(b)){if(!i(b))throw new Error("Array contains invalid value: "+b);return new Uint8Array(b)}if(n(b.length)&&i(b))return new Uint8Array(b);throw new Error("unsupported array-like object")}function o(b){return new Uint8Array(b)}function a(b,c,m,N,h){(N!=null||h!=null)&&(b.slice?b=b.slice(N,h):b=Array.prototype.slice.call(b,N,h)),c.set(b,m)}var u=function(){function b(m){var N=[],h=0;for(m=encodeURI(m);h<m.length;){var k=m.charCodeAt(h++);k===37?(N.push(parseInt(m.substr(h,2),16)),h+=2):N.push(k)}return s(N)}function c(m){for(var N=[],h=0;h<m.length;){var k=m[h];k<128?(N.push(String.fromCharCode(k)),h++):k>191&&k<224?(N.push(String.fromCharCode((k&31)<<6|m[h+1]&63)),h+=2):(N.push(String.fromCharCode((k&15)<<12|(m[h+1]&63)<<6|m[h+2]&63)),h+=3)}return N.join("")}return{toBytes:b,fromBytes:c}}(),l=function(){function b(N){for(var h=[],k=0;k<N.length;k+=2)h.push(parseInt(N.substr(k,2),16));return h}var c="0123456789abcdef";function m(N){for(var h=[],k=0;k<N.length;k++){var O=N[k];h.push(c[(O&240)>>4]+c[O&15])}return h.join("")}return{toBytes:b,fromBytes:m}}(),d={16:10,24:12,32:14},p=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],A=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],E=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],P=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],S=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],M=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],B=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],F=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],G=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],D=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],K=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],X=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Y=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ee=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function oe(b){for(var c=[],m=0;m<b.length;m+=4)c.push(b[m]<<24|b[m+1]<<16|b[m+2]<<8|b[m+3]);return c}var $=function(b){if(!(this instanceof $))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(b,!0)}),this._prepare()};$.prototype._prepare=function(){var b=d[this.key.length];if(b==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var c=0;c<=b;c++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var m=(b+1)*4,N=this.key.length/4,h=oe(this.key),k,c=0;c<N;c++)k=c>>2,this._Ke[k][c%4]=h[c],this._Kd[b-k][c%4]=h[c];for(var O=0,I=N,L;I<m;){if(L=h[N-1],h[0]^=A[L>>16&255]<<24^A[L>>8&255]<<16^A[L&255]<<8^A[L>>24&255]^p[O]<<24,O+=1,N!=8)for(var c=1;c<N;c++)h[c]^=h[c-1];else{for(var c=1;c<N/2;c++)h[c]^=h[c-1];L=h[N/2-1],h[N/2]^=A[L&255]^A[L>>8&255]<<8^A[L>>16&255]<<16^A[L>>24&255]<<24;for(var c=N/2+1;c<N;c++)h[c]^=h[c-1]}for(var c=0,J,H;c<N&&I<m;)J=I>>2,H=I%4,this._Ke[J][H]=h[c],this._Kd[b-J][H]=h[c++],I++}for(var J=1;J<b;J++)for(var H=0;H<4;H++)L=this._Kd[J][H],this._Kd[J][H]=K[L>>24&255]^X[L>>16&255]^Y[L>>8&255]^ee[L&255]},$.prototype.encrypt=function(b){if(b.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var c=this._Ke.length-1,m=[0,0,0,0],N=oe(b),h=0;h<4;h++)N[h]^=this._Ke[0][h];for(var k=1;k<c;k++){for(var h=0;h<4;h++)m[h]=P[N[h]>>24&255]^S[N[(h+1)%4]>>16&255]^y[N[(h+2)%4]>>8&255]^M[N[(h+3)%4]&255]^this._Ke[k][h];N=m.slice()}for(var O=o(16),I,h=0;h<4;h++)I=this._Ke[c][h],O[4*h]=(A[N[h]>>24&255]^I>>24)&255,O[4*h+1]=(A[N[(h+1)%4]>>16&255]^I>>16)&255,O[4*h+2]=(A[N[(h+2)%4]>>8&255]^I>>8)&255,O[4*h+3]=(A[N[(h+3)%4]&255]^I)&255;return O},$.prototype.decrypt=function(b){if(b.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var c=this._Kd.length-1,m=[0,0,0,0],N=oe(b),h=0;h<4;h++)N[h]^=this._Kd[0][h];for(var k=1;k<c;k++){for(var h=0;h<4;h++)m[h]=B[N[h]>>24&255]^F[N[(h+3)%4]>>16&255]^G[N[(h+2)%4]>>8&255]^D[N[(h+1)%4]&255]^this._Kd[k][h];N=m.slice()}for(var O=o(16),I,h=0;h<4;h++)I=this._Kd[c][h],O[4*h]=(E[N[h]>>24&255]^I>>24)&255,O[4*h+1]=(E[N[(h+3)%4]>>16&255]^I>>16)&255,O[4*h+2]=(E[N[(h+2)%4]>>8&255]^I>>8)&255,O[4*h+3]=(E[N[(h+1)%4]&255]^I)&255;return O};var ie=function(b){if(!(this instanceof ie))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new $(b)};ie.prototype.encrypt=function(b){if(b=s(b),b.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var c=o(b.length),m=o(16),N=0;N<b.length;N+=16)a(b,m,0,N,N+16),m=this._aes.encrypt(m),a(m,c,N);return c},ie.prototype.decrypt=function(b){if(b=s(b),b.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var c=o(b.length),m=o(16),N=0;N<b.length;N+=16)a(b,m,0,N,N+16),m=this._aes.decrypt(m),a(m,c,N);return c};var w=function(b,c){if(!(this instanceof w))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!c)c=o(16);else if(c.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(c,!0),this._aes=new $(b)};w.prototype.encrypt=function(b){if(b=s(b),b.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var c=o(b.length),m=o(16),N=0;N<b.length;N+=16){a(b,m,0,N,N+16);for(var h=0;h<16;h++)m[h]^=this._lastCipherblock[h];this._lastCipherblock=this._aes.encrypt(m),a(this._lastCipherblock,c,N)}return c},w.prototype.decrypt=function(b){if(b=s(b),b.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var c=o(b.length),m=o(16),N=0;N<b.length;N+=16){a(b,m,0,N,N+16),m=this._aes.decrypt(m);for(var h=0;h<16;h++)c[N+h]=m[h]^this._lastCipherblock[h];a(b,this._lastCipherblock,0,N,N+16)}return c};var f=function(b,c,m){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!c)c=o(16);else if(c.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");m||(m=1),this.segmentSize=m,this._shiftRegister=s(c,!0),this._aes=new $(b)};f.prototype.encrypt=function(b){if(b.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var c=s(b,!0),m,N=0;N<c.length;N+=this.segmentSize){m=this._aes.encrypt(this._shiftRegister);for(var h=0;h<this.segmentSize;h++)c[N+h]^=m[h];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(c,this._shiftRegister,16-this.segmentSize,N,N+this.segmentSize)}return c},f.prototype.decrypt=function(b){if(b.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var c=s(b,!0),m,N=0;N<c.length;N+=this.segmentSize){m=this._aes.encrypt(this._shiftRegister);for(var h=0;h<this.segmentSize;h++)c[N+h]^=m[h];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(b,this._shiftRegister,16-this.segmentSize,N,N+this.segmentSize)}return c};var x=function(b,c){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!c)c=o(16);else if(c.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(c,!0),this._lastPrecipherIndex=16,this._aes=new $(b)};x.prototype.encrypt=function(b){for(var c=s(b,!0),m=0;m<c.length;m++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),c[m]^=this._lastPrecipher[this._lastPrecipherIndex++];return c},x.prototype.decrypt=x.prototype.encrypt;var g=function(b){if(!(this instanceof g))throw Error("Counter must be instanitated with `new`");b!==0&&!b&&(b=1),typeof b=="number"?(this._counter=o(16),this.setValue(b)):this.setBytes(b)};g.prototype.setValue=function(b){if(typeof b!="number"||parseInt(b)!=b)throw new Error("invalid counter value (must be an integer)");for(var c=15;c>=0;--c)this._counter[c]=b%256,b=b>>8},g.prototype.setBytes=function(b){if(b=s(b,!0),b.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=b},g.prototype.increment=function(){for(var b=15;b>=0;b--)if(this._counter[b]===255)this._counter[b]=0;else{this._counter[b]++;break}};var v=function(b,c){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",c instanceof g||(c=new g(c)),this._counter=c,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new $(b)};v.prototype.encrypt=function(b){for(var c=s(b,!0),m=0;m<c.length;m++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),c[m]^=this._remainingCounter[this._remainingCounterIndex++];return c},v.prototype.decrypt=v.prototype.encrypt;function _(b){b=s(b,!0);var c=16-b.length%16,m=o(b.length+c);a(b,m);for(var N=b.length;N<m.length;N++)m[N]=c;return m}function C(b){if(b=s(b,!0),b.length<16)throw new Error("PKCS#7 invalid length");var c=b[b.length-1];if(c>16)throw new Error("PKCS#7 padding byte out of range");for(var m=b.length-c,N=0;N<c;N++)if(b[m+N]!==c)throw new Error("PKCS#7 invalid padding byte");var h=o(m);return a(b,h,0,0,m),h}var R={AES:$,Counter:g,ModeOfOperation:{ecb:ie,cbc:w,cfb:f,ofb:x,ctr:v},utils:{hex:l,utf8:u},padding:{pkcs7:{pad:_,strip:C}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};r.exports=R})()})(cx);const Ht=to,_f="json-wallets/5.7.0";function Qr(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),z(r)}function Fn(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function Io(r){return typeof r=="string"?nt(r,Qt.NFKC):z(r)}function tt(r,e){let t=r;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in t)if(o.toLowerCase()===n[i]){s=t[o];break}if(s===null)return null;t=s}return t}function ux(r){const e=z(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=q(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const lx=new T(_f);class hx extends Pr{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Bo(r,e){const t=JSON.parse(r);e=Io(e);const n=le(tt(t,"ethaddr")),i=Qr(tt(t,"encseed"));(!i||i.length%16!==0)&&lx.throwArgumentError("invalid encseed","json",r);const s=z(No(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),u=new Ht.ModeOfOperation.cbc(s,o),l=Ht.padding.pkcs7.strip(z(u.decrypt(a)));let d="";for(let E=0;E<l.length;E++)d+=String.fromCharCode(l[E]);const p=nt(d),A=he(p);return new hx({_isCrowdsaleAccount:!0,address:n,privateKey:A})}function ts(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function rs(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function dx(r){if(ts(r))try{return le(JSON.parse(r).ethaddr)}catch{return null}if(rs(r))try{return le(JSON.parse(r).address)}catch{return null}return null}var ro={},xx={get exports(){return ro},set exports(r){ro=r}};(function(r,e){(function(t){function i(S){const y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let M=1779033703,B=3144134277,F=1013904242,G=2773480762,D=1359893119,K=2600822924,X=528734635,Y=1541459225;const ee=new Uint32Array(64);function oe(v){let _=0,C=v.length;for(;C>=64;){let R=M,b=B,c=F,m=G,N=D,h=K,k=X,O=Y,I,L,J,H,W;for(L=0;L<16;L++)J=_+L*4,ee[L]=(v[J]&255)<<24|(v[J+1]&255)<<16|(v[J+2]&255)<<8|v[J+3]&255;for(L=16;L<64;L++)I=ee[L-2],H=(I>>>17|I<<32-17)^(I>>>19|I<<32-19)^I>>>10,I=ee[L-15],W=(I>>>7|I<<32-7)^(I>>>18|I<<32-18)^I>>>3,ee[L]=(H+ee[L-7]|0)+(W+ee[L-16]|0)|0;for(L=0;L<64;L++)H=(((N>>>6|N<<32-6)^(N>>>11|N<<32-11)^(N>>>25|N<<32-25))+(N&h^~N&k)|0)+(O+(y[L]+ee[L]|0)|0)|0,W=((R>>>2|R<<32-2)^(R>>>13|R<<32-13)^(R>>>22|R<<32-22))+(R&b^R&c^b&c)|0,O=k,k=h,h=N,N=m+H|0,m=c,c=b,b=R,R=H+W|0;M=M+R|0,B=B+b|0,F=F+c|0,G=G+m|0,D=D+N|0,K=K+h|0,X=X+k|0,Y=Y+O|0,_+=64,C-=64}}oe(S);let $,ie=S.length%64,w=S.length/536870912|0,f=S.length<<3,x=ie<56?56:120,g=S.slice(S.length-ie,S.length);for(g.push(128),$=ie+1;$<x;$++)g.push(0);return g.push(w>>>24&255),g.push(w>>>16&255),g.push(w>>>8&255),g.push(w>>>0&255),g.push(f>>>24&255),g.push(f>>>16&255),g.push(f>>>8&255),g.push(f>>>0&255),oe(g),[M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,K>>>24&255,K>>>16&255,K>>>8&255,K>>>0&255,X>>>24&255,X>>>16&255,X>>>8&255,X>>>0&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y>>>0&255]}function s(S,y,M){S=S.length<=64?S:i(S);const B=64+y.length+4,F=new Array(B),G=new Array(64);let D,K=[];for(D=0;D<64;D++)F[D]=54;for(D=0;D<S.length;D++)F[D]^=S[D];for(D=0;D<y.length;D++)F[64+D]=y[D];for(D=B-4;D<B;D++)F[D]=0;for(D=0;D<64;D++)G[D]=92;for(D=0;D<S.length;D++)G[D]^=S[D];function X(){for(let Y=B-1;Y>=B-4;Y--){if(F[Y]++,F[Y]<=255)return;F[Y]=0}}for(;M>=32;)X(),K=K.concat(i(G.concat(i(F)))),M-=32;return M>0&&(X(),K=K.concat(i(G.concat(i(F))).slice(0,M))),K}function o(S,y,M,B,F){let G;for(d(S,(2*M-1)*16,F,0,16),G=0;G<2*M;G++)l(S,G*16,F,16),u(F,B),d(F,0,S,y+G*16,16);for(G=0;G<M;G++)d(S,y+G*2*16,S,G*16,16);for(G=0;G<M;G++)d(S,y+(G*2+1)*16,S,(G+M)*16,16)}function a(S,y){return S<<y|S>>>32-y}function u(S,y){d(S,0,y,0,16);for(let M=8;M>0;M-=2)y[4]^=a(y[0]+y[12],7),y[8]^=a(y[4]+y[0],9),y[12]^=a(y[8]+y[4],13),y[0]^=a(y[12]+y[8],18),y[9]^=a(y[5]+y[1],7),y[13]^=a(y[9]+y[5],9),y[1]^=a(y[13]+y[9],13),y[5]^=a(y[1]+y[13],18),y[14]^=a(y[10]+y[6],7),y[2]^=a(y[14]+y[10],9),y[6]^=a(y[2]+y[14],13),y[10]^=a(y[6]+y[2],18),y[3]^=a(y[15]+y[11],7),y[7]^=a(y[3]+y[15],9),y[11]^=a(y[7]+y[3],13),y[15]^=a(y[11]+y[7],18),y[1]^=a(y[0]+y[3],7),y[2]^=a(y[1]+y[0],9),y[3]^=a(y[2]+y[1],13),y[0]^=a(y[3]+y[2],18),y[6]^=a(y[5]+y[4],7),y[7]^=a(y[6]+y[5],9),y[4]^=a(y[7]+y[6],13),y[5]^=a(y[4]+y[7],18),y[11]^=a(y[10]+y[9],7),y[8]^=a(y[11]+y[10],9),y[9]^=a(y[8]+y[11],13),y[10]^=a(y[9]+y[8],18),y[12]^=a(y[15]+y[14],7),y[13]^=a(y[12]+y[15],9),y[14]^=a(y[13]+y[12],13),y[15]^=a(y[14]+y[13],18);for(let M=0;M<16;++M)S[M]+=y[M]}function l(S,y,M,B){for(let F=0;F<B;F++)M[F]^=S[y+F]}function d(S,y,M,B,F){for(;F--;)M[B++]=S[y++]}function p(S){if(!S||typeof S.length!="number")return!1;for(let y=0;y<S.length;y++){const M=S[y];if(typeof M!="number"||M%1||M<0||M>=256)return!1}return!0}function A(S,y){if(typeof S!="number"||S%1)throw new Error("invalid "+y);return S}function E(S,y,M,B,F,G,D){if(M=A(M,"N"),B=A(B,"r"),F=A(F,"p"),G=A(G,"dkLen"),M===0||M&M-1)throw new Error("N must be power of 2");if(M>2147483647/128/B)throw new Error("N too large");if(B>2147483647/128/F)throw new Error("r too large");if(!p(S))throw new Error("password must be an array or buffer");if(S=Array.prototype.slice.call(S),!p(y))throw new Error("salt must be an array or buffer");y=Array.prototype.slice.call(y);let K=s(S,y,F*128*B);const X=new Uint32Array(F*32*B);for(let N=0;N<X.length;N++){const h=N*4;X[N]=(K[h+3]&255)<<24|(K[h+2]&255)<<16|(K[h+1]&255)<<8|(K[h+0]&255)<<0}const Y=new Uint32Array(64*B),ee=new Uint32Array(32*B*M),oe=32*B,$=new Uint32Array(16),ie=new Uint32Array(16),w=F*M*2;let f=0,x=null,g=!1,v=0,_=0,C,R;const b=D?parseInt(1e3/B):4294967295,c=typeof setImmediate<"u"?setImmediate:setTimeout,m=function(){if(g)return D(new Error("cancelled"),f/w);let N;switch(v){case 0:R=_*32*B,d(X,R,Y,0,oe),v=1,C=0;case 1:N=M-C,N>b&&(N=b);for(let k=0;k<N;k++)d(Y,0,ee,(C+k)*oe,oe),o(Y,oe,B,$,ie);if(C+=N,f+=N,D){const k=parseInt(1e3*f/w);if(k!==x){if(g=D(null,f/w),g)break;x=k}}if(C<M)break;C=0,v=2;case 2:N=M-C,N>b&&(N=b);for(let k=0;k<N;k++){const O=(2*B-1)*16,I=Y[O]&M-1;l(ee,I*oe,Y,oe),o(Y,oe,B,$,ie)}if(C+=N,f+=N,D){const k=parseInt(1e3*f/w);if(k!==x){if(g=D(null,f/w),g)break;x=k}}if(C<M)break;if(d(Y,0,X,R,oe),_++,_<F){v=0;break}K=[];for(let k=0;k<X.length;k++)K.push(X[k]>>0&255),K.push(X[k]>>8&255),K.push(X[k]>>16&255),K.push(X[k]>>24&255);const h=s(S,K,G);return D&&D(null,1,h),h}D&&c(m)};if(!D)for(;;){const N=m();if(N!=null)return N}m()}const P={scrypt:function(S,y,M,B,F,G,D){return new Promise(function(K,X){let Y=0;D&&D(0),E(S,y,M,B,F,G,function(ee,oe,$){if(ee)X(ee);else if($)D&&Y!==1&&D(1),K(new Uint8Array($));else if(D&&oe!==Y)return Y=oe,D(oe)})})},syncScrypt:function(S,y,M,B,F,G){return new Uint8Array(E(S,y,M,B,F,G))}};r.exports=P})()})(xx);const Oo=ro;var bx=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const no=new T(_f);function _a(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class px extends Pr{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function gx(r,e,t){if(tt(r,"crypto/cipher")==="aes-128-ctr"){const i=Qr(tt(r,"crypto/cipherparams/iv")),s=new Ht.Counter(i),o=new Ht.ModeOfOperation.ctr(e,s);return z(o.decrypt(t))}return null}function Sf(r,e){const t=Qr(tt(r,"crypto/ciphertext"));if(q(he(xe([e.slice(16,32),t]))).substring(2)!==tt(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=gx(r,e.slice(0,16),t);i||no.throwError("unsupported cipher",T.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=_r(i);if(r.address){let u=r.address.toLowerCase();if(u.substring(0,2)!=="0x"&&(u="0x"+u),le(u)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:q(i)};if(tt(r,"x-ethers/version")==="0.1"){const u=Qr(tt(r,"x-ethers/mnemonicCiphertext")),l=Qr(tt(r,"x-ethers/mnemonicCounter")),d=new Ht.Counter(l),p=new Ht.ModeOfOperation.ctr(s,d),A=tt(r,"x-ethers/path")||Cn,E=tt(r,"x-ethers/locale")||"en",P=z(p.decrypt(u));try{const S=es(P,E),y=wt.fromMnemonic(S,null,E).derivePath(A);if(y.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=y.mnemonic}catch(S){if(S.code!==T.errors.INVALID_ARGUMENT||S.argument!=="wordlist")throw S}}return new px(a)}function Pf(r,e,t,n,i){return z(No(r,e,t,n,i))}function mx(r,e,t,n,i){return Promise.resolve(Pf(r,e,t,n,i))}function Cf(r,e,t,n,i){const s=Io(e),o=tt(r,"crypto/kdf");if(o&&typeof o=="string"){const a=function(u,l){return no.throwArgumentError("invalid key-derivation function parameters",u,l)};if(o.toLowerCase()==="scrypt"){const u=Qr(tt(r,"crypto/kdfparams/salt")),l=parseInt(tt(r,"crypto/kdfparams/n")),d=parseInt(tt(r,"crypto/kdfparams/r")),p=parseInt(tt(r,"crypto/kdfparams/p"));(!l||!d||!p)&&a("kdf",o),l&l-1&&a("N",l);const A=parseInt(tt(r,"crypto/kdfparams/dklen"));return A!==32&&a("dklen",A),n(s,u,l,d,p,64,i)}else if(o.toLowerCase()==="pbkdf2"){const u=Qr(tt(r,"crypto/kdfparams/salt"));let l=null;const d=tt(r,"crypto/kdfparams/prf");d==="hmac-sha256"?l="sha256":d==="hmac-sha512"?l="sha512":a("prf",d);const p=parseInt(tt(r,"crypto/kdfparams/c")),A=parseInt(tt(r,"crypto/kdfparams/dklen"));return A!==32&&a("dklen",A),t(s,u,p,A,l)}}return no.throwArgumentError("unsupported key-derivation function","kdf",o)}function Mf(r,e){const t=JSON.parse(r),n=Cf(t,e,Pf,Oo.syncScrypt);return Sf(t,n)}function kf(r,e,t){return bx(this,void 0,void 0,function*(){const n=JSON.parse(r),i=yield Cf(n,e,mx,Oo.scrypt,t);return Sf(n,i)})}function Tf(r,e,t,n){try{if(le(r.address)!==_r(r.privateKey))throw new Error("address/privateKey mismatch");if(_a(r)){const y=r.mnemonic;if(wt.fromMnemonic(y.phrase,null,y.locale).derivePath(y.path||Cn).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(y){return Promise.reject(y)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const i=z(r.privateKey),s=Io(e);let o=null,a=null,u=null;if(_a(r)){const y=r.mnemonic;o=z(Zi(y.phrase,y.locale||"en")),a=y.path||Cn,u=y.locale||"en"}let l=t.client;l||(l="ethers.js");let d=null;t.salt?d=z(t.salt):d=pn(32);let p=null;if(t.iv){if(p=z(t.iv),p.length!==16)throw new Error("invalid iv")}else p=pn(16);let A=null;if(t.uuid){if(A=z(t.uuid),A.length!==16)throw new Error("invalid uuid")}else A=pn(16);let E=1<<17,P=8,S=1;return t.scrypt&&(t.scrypt.N&&(E=t.scrypt.N),t.scrypt.r&&(P=t.scrypt.r),t.scrypt.p&&(S=t.scrypt.p)),Oo.scrypt(s,d,E,P,S,64,n).then(y=>{y=z(y);const M=y.slice(0,16),B=y.slice(16,32),F=y.slice(32,64),G=new Ht.Counter(p),D=new Ht.ModeOfOperation.ctr(M,G),K=z(D.encrypt(i)),X=he(xe([B,K])),Y={address:r.address.substring(2).toLowerCase(),id:ux(A),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:q(p).substring(2)},ciphertext:q(K).substring(2),kdf:"scrypt",kdfparams:{salt:q(d).substring(2),n:E,dklen:32,p:S,r:P},mac:X.substring(2)}};if(o){const ee=pn(16),oe=new Ht.Counter(ee),$=new Ht.ModeOfOperation.ctr(F,oe),ie=z($.encrypt(o)),w=new Date,f=w.getUTCFullYear()+"-"+Fn(w.getUTCMonth()+1,2)+"-"+Fn(w.getUTCDate(),2)+"T"+Fn(w.getUTCHours(),2)+"-"+Fn(w.getUTCMinutes(),2)+"-"+Fn(w.getUTCSeconds(),2)+".0Z";Y["x-ethers"]={client:l,gethFilename:"UTC--"+f+"--"+Y.address,mnemonicCounter:q(ee).substring(2),mnemonicCiphertext:q(ie).substring(2),path:a,locale:u,version:"0.1"}}return JSON.stringify(Y)})}function Nf(r,e,t){if(ts(r)){t&&t(0);const n=Bo(r,e);return t&&t(1),Promise.resolve(n)}return rs(r)?kf(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function Rf(r,e){if(ts(r))return Bo(r,e);if(rs(r))return Mf(r,e);throw new Error("invalid JSON wallet")}const yx=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:Bo,decryptJsonWallet:Nf,decryptJsonWalletSync:Rf,decryptKeystore:kf,decryptKeystoreSync:Mf,encryptKeystore:Tf,getJsonWalletAddress:dx,isCrowdsaleWallet:ts,isKeystoreWallet:rs},Symbol.toStringTag,{value:"Module"})),vx="wallet/5.7.0";var Sa=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const fn=new T(vx);function wx(r){return r!=null&&ne(r.privateKey,32)&&r.address!=null}function Ax(r){const e=r.mnemonic;return e&&e.phrase}class Kr extends kn{constructor(e,t){if(super(),wx(e)){const n=new Vr(e.privateKey);if(U(this,"_signingKey",()=>n),U(this,"address",_r(this.publicKey)),this.address!==le(e.address)&&fn.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Ax(e)){const i=e.mnemonic;U(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Cn,locale:i.locale||"en"}));const s=this.mnemonic,o=wt.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);_r(o.privateKey)!==this.address&&fn.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else U(this,"_mnemonic",()=>null)}else{if(Vr.isSigningKey(e))e.curve!=="secp256k1"&&fn.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),U(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Vr(e);U(this,"_signingKey",()=>n)}U(this,"_mnemonic",()=>null),U(this,"address",_r(this.publicKey))}t&&!Mn.isProvider(t)&&fn.throwArgumentError("invalid provider","provider",t),U(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Kr(this,e)}signTransaction(e){return Xe(e).then(t=>{t.from!=null&&(le(t.from)!==this.address&&fn.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(he(Zs(t)));return Zs(t,n)})}signMessage(e){return Sa(this,void 0,void 0,function*(){return zs(this._signingKey().signDigest(Eo(e)))})}_signTypedData(e,t,n){return Sa(this,void 0,void 0,function*(){const i=yield ft.resolveNames(e,t,n,s=>(this.provider==null&&fn.throwError("cannot resolve ENS names without a provider",T.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return zs(this._signingKey().signDigest(ft.hash(i.domain,t,i.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),Tf(this,e,t,n)}static createRandom(e){let t=pn(16);e||(e={}),e.extraEntropy&&(t=z(rt(he(xe([t,e.extraEntropy])),0,16)));const n=es(t,e.locale);return Kr.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return Nf(e,t,n).then(i=>new Kr(i))}static fromEncryptedJsonSync(e,t){return new Kr(Rf(e,t))}static fromMnemonic(e,t,n){return t||(t=Cn),new Kr(wt.fromMnemonic(e,null,n).derivePath(t))}}function Ex(r,e){return ci(Eo(r),e)}function _x(r,e,t,n){return ci(ft.hash(r,e,t),n)}const Sx=Object.freeze(Object.defineProperty({__proto__:null,Wallet:Kr,verifyMessage:Ex,verifyTypedData:_x},Symbol.toStringTag,{value:"Module"})),Px="networks/5.7.1",Pa=new T(Px);function Cx(r){return r&&typeof r.renetwork=="function"}function ir(r){const e=function(t,n){n==null&&(n={});const i=[];if(t.InfuraProvider&&n.infura!=="-")try{i.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider&&n.etherscan!=="-")try{i.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider&&n.alchemy!=="-")try{i.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new t.PocketProvider(r,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(t.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new t.AnkrProvider(r,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(t.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:r==="homestead"&&(s=2),new t.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(t){return ir(t)},e}function Gi(r,e){const t=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return Gi(r,n)},t}const Ca={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ir("homestead")},Ma={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ir("ropsten")},ka={chainId:63,name:"classicMordor",_defaultProvider:Gi("https://www.ethercluster.com/mordor","classicMordor")},mi={unspecified:{chainId:0,name:"unspecified"},homestead:Ca,mainnet:Ca,morden:{chainId:2,name:"morden"},ropsten:Ma,testnet:Ma,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ir("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ir("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ir("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ir("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Gi("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ka,classicTestnet:ka,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Gi("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ir("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ir("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Mx(r){if(r==null)return null;if(typeof r=="number"){for(const n in mi){const i=mi[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=mi[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=mi[r.name];if(!e)return typeof r.chainId!="number"&&Pa.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&Pa.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(Cx(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const kx="web/5.7.1";var Tx=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};function Nx(r,e){return Tx(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(t.mode=o.mode),o.cache&&(t.cache=o.cache),o.credentials&&(t.credentials=o.credentials),o.redirect&&(t.redirect=o.redirect),o.referrer&&(t.referrer=o.referrer)}const n=yield fetch(r,t),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:z(new Uint8Array(i))}})}var Rx=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const Rt=new T(kx);function Ta(r){return new Promise(e=>{setTimeout(e,r)})}function gr(r,e){if(r==null)return null;if(typeof r=="string")return r;if(oi(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Cr(r)}catch{}return q(r)}return r}function Ix(r){return nt(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function If(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;Rt.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,s=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;Rt.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof r=="object"?!!r.errorPassThrough:!1,a={};let u=null;const l={method:"GET"};let d=!1,p=2*60*1e3;if(typeof r=="string")u=r;else if(typeof r=="object"){if((r==null||r.url==null)&&Rt.throwArgumentError("missing URL","connection.url",r),u=r.url,typeof r.timeout=="number"&&r.timeout>0&&(p=r.timeout),r.headers)for(const M in r.headers)a[M.toLowerCase()]={key:M,value:String(r.headers[M])},["if-none-match","if-modified-since"].indexOf(M.toLowerCase())>=0&&(d=!0);if(l.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){u.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&Rt.throwError("basic authentication requires a secure https url",T.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:r.user,password:"[REDACTED]"});const M=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+Ao(nt(M))}}r.skipFetchSetup!=null&&(l.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(l.fetchOptions=Je(r.fetchOptions))}const A=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),E=u?u.match(A):null;if(E)try{const M={statusCode:200,statusMessage:"OK",headers:{"content-type":E[1]||"text/plain"},body:E[2]?wo(E[3]):Ix(E[3])};let B=M.body;return t&&(B=t(M.body,M)),Promise.resolve(B)}catch(M){Rt.throwError("processing response error",T.errors.SERVER_ERROR,{body:gr(E[1],E[2]),error:M,requestBody:null,requestMethod:"GET",url:u})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const P={};Object.keys(a).forEach(M=>{const B=a[M];P[B.key]=B.value}),l.headers=P;const S=function(){let M=null;return{promise:new Promise(function(G,D){p&&(M=setTimeout(()=>{M!=null&&(M=null,D(Rt.makeError("timeout",T.errors.TIMEOUT,{requestBody:gr(l.body,P["content-type"]),requestMethod:l.method,timeout:p,url:u})))},p))}),cancel:function(){M!=null&&(clearTimeout(M),M=null)}}}(),y=function(){return Rx(this,void 0,void 0,function*(){for(let M=0;M<n;M++){let B=null;try{if(B=yield Nx(u,l),M<n){if(B.statusCode===301||B.statusCode===302){const G=B.headers.location||"";if(l.method==="GET"&&G.match(/^https:/)){u=B.headers.location;continue}}else if(B.statusCode===429){let G=!0;if(i&&(G=yield i(M,u)),G){let D=0;const K=B.headers["retry-after"];typeof K=="string"&&K.match(/^[1-9][0-9]*$/)?D=parseInt(K)*1e3:D=s*parseInt(String(Math.random()*Math.pow(2,M))),yield Ta(D);continue}}}}catch(G){B=G.response,B==null&&(S.cancel(),Rt.throwError("missing response",T.errors.SERVER_ERROR,{requestBody:gr(l.body,P["content-type"]),requestMethod:l.method,serverError:G,url:u}))}let F=B.body;if(d&&B.statusCode===304?F=null:!o&&(B.statusCode<200||B.statusCode>=300)&&(S.cancel(),Rt.throwError("bad response",T.errors.SERVER_ERROR,{status:B.statusCode,headers:B.headers,body:gr(F,B.headers?B.headers["content-type"]:null),requestBody:gr(l.body,P["content-type"]),requestMethod:l.method,url:u})),t)try{const G=yield t(F,B);return S.cancel(),G}catch(G){if(G.throttleRetry&&M<n){let D=!0;if(i&&(D=yield i(M,u)),D){const K=s*parseInt(String(Math.random()*Math.pow(2,M)));yield Ta(K);continue}}S.cancel(),Rt.throwError("processing response error",T.errors.SERVER_ERROR,{body:gr(F,B.headers?B.headers["content-type"]:null),error:G,requestBody:gr(l.body,P["content-type"]),requestMethod:l.method,url:u})}return S.cancel(),F}return Rt.throwError("failed response",T.errors.SERVER_ERROR,{requestBody:gr(l.body,P["content-type"]),requestMethod:l.method,url:u})})}();return Promise.race([S.promise,y])}function ns(r,e,t){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Cr(s))}catch(u){Rt.throwError("invalid JSON",T.errors.SERVER_ERROR,{body:s,error:u})}return t&&(a=t(a,o)),a},i=null;if(e!=null){i=nt(e);const s=typeof r=="string"?{url:r}:Je(r);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Je(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},r=s}return If(r,i,n)}function $r(r,e){return e||(e={}),e=Je(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let u=0;function l(){return r().then(function(d){if(d!==void 0)o()&&t(d);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(u++,u>a){o()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(l,p)}return null},function(d){o()&&n(d)})}l()})}const Bx=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:If,fetchJson:ns,poll:$r},Symbol.toStringTag,{value:"Module"}));var qi="qpzry9x8gf2tvdw0s3jn54khce6mua7l",io={};for(var yi=0;yi<qi.length;yi++){var Fs=qi.charAt(yi);if(io[Fs]!==void 0)throw new TypeError(Fs+" is ambiguous");io[Fs]=yi}function wn(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Bf(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=wn(e)^n>>5}for(e=wn(e),t=0;t<r.length;++t){var i=r.charCodeAt(t);e=wn(e)^i&31}return e}function Ox(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=Bf(r);if(typeof n=="string")throw new Error(n);for(var i=r+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=wn(n)^o,i+=qi.charAt(o)}for(s=0;s<6;++s)n=wn(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=qi.charAt(a)}return i}function Of(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var i=r.lastIndexOf("1");if(i===-1)return"No separator character for "+r;if(i===0)return"Missing prefix for "+r;var s=r.slice(0,i),o=r.slice(i+1);if(o.length<6)return"Data too short";var a=Bf(s);if(typeof a=="string")return a;for(var u=[],l=0;l<o.length;++l){var d=o.charAt(l),p=io[d];if(p===void 0)return"Unknown character "+d;a=wn(a)^p,!(l+6>=o.length)&&u.push(p)}return a!==1?"Invalid checksum for "+r:{prefix:s,words:u}}function Fx(){var r=Of.apply(null,arguments);if(typeof r=="object")return r}function Dx(r){var e=Of.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function is(r,e,t,n){for(var i=0,s=0,o=(1<<t)-1,a=[],u=0;u<r.length;++u)for(i=i<<e|r[u],s+=e;s>=t;)s-=t,a.push(i>>s&o);if(n)s>0&&a.push(i<<t-s&o);else{if(s>=e)return"Excess padding";if(i<<t-s&o)return"Non-zero padding"}return a}function Lx(r){var e=is(r,8,5,!0);if(Array.isArray(e))return e}function Ux(r){var e=is(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function zx(r){var e=is(r,5,8,!1);if(Array.isArray(e))return e}function jx(r){var e=is(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var Na={decodeUnsafe:Fx,decode:Dx,encode:Ox,toWordsUnsafe:Lx,toWords:Ux,fromWordsUnsafe:zx,fromWords:jx};const li="providers/5.7.2",Dn=new T(li);class Q{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),u=this.number.bind(this),l=this.type.bind(this),d=p=>this.data(p,!0);return e.transaction={hash:o,type:l,accessList:Q.allowNull(this.accessList.bind(this),null),blockHash:Q.allowNull(o,null),blockNumber:Q.allowNull(u,null),transactionIndex:Q.allowNull(u,null),confirmations:Q.allowNull(u,null),from:t,gasPrice:Q.allowNull(n),maxPriorityFeePerGas:Q.allowNull(n),maxFeePerGas:Q.allowNull(n),gasLimit:n,to:Q.allowNull(t,null),value:n,nonce:u,data:s,r:Q.allowNull(this.uint256),s:Q.allowNull(this.uint256),v:Q.allowNull(u),creates:Q.allowNull(t,null),raw:Q.allowNull(s)},e.transactionRequest={from:Q.allowNull(t),nonce:Q.allowNull(u),gasLimit:Q.allowNull(n),gasPrice:Q.allowNull(n),maxPriorityFeePerGas:Q.allowNull(n),maxFeePerGas:Q.allowNull(n),to:Q.allowNull(t),value:Q.allowNull(n),data:Q.allowNull(d),type:Q.allowNull(u),accessList:Q.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:u,blockNumber:u,transactionHash:o,address:t,topics:Q.arrayOf(o),data:s,logIndex:u,blockHash:o},e.receipt={to:Q.allowNull(this.address,null),from:Q.allowNull(this.address,null),contractAddress:Q.allowNull(t,null),transactionIndex:u,root:Q.allowNull(a),gasUsed:n,logsBloom:Q.allowNull(s),blockHash:o,transactionHash:o,logs:Q.arrayOf(this.receiptLog.bind(this)),blockNumber:u,confirmations:Q.allowNull(u,null),cumulativeGasUsed:n,effectiveGasPrice:Q.allowNull(n),status:Q.allowNull(u),type:l},e.block={hash:Q.allowNull(o),parentHash:o,number:u,timestamp:u,nonce:Q.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Q.allowNull(t),extraData:s,transactions:Q.allowNull(Q.arrayOf(o)),baseFeePerGas:Q.allowNull(n)},e.blockWithTransactions=Je(e.block),e.blockWithTransactions.transactions=Q.allowNull(Q.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Q.allowNull(i,void 0),toBlock:Q.allowNull(i,void 0),blockHash:Q.allowNull(o,void 0),address:Q.allowNull(t,void 0),topics:Q.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Q.allowNull(u),blockHash:Q.allowNull(o),transactionIndex:u,removed:Q.allowNull(this.boolean.bind(this)),address:t,data:Q.allowFalsish(s,"0x"),topics:Q.arrayOf(o),transactionHash:o,logIndex:u},e}accessList(e){return on(e||[])}number(e){return e==="0x"?0:j.from(e).toNumber()}type(e){return e==="0x"||e==null?0:j.from(e).toNumber()}bigNumber(e){return j.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),ne(e))?e.toLowerCase():Dn.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return le(e)}callAddress(e){if(!ne(e,32))return null;const t=le(rt(e,12));return t===tu?null:t}contractAddress(e){return ho(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ne(e))return Ki(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return Vt(n)!==32?Dn.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=j.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!ne(e))throw new Error("invalid uint256");return de(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Q.check(t,e);return i._difficulty=n==null?null:j.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Q.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&j.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=Q.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;ne(n)&&(n=j.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),ne(n)&&(n=j.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return bf(e)}receiptLog(e){return Q.check(this.formats.receiptLog,e)}receipt(e){const t=Q.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=j.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&Dn.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):Dn.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&Dn.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return Q.check(this.formats.filter,e)}filterLog(e){return Q.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const i in e)try{const s=e[i](t[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=t[i],s}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(i){n.push(e(i))}),n}}}function Gx(r){return r&&typeof r.isCommunityResource=="function"}function Ra(r){return Gx(r)&&r.isCommunityResource()}var Z=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const se=new T(li),qx=10;function Ia(r){return r==null?"null":(Vt(r)!==32&&se.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function Ba(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[Ia(i)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return Ia(e)}).join("&")}function Hx(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function cn(r){if(typeof r=="string"){if(r=r.toLowerCase(),Vt(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+Ba(r);if(zl.isForkEvent(r))throw se.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+Ba(r.topics||[])}throw new Error("invalid event - "+r)}function Ln(){return new Date().getTime()}function Oa(r){return new Promise(e=>{setTimeout(e,r)})}const Kx=["block","network","pending","poll"];class Wx{constructor(e,t,n){U(this,"tag",e),U(this,"listener",t),U(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=Hx(e[2]),i={};return n.length>0&&(i.topics=n),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||Kx.indexOf(this.tag)>=0}}const Jx={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Ds(r){return de(j.from(r).toHexString(),32)}function Fa(r){return Sn.encode(xe([r,rt(cr(cr(r)),0,4)]))}const Ff=new RegExp("^(ipfs)://(.*)$","i"),Da=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ff,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Ti(r,e){try{return Cr(ii(r,e))}catch{}return null}function ii(r,e){if(r==="0x")return null;const t=j.from(rt(r,e,e+32)).toNumber(),n=j.from(rt(r,t,t+32)).toNumber();return rt(r,t+32,t+32+n)}function Ls(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):se.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function La(r){const e=z(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function $x(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function Df(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(null),t+=32;for(let n=0;n<r.length;n++){const i=z(r[n]);e[n]=La(t),e.push(La(i.length)),e.push($x(i)),t+=32+Math.ceil(i.length/32)*32}return xt(e)}class Ua{constructor(e,t,n,i){U(this,"provider",e),U(this,"name",n),U(this,"address",e.formatter.address(t)),U(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>j.from(e).eq(1)).catch(e=>{if(e.code===T.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return Z(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:xt([e,Wn(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=xt(["0x9061b923",Df([O0(this.name),n.data])]));try{let s=yield this.provider.call(n);return z(s).length%32===4&&se.throwError("resolver threw error",T.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=ii(s,0)),s}catch(s){if(s.code===T.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return Z(this,void 0,void 0,function*(){const n=yield this._fetch(e,t);return n!=null?ii(n,0):null})}_getAddress(e,t){const n=Jx[String(e)];if(n==null&&se.throwError(`unsupported coin type: ${e}`,T.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const i=z(t);if(n.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Fa(xe([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Fa(xe([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=Na.toWords(i.slice(2));return a.unshift(o),Na.encode(n.prefix,a)}}return null}getAddress(e){return Z(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===x0?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===T.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",Ds(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&se.throwError("invalid or unsupported coin data",T.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return Z(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<Da.length;n++){const i=t.match(Da[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Ls(t)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const a=this._resolvedAddress||(yield this.getAddress()),u=(i[2]||"").split("/");if(u.length!==2)return null;const l=yield this.provider.formatter.address(u[0]),d=de(j.from(u[1]).toHexString(),32);if(s==="erc721"){const S=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:xt(["0x6352211e",d])}));if(a!==S)return null;e.push({type:"owner",content:S})}else if(s==="erc1155"){const S=j.from(yield this.provider.call({to:l,data:xt(["0x00fdd58e",de(a,32),d])}));if(S.isZero())return null;e.push({type:"balance",content:S.toString()})}const p={to:this.provider.formatter.address(u[0]),data:xt([o,d])};let A=Ti(yield this.provider.call(p),0);if(A==null)return null;e.push({type:"metadata-url-base",content:A}),s==="erc1155"&&(A=A.replace("{id}",d.substring(2)),e.push({type:"metadata-url-expanded",content:A})),A.match(/^ipfs:/i)&&(A=Ls(A)),e.push({type:"metadata-url",content:A});const E=yield ns(A);if(!E)return null;e.push({type:"metadata",content:JSON.stringify(E)});let P=E.image;if(typeof P!="string")return null;if(!P.match(/^(https:\/\/|data:)/i)){if(P.match(Ff)==null)return null;e.push({type:"url-ipfs",content:P}),P=Ls(P)}return e.push({type:"url",content:P}),{linkage:e,url:P}}}}}catch{}return null})}getContentHash(){return Z(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=parseInt(t[3],16);if(t[4].length===o*2)return"ipfs://"+Sn.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+Sn.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+Ao("0x"+s[1]).replace(/[=+\/]/g,u=>o[u])}return se.throwError("invalid or unsupported content hash data",T.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Z(this,void 0,void 0,function*(){let t=nt(e);t=xe([Ds(64),Ds(t.length),t]),t.length%32!==0&&(t=xe([t,de("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",q(t));return n==null||n==="0x"?null:Cr(n)})}}let Us=null,Vx=1;class Lf extends Mn{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),U(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=Ot(new.target,"getNetwork")(e);t?(U(this,"_network",t),this.emit("network",t,null)):se.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Z(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||se.throwError("no network detected",T.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:U(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return $r(()=>this._ready().then(e=>e,e=>{if(!(e.code===T.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Us==null&&(Us=new Q),Us}static getNetwork(e){return Mx(e??"homestead")}ccipReadFetch(e,t,n){return Z(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const u=n[a],l=u.replace("{sender}",i).replace("{data}",s),d=u.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),p=yield ns({url:l,errorPassThrough:!0},d,(E,P)=>(E.status=P.statusCode,E));if(p.data)return p.data;const A=p.message||"unknown error";if(p.status>=400&&p.status<500)return se.throwError(`response not found during CCIP fetch: ${A}`,T.errors.SERVER_ERROR,{url:u,errorMessage:A});o.push(A)}return se.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,T.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return Z(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Ln()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=Ln(),n=Xe({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Ln();return i=j.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Z(this,void 0,void 0,function*(){const e=Vx++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)se.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",se.makeError("network block skew detected",T.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});t.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(u=>{i._inflight=!1,u.length!==0&&u.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(u=>{this.emit("error",u),i._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Z(this,void 0,void 0,function*(){return se.throwError("provider does not support network detection",T.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Z(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Oa(0),this._network;const n=se.makeError("underlying network changed",T.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Ln();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Ln(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return Z(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,n||0,null)})}_waitForTransaction(e,t,n,i){return Z(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,a)=>{const u=[];let l=!1;const d=function(){return l?!0:(l=!0,u.forEach(A=>{A()}),!1)},p=A=>{A.confirmations<t||d()||o(A)};if(this.on(e,p),u.push(()=>{this.removeListener(e,p)}),i){let A=i.startBlock,E=null;const P=S=>Z(this,void 0,void 0,function*(){l||(yield Oa(1e3),this.getTransactionCount(i.from).then(y=>Z(this,void 0,void 0,function*(){if(!l){if(y<=i.nonce)A=S;else{{const M=yield this.getTransaction(e);if(M&&M.blockNumber!=null)return}for(E==null&&(E=A-3,E<i.startBlock&&(E=i.startBlock));E<=S;){if(l)return;const M=yield this.getBlockWithTransactions(E);for(let B=0;B<M.transactions.length;B++){const F=M.transactions[B];if(F.hash===e)return;if(F.from===i.from&&F.nonce===i.nonce){if(l)return;const G=yield this.waitForTransaction(F.hash,t);if(d())return;let D="replaced";F.data===i.data&&F.to===i.to&&F.value.eq(i.value)?D="repriced":F.data==="0x"&&F.from===F.to&&F.value.isZero()&&(D="cancelled"),a(se.makeError("transaction was replaced",T.errors.TRANSACTION_REPLACED,{cancelled:D==="replaced"||D==="cancelled",reason:D,replacement:this._wrapTransaction(F),hash:e,receipt:G}));return}}E++}}l||this.once("block",P)}}),y=>{l||this.once("block",P)}))});if(l)return;this.once("block",P),u.push(()=>{this.removeListener("block",P)})}if(typeof n=="number"&&n>0){const A=setTimeout(()=>{d()||a(se.makeError("timeout exceeded",T.errors.TIMEOUT,{timeout:n}))},n);A.unref&&A.unref(),u.push(()=>{clearTimeout(A)})}})})}getBlockNumber(){return Z(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Z(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return j.from(e)}catch(t){return se.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return Z(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Xe({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",n);try{return j.from(i)}catch(s){return se.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,t){return Z(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Xe({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",n);try{return j.from(i).toNumber()}catch(s){return se.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,t){return Z(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Xe({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",n);try{return q(i)}catch(s){return se.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,t,n){return Z(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Xe({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(o=>Ki(o))}),s=yield this.perform("getStorageAt",i);try{return q(s)}catch(o){return se.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,t,n){if(t!=null&&Vt(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&se.throwError("Transaction hash mismatch from Provider.sendTransaction.",T.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(s,o)=>Z(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const u=yield this._waitForTransaction(e.hash,s,o,a);return u==null&&s===0?null:(this._emitted["t:"+e.hash]=u.blockNumber,u.status===0&&se.throwError("transaction failed",T.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:u}),u)}),i}sendTransaction(e){return Z(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>q(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return Z(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?j.from(s):null))}),["type"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s??null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(n[i]=Promise.resolve(t[i]).then(s=>s?q(s):null))}),this.formatter.transactionRequest(yield Xe(n))})}_getFilter(e){return Z(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Xe(t))})}_call(e,t,n){return Z(this,void 0,void 0,function*(){n>=qx&&se.throwError("CCIP read exceeded maximum redirections",T.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&t==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Vt(s)%32===4)try{const o=rt(s,4),a=rt(o,0,32);j.from(a).eq(i)||se.throwError("CCIP Read sender did not match",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const u=[],l=j.from(rt(o,32,64)).toNumber(),d=j.from(rt(o,l,l+32)).toNumber(),p=rt(o,l+32);for(let M=0;M<d;M++){const B=Ti(p,M*32);B==null&&se.throwError("CCIP Read contained corrupt URL string",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),u.push(B)}const A=ii(o,64);j.from(rt(o,100,128)).isZero()||se.throwError("CCIP Read callback selector included junk",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const E=rt(o,96,100),P=ii(o,128),S=yield this.ccipReadFetch(e,A,u);S==null&&se.throwError("CCIP Read disabled or provided no URLs",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y={to:i,data:xt([E,Df([S,P])])};return this._call(y,t,n+1)}catch(o){if(o.code===T.errors.SERVER_ERROR)throw o}try{return q(s)}catch(o){return se.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:o})}})}call(e,t){return Z(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Xe({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Z(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Xe({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return j.from(n)}catch(i){return se.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:i})}})}_getAddress(e){return Z(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&se.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&se.throwError("ENS name not configured",T.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return Z(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!t};if(ne(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),ne(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{se.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return $r(()=>Z(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let o=null;for(let u=0;u<s.transactions.length;u++){const l=s.transactions[u];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let d=o-l.blockNumber+1;d<=0&&(d=1),l.confirmations=d}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(u=>this._wrapTransaction(u)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Z(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return $r(()=>Z(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Z(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return $r(()=>Z(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Z(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Xe({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Q.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Z(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Z(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&se.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return Z(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const n=yield this._getResolver(t,"getResolver");if(n!=null){const i=new Ua(this,n,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return Z(this,void 0,void 0,function*(){t==null&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||se.throwError("network does not support ENS",T.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Wn(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Z(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(ne(e))throw n}typeof e!="string"&&se.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return Z(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(n==null)return null;const i=Ti(yield this.call({to:n,data:"0x691f3431"+Wn(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Z(this,void 0,void 0,function*(){let t=null;if(ne(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;t=new Ua(this,o,s);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==T.errors.CALL_EXCEPTION)throw a}try{const a=Ti(yield this.call({to:o,data:"0x691f3431"+Wn(s).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==T.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return se.throwError(e+" not implemented",T.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const i=new Wx(cn(e),t,n);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,i=[],s=cn(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let t=cn(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=cn(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let i=!1,s=cn(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=cn(e);this._events=this._events.filter(i=>i.tag!==n?!0:(t.push(i),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var nr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const it=new T(li),Qx=["call","estimateGas"];function $n(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=ne(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const n=$n(r[t],e);if(n)return n}return null}if(typeof r=="string")try{return $n(JSON.parse(r),e)}catch{}return null}function Uf(r,e,t){const n=t.transaction||t.signedTransaction;if(r==="call"){const s=$n(e,!0);if(s)return s.data;it.throwError("missing revert data in call exception; Transaction reverted without a reason string",T.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(r==="estimateGas"){let s=$n(e.body,!1);s==null&&(s=$n(e,!1)),s&&it.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:r,transaction:n,error:e})}let i=e.message;throw e.code===T.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&it.throwError("insufficient funds for intrinsic transaction cost",T.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),i.match(/nonce (is )?too low/i)&&it.throwError("nonce has already been used",T.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&it.throwError("replacement fee too low",T.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),i.match(/only replay-protected/i)&&it.throwError("legacy pre-eip-155 transactions not supported",T.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),Qx.indexOf(r)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&it.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function za(r){return new Promise(function(e){setTimeout(e,r)})}function Yx(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function Un(r){return r&&r.toLowerCase()}const so={};class zf extends kn{constructor(e,t,n){if(super(),e!==so)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");U(this,"provider",t),n==null&&(n=0),typeof n=="string"?(U(this,"_address",this.provider.formatter.address(n)),U(this,"_index",null)):typeof n=="number"?(U(this,"_index",n),U(this,"_address",null)):it.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return it.throwError("cannot alter JSON-RPC Signer connection",T.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Xx(so,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&it.throwError("unknown account #"+this._index,T.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Je(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Je(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>nr(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&it.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Xe({tx:Xe(e),sender:t}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&it.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&it.throwError("user rejected transaction",T.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Uf("sendTransaction",o,s)))})}signTransaction(e){return it.throwError("signing transactions is unsupported",T.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return nr(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield $r(()=>nr(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return nr(this,void 0,void 0,function*(){const t=typeof e=="string"?nt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[q(t),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&it.throwError("user rejected signing",T.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return nr(this,void 0,void 0,function*(){const t=typeof e=="string"?nt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),q(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&it.throwError("user rejected signing",T.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,t,n){return nr(this,void 0,void 0,function*(){const i=yield ft.resolveNames(e,t,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(ft.getPayload(i.domain,t,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&it.throwError("user rejected signing",T.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:t,value:i.value}}),o}})}unlock(e){return nr(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class Xx extends zf{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const Zx={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class e1 extends Lf{constructor(e,t){let n=t;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Ot(this.constructor,"defaultUrl")()),typeof e=="string"?U(this,"connection",Object.freeze({url:e})):U(this,"connection",Object.freeze(Je(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return nr(this,void 0,void 0,function*(){yield za(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=Ot(this.constructor,"getNetwork");try{return t(j.from(e).toNumber())}catch(n){return it.throwError("could not detect network",T.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return it.throwError("could not detect network",T.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new zf(so,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:At(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=ns(this.connection,JSON.stringify(n),Yx).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Un(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Un(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Un(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Un(t.address),de(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Ot(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Ot(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Un(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return nr(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&j.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=Je(t),t.transaction=Je(i),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&it.throwError(e+" not implemented",T.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Uf(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(u){return e.emit("pending",u),null})})}),o.then(function(){return za(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=Je(Zx);if(t)for(const s in t)t[s]&&(n[s]=!0);po(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Ki(j.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=q(e[s]))}),e.accessList&&(i.accessList=on(e.accessList)),i}}var Hi=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(p){o(p)}}function u(d){try{l(n.throw(d))}catch(p){o(p)}}function l(d){d.done?s(d.value):i(d.value).then(a,u)}l((n=n.apply(r,e||[])).next())})};const Wr=new T(li);function vi(){return new Date().getTime()}function ja(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Wr.throwArgumentError("provider mismatch","networks",r):e=n}return e}function Ga(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],i=r[t];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function gn(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(j.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>gn(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=gn(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let t1=1;function qa(r){let e=null,t=null,n=new Promise(o=>{e=function(){t&&(clearTimeout(t),t=null),o()},t=setTimeout(e,r)});const i=o=>(n=n.then(o),n);function s(){return n}return{cancel:e,getPromise:s,wait:i}}const r1=[T.errors.CALL_EXCEPTION,T.errors.INSUFFICIENT_FUNDS,T.errors.NONCE_EXPIRED,T.errors.REPLACEMENT_UNDERPRICED,T.errors.UNPREDICTABLE_GAS_LIMIT],n1=["address","args","errorArgs","errorSignature","method","transaction"];function wi(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function i1(r,e){return function(t){const n={};t.forEach(s=>{const o=r(s.result);n[o]||(n[o]={count:0,result:s.result}),n[o].count++});const i=Object.keys(n);for(let s=0;s<i.length;s++){const o=n[i[s]];if(o.count>=e)return o.result}}}function s1(r,e,t){let n=gn;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=Ga(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=r._highestBlockNumber&&(r._highestBlockNumber=o),r._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return Ga(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Je(i),i.confirmations=-1,gn(i))};break;case"getBlock":t.includeTransactions?n=function(i){return i==null?null:(i=Je(i),i.transactions=i.transactions.map(s=>(s=Je(s),s.confirmations=-1,s)),gn(i))}:n=function(i){return i==null?null:gn(i)};break;default:throw new Error("unknown method: "+e)}return i1(n,r.quorum)}function zn(r,e){return Hi(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:$r(()=>new Promise((n,i)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function o1(r,e,t,n){return Hi(this,void 0,void 0,function*(){let i=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&ne(n.blockTag)&&(i=yield zn(r,e)),i[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&ne(n.blockTag)&&(i=yield zn(r,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&ne(n.blockTag)&&(i=yield zn(r,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&ne(n.blockTag)&&(i=yield zn(r,e)),t==="call"&&n.blockTag?i[t](n.transaction,n.blockTag):i[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](n.transactionHash);case"getLogs":{let s=n.filter;return(s.fromBlock&&ne(s.fromBlock)||s.toBlock&&ne(s.toBlock))&&(i=yield zn(r,e)),i.getLogs(s)}}return Wr.throwError("unknown method error",T.errors.UNKNOWN_ERROR,{method:t,params:n})})}class a1 extends Lf{constructor(e,t){e.length===0&&Wr.throwArgumentError("missing providers","providers",e);const n=e.map((o,a)=>{if(Mn.isProvider(o)){const d=Ra(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:d,priority:1})}const u=Je(o);u.priority==null&&(u.priority=1),u.stallTimeout==null&&(u.stallTimeout=Ra(o)?2e3:750),u.weight==null&&(u.weight=1);const l=u.weight;return(l%1||l>512||l<1)&&Wr.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,l),Object.freeze(u)}),i=n.reduce((o,a)=>o+a.weight,0);t==null?t=i/2:t>i&&Wr.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let s=ja(n.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),U(this,"providerConfigs",Object.freeze(n)),U(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Hi(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return ja(e)})}perform(e,t){return Hi(this,void 0,void 0,function*(){if(e==="sendTransaction"){const u=yield Promise.all(this.providerConfigs.map(l=>l.provider.sendTransaction(t.signedTransaction).then(d=>d.hash,d=>d)));for(let l=0;l<u.length;l++){const d=u[l];if(typeof d=="string")return d}throw u[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=s1(this,e,t),i=Ef(this.providerConfigs.map(Je));i.sort((u,l)=>u.priority-l.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const u=vi();let l=i.filter(E=>E.runner&&u-E.start<E.stallTimeout).reduce((E,P)=>E+P.weight,0);for(;l<this.quorum&&o<i.length;){const E=i[o++],P=t1++;E.start=vi(),E.staller=qa(E.stallTimeout),E.staller.wait(()=>{E.staller=null}),E.runner=o1(E,s,e,t).then(S=>{E.done=!0,E.result=S,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:wi(E,vi()),request:{method:e,params:At(t)},provider:this})},S=>{E.done=!0,E.error=S,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:wi(E,vi()),request:{method:e,params:At(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:wi(E,null),request:{method:e,params:At(t)},provider:this}),l+=E.weight}const d=[];i.forEach(E=>{E.done||!E.runner||(d.push(E.runner),E.staller&&d.push(E.staller.getPromise()))}),d.length&&(yield Promise.race(d));const p=i.filter(E=>E.done&&E.error==null);if(p.length>=this.quorum){const E=n(p);if(E!==void 0)return i.forEach(P=>{P.staller&&P.staller.cancel(),P.cancelled=!0}),E;a||(yield qa(100).getPromise()),a=!1}const A=i.reduce((E,P)=>{if(!P.done||P.error==null)return E;const S=P.error.code;return r1.indexOf(S)>=0&&(E[S]||(E[S]={error:P.error,weight:0}),E[S].weight+=P.weight),E},{});if(Object.keys(A).forEach(E=>{const P=A[E];if(P.weight<this.quorum)return;i.forEach(M=>{M.staller&&M.staller.cancel(),M.cancelled=!0});const S=P.error,y={};n1.forEach(M=>{S[M]!=null&&(y[M]=S[M])}),Wr.throwError(S.reason||S.message,E,y)}),i.filter(E=>!E.done).length===0)break}return i.forEach(u=>{u.staller&&u.staller.cancel(),u.cancelled=!0}),Wr.throwError("failed to meet quorum",T.errors.SERVER_ERROR,{method:e,params:t,results:i.map(u=>wi(u)),provider:this})})}}const Ha=new T(li);let f1=1;function Ka(r,e){const t="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:f1++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:t,request:At(s),provider:this}),e(s,(u,l)=>{if(u)return this.emit("debug",{action:"response",fetcher:t,error:u,request:s,provider:this}),a(u);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:l,provider:this}),l.error){const d=new Error(l.error.message);return d.code=l.error.code,d.data=l.error.data,a(d)}o(l.result)})})}}function c1(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:At(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class u1 extends e1{constructor(e,t){e==null&&Ha.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=c1(e)):e.sendAsync?i=Ka(e,e.sendAsync.bind(e)):e.send?i=Ka(e,e.send.bind(e)):Ha.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),U(this,"jsonRpcFetchFunc",i),U(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const l1="solidity/5.7.0",h1=new RegExp("^bytes([0-9]+)$"),d1=new RegExp("^(u?int)([0-9]*)$"),x1=new RegExp("^(.*)\\[([0-9]*)\\]$"),b1="0000000000000000000000000000000000000000000000000000000000000000",dn=new T(l1);function jf(r,e,t){switch(r){case"address":return t?qn(e,32):z(e);case"string":return nt(e);case"bytes":return z(e);case"bool":return e=e?"0x01":"0x00",t?qn(e,32):z(e)}let n=r.match(d1);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&dn.throwArgumentError("invalid number type","type",r),t&&(i=256),e=j.from(e).toTwos(i),qn(e,i/8)}if(n=r.match(h1),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&dn.throwArgumentError("invalid bytes type","type",r),z(e).byteLength!==i&&dn.throwArgumentError(`invalid value for ${r}`,"value",e),t?z((e+b1).substring(0,66)):e}if(n=r.match(x1),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&dn.throwArgumentError(`invalid array length for ${r}`,"value",e);const o=[];return e.forEach(function(a){o.push(jf(i,a,!0))}),xe(o)}return dn.throwArgumentError("invalid type","type",r)}function Fo(r,e){r.length!=e.length&&dn.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,i){t.push(jf(n,e[i]))}),q(xe(t))}function p1(r,e){return he(Fo(r,e))}function g1(r,e){return cr(Fo(r,e))}const m1=Object.freeze(Object.defineProperty({__proto__:null,keccak256:p1,pack:Fo,sha256:g1},Symbol.toStringTag,{value:"Module"})),y1="units/5.7.0",Gf=new T(y1),qf=["wei","kwei","mwei","gwei","szabo","finney","ether"];function v1(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&Gf.throwArgumentError("invalid value","value",r);let t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;t.length;)if(t.length<=3){s.unshift(t);break}else{const o=t.length-3;s.unshift(t.substring(o)),t=t.substring(0,o)}return n+s.join(",")+i}function Hf(r,e){if(typeof e=="string"){const t=qf.indexOf(e);t!==-1&&(e=3*t)}return Ei(r,e??18)}function Kf(r,e){if(typeof r!="string"&&Gf.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=qf.indexOf(e);t!==-1&&(e=3*t)}return Lt(r,e??18)}function w1(r){return Hf(r,18)}function A1(r){return Kf(r,18)}const E1=Object.freeze(Object.defineProperty({__proto__:null,commify:v1,formatEther:w1,formatUnits:Hf,parseEther:A1,parseUnits:Kf},Symbol.toStringTag,{value:"Module"})),_1="ethers/5.7.2";new T(_1);var Er={};const S1=Ze(Fl),P1=Ze(eu),C1=Ze(el),M1=Ze(Hd),k1=Ze(ac),T1=Ze(Il),N1=Ze(sx),R1=Ze(yx),I1=Ze(Kc),B1=Ze(sc),Wa=Ze($d),O1=Ze(m1),F1=Ze(fx),D1=Ze(gu),L1=Ze(Jc),U1=Ze(Cd),Ja=Ze(Qu),z1=Ze(Od),j1=Ze(E1),G1=Ze(Sx),q1=Ze(Bx);(function(r){var e=vr&&vr.__createBinding||(Object.create?function($,ie,w,f){f===void 0&&(f=w),Object.defineProperty($,f,{enumerable:!0,get:function(){return ie[w]}})}:function($,ie,w,f){f===void 0&&(f=w),$[f]=ie[w]}),t=vr&&vr.__setModuleDefault||(Object.create?function($,ie){Object.defineProperty($,"default",{enumerable:!0,value:ie})}:function($,ie){$.default=ie}),n=vr&&vr.__importStar||function($){if($&&$.__esModule)return $;var ie={};if($!=null)for(var w in $)w!=="default"&&Object.prototype.hasOwnProperty.call($,w)&&e(ie,$,w);return t(ie,$),ie};Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0;var i=S1;Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=P1;Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=n(C1);r.base64=o;var a=M1;Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return a.Base58}});var u=k1;Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return u.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return u.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return u.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return u.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return u.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return u.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return u.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return u.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return u.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return u.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return u.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return u.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return u.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return u.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return u.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return u.stripZeros}});var l=T1;Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return l.namehash}});var d=N1;Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return d.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return d.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return d.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return d.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return d.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return d.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return d.mnemonicToSeed}});var p=R1;Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return p.getJsonWalletAddress}});var A=I1;Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return A.keccak256}});var E=B1;Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return E.Logger}});var P=Wa;Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return P.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return P.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return P.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return P.sha512}});var S=O1;Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return S.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return S.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return S.sha256}});var y=F1;Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return y.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return y.shuffled}});var M=D1;Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return M.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return M.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return M.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return M.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return M.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return M.shallowCopy}});var B=n(L1);r.RLP=B;var F=U1;Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return F.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return F.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return F.SigningKey}});var G=Ja;Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return G.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return G.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return G.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return G._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return G.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return G.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return G.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return G.Utf8ErrorFuncs}});var D=z1;Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return D.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return D.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return D.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return D.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return D.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return D.TransactionTypes}});var K=j1;Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return K.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return K.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return K.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return K.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return K.parseUnits}});var X=G1;Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return X.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return X.verifyTypedData}});var Y=q1;Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return Y._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return Y.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return Y.poll}});var ee=Wa;Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return ee.SupportedAlgorithm}});var oe=Ja;Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return oe.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return oe.Utf8ErrorReason}})})(Er);function H1(r){var t;if(!r)return"Injected";const e=n=>{if(n.isApexWallet)return"Apex Wallet";if(n.isAvalanche)return"Core Wallet";if(n.isBitKeep)return"BitKeep";if(n.isBraveWallet)return"Brave Wallet";if(n.isCoinbaseWallet)return"Coinbase Wallet";if(n.isExodus)return"Exodus";if(n.isFrame)return"Frame";if(n.isKuCoinWallet)return"KuCoin Wallet";if(n.isMathWallet)return"MathWallet";if(n.isOneInchIOSWallet||n.isOneInchAndroidWallet)return"1inch Wallet";if(n.isOpera)return"Opera";if(n.isPortal)return"Ripio Portal";if(n.isRainbow)return"Rainbow";if(n.isTally)return"Tally";if(n.isTokenPocket)return"TokenPocket";if(n.isTokenary)return"Tokenary";if(n.isTrust||n.isTrustWallet)return"Trust Wallet";if(n.isMetaMask)return"MetaMask"};if((t=r.providers)!=null&&t.length){const n=new Set;let i=1;for(const o of r.providers){let a=e(o);a||(a=`Unknown Wallet #${i}`,i+=1),n.add(a)}const s=[...n];return s.length?s:s[0]??"Injected"}return e(r)??"Injected"}var Ni,jn,K1=class extends hu{constructor({chains:r,options:e}={}){const t={shimDisconnect:!0,shimChainChangedDisconnect:!0,getProvider:()=>typeof window<"u"?window.ethereum:void 0,...e};super({chains:r,options:t}),rr(this,"id"),rr(this,"name"),rr(this,"ready"),ea(this,Ni,void 0),ea(this,jn,void 0),rr(this,"shimDisconnectKey",`${this.id}.shimDisconnect`),rr(this,"onAccountsChanged",i=>{i.length===0?this.emit("disconnect"):this.emit("change",{account:Er.getAddress(i[0])})}),rr(this,"onChainChanged",i=>{const s=Va(i),o=this.isChainUnsupported(s);this.emit("change",{chain:{id:s,unsupported:o}})}),rr(this,"onDisconnect",()=>{var i;if(this.options.shimChainChangedDisconnect&&Zo(this,jn)){Ss(this,jn,!1);return}this.emit("disconnect"),this.options.shimDisconnect&&((i=mt().storage)==null||i.removeItem(this.shimDisconnectKey))});const n=t.getProvider();if(typeof t.name=="string")this.name=t.name;else if(n){const i=H1(n);t.name?this.name=t.name(i):typeof i=="string"?this.name=i:this.name=i[0]}else this.name="Injected";this.id="injected",this.ready=!!n}async connect({chainId:r}={}){var e;try{const t=await this.getProvider();if(!t)throw new jt;t.on&&(t.on("accountsChanged",this.onAccountsChanged),t.on("chainChanged",this.onChainChanged),t.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const n=await t.request({method:"eth_requestAccounts"}),i=Er.getAddress(n[0]);let s=await this.getChainId(),o=this.isChainUnsupported(s);return r&&s!==r&&(s=(await this.switchChain(r)).id,o=this.isChainUnsupported(s)),this.options.shimDisconnect&&((e=mt().storage)==null||e.setItem(this.shimDisconnectKey,!0)),{account:i,chain:{id:s,unsupported:o},provider:t}}catch(t){throw this.isUserRejectedRequestError(t)?new Ri(t):t.code===-32002?new db(t):t}}async disconnect(){var e;const r=await this.getProvider();r!=null&&r.removeListener&&(r.removeListener("accountsChanged",this.onAccountsChanged),r.removeListener("chainChanged",this.onChainChanged),r.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&((e=mt().storage)==null||e.removeItem(this.shimDisconnectKey)))}async getAccount(){const r=await this.getProvider();if(!r)throw new jt;const e=await r.request({method:"eth_accounts"});return Er.getAddress(e[0])}async getChainId(){const r=await this.getProvider();if(!r)throw new jt;return r.request({method:"eth_chainId"}).then(Va)}async getProvider(){const r=this.options.getProvider();return r&&Ss(this,Ni,r),Zo(this,Ni)}async getSigner({chainId:r}={}){const[e,t]=await Promise.all([this.getProvider(),this.getAccount()]);return new u1(e,r).getSigner(t)}async isAuthorized(){var r;try{if(this.options.shimDisconnect&&!((r=mt().storage)!=null&&r.getItem(this.shimDisconnectKey)))return!1;if(!await this.getProvider())throw new jt;return!!await this.getAccount()}catch{return!1}}async switchChain(r){var n,i,s;this.options.shimChainChangedDisconnect&&Ss(this,jn,!0);const e=await this.getProvider();if(!e)throw new jt;const t=Er.hexValue(r);try{return await Promise.all([e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]}),new Promise(o=>this.on("change",({chain:a})=>{(a==null?void 0:a.id)===r&&o()}))]),this.chains.find(o=>o.id===r)??{id:r,name:`Chain ${t}`,network:`${t}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(o){const a=this.chains.find(u=>u.id===r);if(!a)throw new tc({chainId:r,connectorId:this.id});if(o.code===4902||((i=(n=o==null?void 0:o.data)==null?void 0:n.originalError)==null?void 0:i.code)===4902)try{return await e.request({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[((s=a.rpcUrls.public)==null?void 0:s.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(a)}]}),a}catch(u){throw this.isUserRejectedRequestError(u)?new Ri(o):new ub}throw this.isUserRejectedRequestError(o)?new Ri(o):new xb(o)}}async watchAsset({address:r,decimals:e=18,image:t,symbol:n}){const i=await this.getProvider();if(!i)throw new jt;return i.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:r,decimals:e,image:t,symbol:n}}})}isUserRejectedRequestError(r){return r.code===4001}};Ni=new WeakMap;jn=new WeakMap;const W1=r=>(e,t,n)=>{const i=n.subscribe;return n.subscribe=(o,a,u)=>{let l=o;if(a){const d=(u==null?void 0:u.equalityFn)||Object.is;let p=o(n.getState());l=A=>{const E=o(A);if(!d(p,E)){const P=p;a(p=E,P)}},u!=null&&u.fireImmediately&&a(p,p)}return i(l)},r(e,t,n)},J1=W1;function $1(r){let e;try{e=r()}catch{return}return{getItem:n=>{var i;const s=a=>a===null?null:JSON.parse(a),o=(i=e.getItem(n))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(n,i)=>e.setItem(n,JSON.stringify(i)),removeItem:n=>e.removeItem(n)}}const si=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(n){return si(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return si(n)(t)}}}},V1=(r,e)=>(t,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,M)=>({...M,...y}),...e},o=!1;const a=new Set,u=new Set;let l;try{l=s.getStorage()}catch{}if(!l)return r((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...y)},n,i);const d=si(s.serialize),p=()=>{const y=s.partialize({...n()});let M;const B=d({state:y,version:s.version}).then(F=>l.setItem(s.name,F)).catch(F=>{M=F});if(M)throw M;return B},A=i.setState;i.setState=(y,M)=>{A(y,M),p()};const E=r((...y)=>{t(...y),p()},n,i);let P;const S=()=>{var y;if(!l)return;o=!1,a.forEach(B=>B(n()));const M=((y=s.onRehydrateStorage)==null?void 0:y.call(s,n()))||void 0;return si(l.getItem.bind(l))(s.name).then(B=>{if(B)return s.deserialize(B)}).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==s.version){if(s.migrate)return s.migrate(B.state,B.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return B.state}).then(B=>{var F;return P=s.merge(B,(F=n())!=null?F:E),t(P,!0),p()}).then(()=>{M==null||M(P,void 0),o=!0,u.forEach(B=>B(P))}).catch(B=>{M==null||M(void 0,B)})};return i.persist={setOptions:y=>{s={...s,...y},y.getStorage&&(l=y.getStorage())},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>S(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},S(),P||E},Q1=(r,e)=>(t,n,i)=>{let s={storage:$1(()=>localStorage),partialize:S=>S,version:0,merge:(S,y)=>({...y,...S}),...e},o=!1;const a=new Set,u=new Set;let l=s.storage;if(!l)return r((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...S)},n,i);const d=()=>{const S=s.partialize({...n()});return l.setItem(s.name,{state:S,version:s.version})},p=i.setState;i.setState=(S,y)=>{p(S,y),d()};const A=r((...S)=>{t(...S),d()},n,i);let E;const P=()=>{var S;if(!l)return;o=!1,a.forEach(M=>M(n()));const y=((S=s.onRehydrateStorage)==null?void 0:S.call(s,n()))||void 0;return si(l.getItem.bind(l))(s.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==s.version){if(s.migrate)return s.migrate(M.state,M.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return M.state}).then(M=>{var B;return E=s.merge(M,(B=n())!=null?B:A),t(E,!0),d()}).then(()=>{y==null||y(E,void 0),o=!0,u.forEach(M=>M(E))}).catch(M=>{y==null||y(void 0,M)})};return i.persist={setOptions:S=>{s={...s,...S},S.storage&&(l=S.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>P(),hasHydrated:()=>o,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},P(),E||A},Y1=(r,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?(({VITE_APP_NAME:"Doge Affiliate Dapp",VITE_CHAIN:"bsc",VITE_TOKEN_ADDRESS:"0x5f7b5f7640009f78b9365d3423397d325d850f29",VITE_REFERER_ADDRESS:"0xF8d76927Afb380665C03B4541e395843C45915FA",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Please use `storage` option instead."),V1(r,e)):Q1(r,e),X1=Y1,$a=r=>{let e;const t=new Set,n=(u,l)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const p=e;e=l??typeof d!="object"?d:Object.assign({},e,d),t.forEach(A=>A(e,p))}},i=()=>e,a={setState:n,getState:i,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{({VITE_APP_NAME:"Doge Affiliate Dapp",VITE_CHAIN:"bsc",VITE_TOKEN_ADDRESS:"0x5f7b5f7640009f78b9365d3423397d325d850f29",VITE_REFERER_ADDRESS:"0xF8d76927Afb380665C03B4541e395843C45915FA",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),t.clear()}};return e=r(n,i,a),a},Z1=r=>r?$a(r):$a;function Wf(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;if(r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(const[n,i]of r)if(!Object.is(i,e.get(n)))return!1;return!0}if(r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(const n of r)if(!e.has(n))return!1;return!0}const t=Object.keys(r);if(t.length!==Object.keys(e).length)return!1;for(let n=0;n<t.length;n++)if(!Object.prototype.hasOwnProperty.call(e,t[n])||!Object.is(r[t[n]],e[t[n]]))return!1;return!0}function yb(r,e,{minQuorum:t=1,pollingInterval:n=4e3,targetQuorum:i=1,stallTimeout:s}={}){if(!r.length)throw new Error("must have at least one chain");if(i<t)throw new Error("quorum cannot be lower than minQuorum");let o=[];const a={},u={};for(const l of r){let d=!1;for(const p of e){const A=p(l);A&&(d=!0,o.some(({id:E})=>E===l.id)||(o=[...o,A.chain]),a[l.id]=[...a[l.id]||[],A.provider],A.webSocketProvider&&(u[l.id]=[...u[l.id]||[],A.webSocketProvider]))}if(!d)throw new Error([`Could not find valid provider configuration for chain "${l.name}".
`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join(`
`))}return{chains:o,provider:({chainId:l})=>{const d=o.find(E=>E.id===l)??r[0],p=a[d.id];if(!p||!p[0])throw new Error(`No providers configured for chain "${d.id}"`);let A;return p.length===1?A=p[0]():A=Jf(i,t,p,{stallTimeout:s}),d.id===42220&&(A.formatter.formats.block={...A.formatter.formats.block,difficulty:()=>0,gasLimit:()=>0}),Object.assign(A,{chains:o,pollingInterval:n})},webSocketProvider:({chainId:l})=>{var E;const d=o.find(P=>P.id===l)??r[0],p=u[d.id];if(!p)return;const A=(E=p[0])==null?void 0:E.call(p);return A&&d.id===42220&&(A.formatter.formats.block={...A.formatter.formats.block,difficulty:()=>0,gasLimit:()=>0}),Object.assign(A||{},{chains:o})}}}function Jf(r,e,t,{stallTimeout:n}){var i;try{return new a1(t.map((s,o)=>{const a=s();return{provider:a,priority:a.priority??o,stallTimeout:a.stallTimeout??n,weight:a.weight}}),r)}catch(s){if((i=s==null?void 0:s.message)!=null&&i.includes("quorum will always fail; larger than total weight")){if(r===e)throw s;return Jf(r-1,e,t,{stallTimeout:n})}throw s}}function Do({chainId:r,signer:e}){var s,o,a,u;const{chain:t,chains:n}=Xf(),i=t==null?void 0:t.id;if(i&&r!==i)throw new lb({activeChain:((s=n.find(l=>l.id===i))==null?void 0:s.name)??`Chain ${i}`,targetChain:((o=n.find(l=>l.id===r))==null?void 0:o.name)??`Chain ${r}`});if(e){const l=(u=(a=e.provider)==null?void 0:a.network)==null?void 0:u.chainId;if(l&&r!==l){const d=mt().connector;throw new tc({chainId:r,connectorId:(d==null?void 0:d.id)??"unknown"})}}}var oo=(r,{find:e,replace:t})=>r&&e(r)?t(r):typeof r!="object"?r:Array.isArray(r)?r.map(n=>oo(n,{find:e,replace:t})):r instanceof Object?Object.entries(r).reduce((n,[i,s])=>({...n,[i]:oo(s,{find:e,replace:t})}),{}):r;function eb(r){const e=JSON.parse(r);return oo(e,{find:n=>n.type==="BigNumber",replace:n=>j.from(n.hex)})}function $f({contract:r,functionName:e,args:t=[]}){if(e in r.functions)return e;const n=(t==null?void 0:t.length)??0,i=Object.keys(r.functions).filter(s=>s.startsWith(`${e}(`)).map(s=>({name:s,fragment:Er.FunctionFragment.fromString(s)})).filter(s=>n===s.fragment.inputs.length);for(const s of i)if(t.every((a,u)=>{const l=s.fragment.inputs[u];return ao(a,l)}))return s.name;return e}function ao(r,e){const t=typeof r,n=e.type;switch(n){case"address":return Er.isAddress(r);case"bool":return t==="boolean";case"function":return t==="string";case"string":return t==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>ao(Object.values(r)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?t==="number"||t==="bigint"||j.isBigNumber(r):/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?t==="string"||r instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(r)&&r.every(i=>ao(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function tb(r){try{const e=r.abi.filter(t=>t.type==="function"&&t.name===r.functionName);if(e.length===0)throw new Error("Invalid ABI");return e}catch{const t=mf.getInterface(r.abi).format(Er.FormatTypes.full);return(Array.isArray(t)?t:[t]).filter(i=>i.includes(r.functionName))}}function Va(r){return typeof r=="string"?Number.parseInt(r,r.trim().substring(0,2)==="0x"?16:10):typeof r=="bigint"?Number(r):r}function Qa(r,e){return r.slice(0,e).join(".")||"."}function Ya(r,e){const{length:t}=r;for(let n=0;n<t;++n)if(r[n]===e)return n+1;return 0}function rb(r,e){const t=typeof r=="function",n=typeof e=="function",i=[],s=[];return function(a,u){if(typeof u=="object")if(i.length){const l=Ya(i,this);l===0?i[i.length]=this:(i.splice(l),s.splice(l)),s[s.length]=a;const d=Ya(i,u);if(d!==0)return n?e.call(this,a,u,Qa(s,d)):`[ref=${Qa(s,d)}]`}else i[0]=u,s[0]=a;return t?r.call(this,a,u):u}}function nb(r,e,t,n){return JSON.stringify(r,rb(e,n),t??void 0)}var ib={getItem:r=>"",setItem:(r,e)=>null,removeItem:r=>null};function sb({deserialize:r=eb,key:e="wagmi",serialize:t=nb,storage:n}){return{...n,getItem:(i,s=null)=>{const o=n.getItem(`${e}.${i}`);try{return o?r(o):s}catch(a){return console.warn(a),s}},setItem:(i,s)=>{if(s===null)n.removeItem(`${e}.${i}`);else try{n.setItem(`${e}.${i}`,t(s))}catch(o){console.error(o)}},removeItem:i=>n.removeItem(`${e}.${i}`)}}var Xa="store",xn,Gn,fo,Vf,ob=class{constructor({autoConnect:r=!1,connectors:e=[new K1],provider:t,storage:n=sb({storage:typeof window<"u"?window.localStorage:ib}),logger:i={warn:console.warn},webSocketProvider:s}){var u,l;_s(this,fo),this.providers=new Map,this.webSocketProviders=new Map,_s(this,xn,void 0),_s(this,Gn,void 0),this.config={autoConnect:r,connectors:e,logger:i,provider:t,storage:n,webSocketProvider:s};let o="disconnected",a;if(r)try{const d=n.getItem(Xa),p=(u=d==null?void 0:d.state)==null?void 0:u.data;o=p!=null&&p.account?"reconnecting":"connecting",a=(l=p==null?void 0:p.chain)==null?void 0:l.id}catch{}this.store=Z1(J1(X1(()=>({connectors:typeof e=="function"?e():e,provider:this.getProvider({chainId:a}),status:o,webSocketProvider:this.getWebSocketProvider({chainId:a})}),{name:Xa,storage:n,partialize:d=>{var p,A;return{...r&&{data:{account:(p=d==null?void 0:d.data)==null?void 0:p.account,chain:(A=d==null?void 0:d.data)==null?void 0:A.chain}},chains:d==null?void 0:d.chains}},version:2}))),this.storage=n,hi(this,Gn,n==null?void 0:n.getItem("wallet")),au(this,fo,Vf).call(this),r&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var r,e;return(e=(r=this.data)==null?void 0:r.chain)==null?void 0:e.id}get provider(){return this.store.getState().provider}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketProvider(){return this.store.getState().webSocketProvider}setState(r){const e=typeof r=="function"?r(this.store.getState()):r;this.store.setState(e,!0)}clearState(){this.setState(r=>({...r,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var r,e;this.connector&&await((e=(r=this.connector).disconnect)==null?void 0:e.call(r)),hi(this,xn,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(Es(this,xn))return;hi(this,xn,!0),this.setState(t=>{var n;return{...t,status:(n=t.data)!=null&&n.account?"reconnecting":"connecting"}});const r=Es(this,Gn)?[...this.connectors].sort(t=>t.id===Es(this,Gn)?-1:1):this.connectors;let e=!1;for(const t of r){if(!t.ready||!t.isAuthorized||!await t.isAuthorized())continue;const i=await t.connect();this.setState(s=>({...s,connector:t,chains:t==null?void 0:t.chains,data:i,status:"connected"})),e=!0;break}return e||this.setState(t=>({...t,data:void 0,status:"disconnected"})),hi(this,xn,!1),this.data}getProvider({bust:r,chainId:e}={}){let t=this.providers.get(e??-1);if(t&&!r)return t;const{provider:n}=this.config;return t=typeof n=="function"?n({chainId:e}):n,this.providers.set(e??-1,t),t}getWebSocketProvider({bust:r,chainId:e}={}){let t=this.webSocketProviders.get(e??-1);if(t&&!r)return t;const{webSocketProvider:n}=this.config;return t=typeof n=="function"?n({chainId:e}):n,t&&this.webSocketProviders.set(e??-1,t),t}setLastUsedConnector(r=null){var e;(e=this.storage)==null||e.setItem("wallet",r)}};xn=new WeakMap;Gn=new WeakMap;fo=new WeakSet;Vf=function(){const r=a=>{this.setState(u=>({...u,data:{...u.data,...a}}))},e=()=>{this.clearState()},t=a=>{this.setState(u=>({...u,error:a}))};this.store.subscribe(({connector:a})=>a,(a,u)=>{var l,d,p,A,E,P;(l=u==null?void 0:u.off)==null||l.call(u,"change",r),(d=u==null?void 0:u.off)==null||d.call(u,"disconnect",e),(p=u==null?void 0:u.off)==null||p.call(u,"error",t),a&&((A=a.on)==null||A.call(a,"change",r),(E=a.on)==null||E.call(a,"disconnect",e),(P=a.on)==null||P.call(a,"error",t))});const{provider:n,webSocketProvider:i}=this.config;(typeof n=="function"||typeof i=="function")&&this.store.subscribe(({data:a})=>{var u;return(u=a==null?void 0:a.chain)==null?void 0:u.id},a=>{this.setState(u=>({...u,provider:this.getProvider({bust:!0,chainId:a}),webSocketProvider:this.getWebSocketProvider({bust:!0,chainId:a})}))})};var co;function vb(r){const e=new ob(r);return co=e,e}function mt(){if(!co)throw new Error("No wagmi client found. Ensure you have set up a client: https://wagmi.sh/react/client");return co}async function wb({chainId:r,connector:e}){const t=mt(),n=t.connector;if(n&&e.id===n.id)throw new hb;try{t.setState(s=>({...s,status:"connecting"}));const i=await e.connect({chainId:r});return t.setLastUsedConnector(e.id),t.setState(s=>({...s,connector:e,chains:e==null?void 0:e.chains,data:i,status:"connected"})),t.storage.setItem("connected",!0),{...i,connector:e}}catch(i){throw t.setState(s=>({...s,status:s.connector?"connected":"disconnected"})),i}}async function Ab(){const r=mt();r.connector&&await r.connector.disconnect(),r.clearState(),r.storage.removeItem("connected")}function Qf({address:r,abi:e,signerOrProvider:t}){return new mf(r,e,t)}async function ab({abi:r,address:e,chainId:t,functionName:n,overrides:i,signer:s,...o}){const a=s??await Lo({chainId:t});if(!a)throw new jt;t&&Do({chainId:t,signer:a});const u=Qf({address:e,abi:r,signerOrProvider:a}),l=o.args,d=$f({contract:u,functionName:n,args:l}),p=u.populateTransaction[d];if(!p)throw new rc({address:e,functionName:d});const A=[...l??[],...i?[i]:[]],E=await p(...A),P=E.gasLimit||await a.estimateGas(E);return{abi:tb({abi:r,functionName:n}),address:e,chainId:t,functionName:n,mode:"prepared",request:{...E,gasLimit:P}}}function Yf({chainId:r}={}){const e=mt();return r&&e.getProvider({chainId:r})||e.provider}async function Eb({address:r,chainId:e,abi:t,functionName:n,overrides:i,...s}){const o=Yf({chainId:e}),a=Qf({address:r,abi:t,signerOrProvider:o}),u=s.args,l=$f({contract:a,functionName:n,args:u}),d=a[l];if(!d)throw new rc({address:r,functionName:l});const p=[...u??[],...i?[i]:[]];return d==null?void 0:d(...p)}async function fb({chainId:r,mode:e,request:t}){var i;const n=await Lo();if(!n)throw new jt;if(e==="prepared"){if(!t.gasLimit)throw new Error("`gasLimit` is required");if(!t.to)throw new Error("`to` is required")}r&&Do({chainId:r,signer:n});try{const s=(i=n.connectUnchecked)==null?void 0:i.call(n),{hash:o,wait:a}=await(s??n).sendTransaction(t);return{hash:o,wait:a}}catch(s){throw s.code===4001||s.code==="ACTION_REJECTED"?new Ri(s):s}}async function _b(r){const e=await Lo();if(!e)throw new jt;r.chainId&&Do({chainId:r.chainId,signer:e});let t;return r.mode==="prepared"?t=r.request:t=(await ab({address:r.address,args:r.args,chainId:r.chainId,abi:r.abi,functionName:r.functionName,overrides:r.overrides})).request,await fb({request:t,mode:"prepared"})}async function Lo({chainId:r}={}){var n,i;return await((i=(n=mt().connector)==null?void 0:n.getSigner)==null?void 0:i.call(n,{chainId:r}))||null}function cb(){const{data:r,connector:e,status:t}=mt();switch(t){case"connected":return{address:r==null?void 0:r.account,connector:e,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:t};case"reconnecting":return{address:r==null?void 0:r.account,connector:e,isConnected:!!(r!=null&&r.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:t};case"connecting":return{address:r==null?void 0:r.account,connector:e,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:t};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:t}}}function Xf(){var i,s,o;const r=mt(),e=(s=(i=r.data)==null?void 0:i.chain)==null?void 0:s.id,t=r.chains??[],n=[...r.provider.chains||[],...t].find(a=>a.id===e)??{id:e,name:`Chain ${e}`,network:`${e}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:e?{...n,...(o=r.data)==null?void 0:o.chain,id:e}:void 0,chains:t}}async function Sb({chainId:r}){const{connector:e}=mt();if(!e)throw new jt;if(!e.switchChain)throw new bb({connector:e});return e.switchChain(r)}function Pb(r,{selector:e=t=>t}={}){const t=mt(),n=()=>r(cb());return t.subscribe(({data:s,connector:o,status:a})=>e({address:s==null?void 0:s.account,connector:o,status:a}),n,{equalityFn:Wf})}function Cb(r,{selector:e=t=>t}={}){const t=mt(),n=()=>r(Xf());return t.subscribe(({data:s,chains:o})=>{var a;return e({chainId:(a=s==null?void 0:s.chain)==null?void 0:a.id,chains:o})},n,{equalityFn:Wf})}var Zf=class extends Error{constructor(r,e){const{cause:t,code:n,data:i}=e;if(!Number.isInteger(n))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.cause=t,this.code=n,this.data=i}},ec=class extends Zf{constructor(r,e){const{cause:t,code:n,data:i}=e;if(!(Number.isInteger(n)&&n>=1e3&&n<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(r,{cause:t,code:n,data:i})}},ub=class extends Error{constructor(){super(...arguments),this.name="AddChainError",this.message="Error adding chain"}},lb=class extends Error{constructor({activeChain:r,targetChain:e}){super(`Chain mismatch: Expected "${e}", received "${r}".`),this.name="ChainMismatchError"}},tc=class extends Error{constructor({chainId:r,connectorId:e}){super(`Chain "${r}" not configured for connector "${e}".`),this.name="ChainNotConfigured"}},hb=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},jt=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}},rc=class extends Error{constructor({address:r,chainId:e,functionName:t}){var a;const{chains:n,network:i}=Yf(),s=n==null?void 0:n.find(({id:u})=>u===(e||i.chainId)),o=(a=s==null?void 0:s.blockExplorers)==null?void 0:a.default;super([`Function "${t}" on contract "${r}" does not exist.`,...o?["",`${o==null?void 0:o.name}: ${o==null?void 0:o.url}/address/${r}#readContract`]:[]].join(`
`)),this.name="ContractMethodDoesNotExistError"}},db=class extends Zf{constructor(r){super("Resource unavailable",{cause:r,code:-32002}),this.name="ResourceUnavailable"}},xb=class extends ec{constructor(r){super("Error switching chain",{cause:r,code:4902}),this.name="SwitchChainError"}},bb=class extends Error{constructor({connector:r}){super(`"${r.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}},Ri=class extends ec{constructor(r){super("User rejected request",{cause:r,code:4001}),this.name="UserRejectedRequestError"}};export{tu as A,j as B,mf as C,ub as D,As as E,lc as F,vr as G,Gs as H,Ws as I,e1 as J,Ze as K,T as L,cu as M,gb as N,Js as O,js as P,db as R,xb as S,Ri as U,u1 as W,rr as _,U as a,vb as b,yb as c,Ab as d,Xf as e,Pb as f,cb as g,Cb as h,Yc as i,wb as j,K1 as k,ea as l,Ss as m,jt as n,Zo as o,ab as p,mt as q,Eb as r,Sb as s,hu as t,Er as u,li as v,_b as w,mb as x,Va as y,tc as z};
